(this.webpackJsonpapp=this.webpackJsonpapp||[]).push([[0],[,,,function(e,t,n){"use strict";var r=n(180);n.o(r,"PatternPreviewBackground")&&n.d(t,"PatternPreviewBackground",(function(){return r.PatternPreviewBackground})),n.o(r,"SUPPORTED_IMAGE_UPLOAD_TYPES")&&n.d(t,"SUPPORTED_IMAGE_UPLOAD_TYPES",(function(){return r.SUPPORTED_IMAGE_UPLOAD_TYPES})),n.o(r,"createSectionedMenu")&&n.d(t,"createSectionedMenu",(function(){return r.createSectionedMenu})),n.o(r,"getGradientBackground")&&n.d(t,"getGradientBackground",(function(){return r.getGradientBackground})),n.o(r,"mergeEventHandlers")&&n.d(t,"mergeEventHandlers",(function(){return r.mergeEventHandlers})),n.o(r,"sketchColorToHex")&&n.d(t,"sketchColorToHex",(function(){return r.sketchColorToHex})),n.o(r,"sketchColorToRgba")&&n.d(t,"sketchColorToRgba",(function(){return r.sketchColorToRgba})),n.o(r,"sketchColorToRgbaString")&&n.d(t,"sketchColorToRgbaString",(function(){return r.sketchColorToRgbaString})),n.o(r,"useGlobalInputBlurTrigger")&&n.d(t,"useGlobalInputBlurTrigger",(function(){return r.useGlobalInputBlurTrigger})),n.o(r,"useHover")&&n.d(t,"useHover",(function(){return r.useHover}));var a=n(75);n.d(t,"lightTheme",(function(){return a}));var o=n(181);n.d(t,"darkTheme",(function(){return o}));var i=n(102);n.d(t,"Button",(function(){return i.a}));var c=n(182);n.d(t,"Label",(function(){return c}));var s=n(183);n.d(t,"Select",(function(){return s.a}));var u=n(184);n.d(t,"ColorInputField",(function(){return u.a}));var l=n(110);n.d(t,"PatternPreviewBackground",(function(){return l.b}));var d=n(189);n.d(t,"LabeledElementView",(function(){return d.a}));var f=n(190);n.d(t,"Slider",(function(){return f.a}));var b=n(191);n.d(t,"TreeView",(function(){return b}));var h=n(192);n.d(t,"Divider",(function(){return h.a}));var p=n(193);n.d(t,"ColorPicker",(function(){return p.a}));var j=n(194);n.d(t,"GradientPicker",(function(){return j.a}));var m=n(72);n.d(t,"ListView",(function(){return m}));var v=n(195);n.d(t,"GridView",(function(){return v}));n(83);var g=n(202);n.d(t,"InputField",(function(){return g}));var O=n(196);n.d(t,"RadioGroup",(function(){return O}));var y=n(41);n.d(t,"Spacer",(function(){return y}));var x=n(197);n.d(t,"Tooltip",(function(){return x.a}));var S=n(107);n.d(t,"ContextMenu",(function(){return S.a}));var C=n(198);n.d(t,"DropdownMenu",(function(){return C.a}));var w=n(105);n.d(t,"ScrollArea",(function(){return w.a}));var k=n(31);n.d(t,"SEPARATOR_ITEM",(function(){return k.c}));var P=n(109);n.d(t,"useGlobalInputBlurTrigger",(function(){return P.b}));var T=n(199);n.d(t,"mergeEventHandlers",(function(){return T.a}));var I=n(106);n.d(t,"useHover",(function(){return I.a}));var M=n(52);n.d(t,"sketchColorToHex",(function(){return M.b})),n.d(t,"sketchColorToRgba",(function(){return M.c})),n.d(t,"sketchColorToRgbaString",(function(){return M.d}));var A=n(200);n.d(t,"createSectionedMenu",(function(){return A.a}));var F=n(103);n.d(t,"getGradientBackground",(function(){return F.a}));var L=n(201);n.d(t,"SUPPORTED_IMAGE_UPLOAD_TYPES",(function(){return L.a}));var R=n(108);n.d(t,"withSeparatorElements",(function(){return R.a}))},,function(e,t,n){"use strict";var r=n(7),a=n(132);n.d(t,"Overrides",(function(){return a}));var o=n(18);n.d(t,"Layers",(function(){return o}));var i=n(139);n.d(t,"GroupLayouts",(function(){return i}));var c=n(140);n.d(t,"ExportOptions",(function(){return c}));var s=n(9);n.d(t,"Selectors",(function(){return s}));var u=n(203);n.d(t,"TextStyleSelectors",(function(){return u}));var l=n(171);n.d(t,"createInitialWorkspaceState",(function(){return l.a})),n.d(t,"workspaceReducer",(function(){return l.b}));n(84),n(71);var d=n(46);n.d(t,"compassDirections",(function(){return d.a})),n.d(t,"getCardinalDirections",(function(){return d.c}));var f=n(172);n.o(f,"CHECKERED_BACKGROUND_BYTES")&&n.d(t,"CHECKERED_BACKGROUND_BYTES",(function(){return f.CHECKERED_BACKGROUND_BYTES})),n.o(f,"clampRotation")&&n.d(t,"clampRotation",(function(){return f.clampRotation})),n.o(f,"decodeCurvePoint")&&n.d(t,"decodeCurvePoint",(function(){return f.decodeCurvePoint})),n.o(f,"encodeCurvePoint")&&n.d(t,"encodeCurvePoint",(function(){return f.encodeCurvePoint})),n.o(f,"getAxisValues")&&n.d(t,"getAxisValues",(function(){return f.getAxisValues})),n.o(f,"getLayerAxisInfo")&&n.d(t,"getLayerAxisInfo",(function(){return f.getLayerAxisInfo})),n.o(f,"getLineDragHandles")&&n.d(t,"getLineDragHandles",(function(){return f.getLineDragHandles})),n.o(f,"getPossibleSnapLayers")&&n.d(t,"getPossibleSnapLayers",(function(){return f.getPossibleSnapLayers})),n.o(f,"getRectDragHandles")&&n.d(t,"getRectDragHandles",(function(){return f.getRectDragHandles})),n.o(f,"getSelectedLineLayer")&&n.d(t,"getSelectedLineLayer",(function(){return f.getSelectedLineLayer})),n.o(f,"getSnappingPairs")&&n.d(t,"getSnappingPairs",(function(){return f.getSnappingPairs})),n.o(f,"getStrokedPath")&&n.d(t,"getStrokedPath",(function(){return f.getStrokedPath})),n.o(f,"isLine")&&n.d(t,"isLine",(function(){return f.isLine})),n.o(f,"isPointsLayer")&&n.d(t,"isPointsLayer",(function(){return f.isPointsLayer})),n.o(f,"parsePoint")&&n.d(t,"parsePoint",(function(){return f.parsePoint})),n.o(f,"path")&&n.d(t,"path",(function(){return f.path})),n.o(f,"resizeRect")&&n.d(t,"resizeRect",(function(){return f.resizeRect})),n.o(f,"stringifyPoint")&&n.d(t,"stringifyPoint",(function(){return f.stringifyPoint}));var b=n(95);n.d(t,"Primitives",(function(){return b})),n.d(t,"decodeCurvePoint",(function(){return b.decodeCurvePoint})),n.d(t,"encodeCurvePoint",(function(){return b.encodeCurvePoint})),n.d(t,"getStrokedPath",(function(){return b.getStrokedPath})),n.d(t,"parsePoint",(function(){return b.parsePoint})),n.d(t,"path",(function(){return b.path})),n.d(t,"resizeRect",(function(){return b.resizeRect})),n.d(t,"stringifyPoint",(function(){return b.stringifyPoint}));var h=n(173);n.d(t,"getLineDragHandles",(function(){return h.a})),n.d(t,"getRectDragHandles",(function(){return h.b}));var p=n(98);n.d(t,"CHECKERED_BACKGROUND_BYTES",(function(){return p.a}));var j=n(49);n.d(t,"getAxisValues",(function(){return j.b})),n.d(t,"getLayerAxisInfo",(function(){return j.c})),n.d(t,"getPossibleSnapLayers",(function(){return j.d})),n.d(t,"getSnappingPairs",(function(){return j.e})),n.d(t,"isPointsLayer",(function(){return o.isPointsLayer}));n(99);var m=n(38);n.d(t,"clampRotation",(function(){return m.a}));var v=n(94);n.d(t,"isLine",(function(){return v.h}));var g=n(57);n.d(t,"getSelectedLineLayer",(function(){return g.l})),Object(r.b)(!1)},,,,function(e,t,n){"use strict";n.r(t),n.d(t,"getLayersInRect",(function(){return r.e})),n.d(t,"getLayerAtPoint",(function(){return r.d})),n.d(t,"getBoundingRect",(function(){return r.b})),n.d(t,"getBoundingPoints",(function(){return r.a})),n.d(t,"getScaleDirectionAtPoint",(function(){return r.f})),n.d(t,"getSelectedRect",(function(){return r.g})),n.d(t,"getBoundingRectMap",(function(){return r.c})),n.d(t,"getLayerIndexPath",(function(){return a.d})),n.d(t,"findPageLayerIndexPaths",(function(){return a.a})),n.d(t,"getSelectedLayerIndexPaths",(function(){return a.f})),n.d(t,"getLayerIndexPathsExcludingDescendants",(function(){return a.e})),n.d(t,"getSelectedLayerIndexPathsExcludingDescendants",(function(){return a.g})),n.d(t,"getIndexPathsForGroup",(function(){return a.b})),n.d(t,"getIndexPathsOfArtboardLayers",(function(){return a.c})),n.d(t,"getSelectedLayersExcludingDescendants",(function(){return o.i})),n.d(t,"getSelectedTextLayers",(function(){return o.m})),n.d(t,"getSelectedLayers",(function(){return o.h})),n.d(t,"getSelectedLayersWithContextSettings",(function(){return o.j})),n.d(t,"getSelectedLayersWithFixedRadius",(function(){return o.k})),n.d(t,"makeGetPageLayers",(function(){return o.n})),n.d(t,"deleteLayers",(function(){return o.c})),n.d(t,"getParentLayer",(function(){return o.e})),n.d(t,"addSiblingLayer",(function(){return o.a})),n.d(t,"getRightMostLayerBounds",(function(){return o.g})),n.d(t,"findSymbolMaster",(function(){return o.d})),n.d(t,"addToParentLayer",(function(){return o.b})),n.d(t,"getSelectedLineLayer",(function(){return o.l})),n.d(t,"getParentLayerAtPoint",(function(){return o.f})),n.d(t,"moveLayer",(function(){return o.o})),n.d(t,"getCurrentPageIndex",(function(){return i.b})),n.d(t,"getSymbolsPageIndex",(function(){return i.e})),n.d(t,"getCurrentPage",(function(){return i.a})),n.d(t,"getCurrentPageMetadata",(function(){return i.c})),n.d(t,"getCurrentSymbolPageIndex",(function(){return i.d})),n.d(t,"getSelectedStyles",(function(){return u})),n.d(t,"visitStyleColors",(function(){return l})),n.d(t,"visitLayerColors",(function(){return d})),n.d(t,"getSharedSwatches",(function(){return c.h})),n.d(t,"getGradientAssets",(function(){return c.a})),n.d(t,"getImageAssets",(function(){return c.b})),n.d(t,"getSharedTextStyles",(function(){return c.i})),n.d(t,"getSharedStyles",(function(){return c.g})),n.d(t,"getSelectedSwatches",(function(){return c.d})),n.d(t,"getSelectedLayerStyles",(function(){return c.c})),n.d(t,"getSelectedThemeTextStyles",(function(){return c.f})),n.d(t,"groupThemeComponents",(function(){return c.m})),n.d(t,"setComponentName",(function(){return c.n})),n.d(t,"getSymbols",(function(){return c.j})),n.d(t,"getSelectedSymbols",(function(){return c.e})),n.d(t,"getSymbolsInstancesIndexPaths",(function(){return c.l})),n.d(t,"getSymbolsInstancesIds",(function(){return c.k})),n.d(t,"setNewPatternFill",(function(){return c.o})),n.d(t,"getLayerTransform",(function(){return f.h})),n.d(t,"getLayerFlipTransform",(function(){return f.c})),n.d(t,"getLayerTranslationTransform",(function(){return f.k})),n.d(t,"getLayerRotationTransform",(function(){return f.g})),n.d(t,"getLayerTransformAtIndexPath",(function(){return f.i})),n.d(t,"getLayerTransformAtIndexPathReversed",(function(){return f.j})),n.d(t,"getLayerRotationMultiplier",(function(){return f.e})),n.d(t,"clampRotation",(function(){return f.a})),n.d(t,"getLayerRotation",(function(){return f.d})),n.d(t,"getLayerRotationRadians",(function(){return f.f})),n.d(t,"getScreenTransform",(function(){return f.l})),n.d(t,"getCanvasTransform",(function(){return f.b})),n.d(t,"getCurrentTab",(function(){return s.b})),n.d(t,"getCurrentComponentsTab",(function(){return s.a})),n.d(t,"POINT_RADIUS",(function(){return b.a})),n.d(t,"isPointInRange",(function(){return b.i})),n.d(t,"isLine",(function(){return b.h})),n.d(t,"computeNewBoundingRect",(function(){return b.b})),n.d(t,"getSelectedPoints",(function(){return b.g})),n.d(t,"getCurvePointForSelectedControlPoint",(function(){return b.d})),n.d(t,"getIndexPathOfOpenShapeLayer",(function(){return b.e})),n.d(t,"getIsEditingPath",(function(){return b.f})),n.d(t,"moveSelectedPoints",(function(){return b.k})),n.d(t,"fixZeroLayerDimensions",(function(){return b.c})),n.d(t,"moveControlPoints",(function(){return b.j})),n.d(t,"canClosePath",(function(){return j})),n.d(t,"getCursorForEditPathMode",(function(){return m})),n.d(t,"getPathElementAtPoint",(function(){return v}));var r=n(96),a=n(58),o=n(57),i=n(26),c=n(37),s=n(69),u=function(e){var t=Object(s.b)(e),n=Object(s.a)(e);return"canvas"===t?Object(o.h)(e).flatMap((function(e){return e.style?[e.style]:[]})):"layerStyles"===n?Object(c.c)(e).map((function(e){return e.value})):Object(c.f)(e).map((function(e){return e.value}))};function l(e,t){var n,r,a,o,i;(null===e||void 0===e||null===(n=e.textStyle)||void 0===n?void 0:n.encodedAttributes.MSAttributedStringColorAttribute)&&t(null===e||void 0===e||null===(i=e.textStyle)||void 0===i?void 0:i.encodedAttributes.MSAttributedStringColorAttribute);null===e||void 0===e||null===(r=e.fills)||void 0===r||r.forEach((function(e){return t(e.color)})),null===e||void 0===e||null===(a=e.borders)||void 0===a||a.forEach((function(e){return t(e.color)})),null===e||void 0===e||null===(o=e.shadows)||void 0===o||o.forEach((function(e){return t(e.color)})),null===e||void 0===e||e.innerShadows.forEach((function(e){return t(e.color)}))}function d(e,t){if(e.style&&l(e.style,t),"text"===e._class){var n=e.attributedString.attributes;n&&n.forEach((function(e){e.attributes.MSAttributedStringColorAttribute&&t(e.attributes.MSAttributedStringColorAttribute)}))}}var f=n(38),b=n(94),h=n(4),p=n(5);function j(e,t){if(e.keyModifiers.shiftKey)return!1;var n=Object(h.a)(t,2),r=n[0],a=n[1],o=p.Layers.find(Object(i.a)(e),(function(e){return e.do_objectID===r}));if(!o||!p.Layers.isPointsLayer(o))return!1;if(o.points.length<2)return!1;var c=Object(b.e)(e);if(!c)return!1;var s=o.points.length-1;return a===s&&0===c.pointIndex||0===a&&c.pointIndex===s}var m=function(e,t){var n=v(e,t);return n?"point"===n.type&&j(e,n.value)?"pointer":"move":Object(b.e)(e)?"crosshair":"default"};function v(e,t){var n,a=void 0,c=Object(r.c)(Object(i.a)(e),e.selectedObjects,{clickThroughGroups:!0,includeArtboardLayers:!1,includeHiddenLayers:!1});return Object(o.h)(e).filter(p.Layers.isPointsLayer).forEach((function(e){var r=c[e.do_objectID];e.points.forEach((function(o,i){var c=Object(p.decodeCurvePoint)(o,r);Object(b.i)(c.point,t)?a=[e.do_objectID,i]:Object(b.i)(c.curveTo,t)?n={layerId:e.do_objectID,pointIndex:i,controlPointType:"curveTo"}:Object(b.i)(c.curveFrom,t)&&(n={layerId:e.do_objectID,pointIndex:i,controlPointType:"curveFrom"})}))})),a?{type:"point",value:a}:n?{type:"controlPoint",value:n}:void 0}},function(e,t,n){"use strict";n.d(t,"getPathToWasm",(function(){return P}));var r=n(145);n.d(t,"isShallowEqual",(function(){return r.a}));var a=n(146);n.d(t,"isDeepEqual",(function(){return a.a}));var o=n(147);n.d(t,"isNumberEqual",(function(){return o.a}));var i=n(148);n.d(t,"zip",(function(){return i.a})),n.d(t,"zipLongest",(function(){return i.b}));var c=n(149);n.d(t,"clamp",(function(){return c.a}));var s=n(150);n.d(t,"sum",(function(){return s.a}));var u=n(151);n.d(t,"round",(function(){return u.a}));var l=n(97);n.d(t,"windowsOf",(function(){return l.a}));var d=n(152);n.d(t,"sortBy",(function(){return d.a}));var f=n(153);n.d(t,"chunkBy",(function(){return f.a}));var b=n(154);n.d(t,"groupBy",(function(){return b.a}));var h=n(155);n.d(t,"getIncrementedName",(function(){return h.a}));var p=n(156);n.d(t,"interpolate",(function(){return p.a}));var j=n(157);n.d(t,"rotate",(function(){return j.a}));var m=n(158);n.d(t,"invert",(function(){return m.a}));var v=n(159);n.d(t,"Base64",(function(){return v.a}));var g=n(160);n.d(t,"UTF16",(function(){return g.a}));var O=n(161);n.d(t,"detectFileType",(function(){return O.a})),n.d(t,"getFileExtensionForType",(function(){return O.b})),n.d(t,"getFileTypeForExtension",(function(){return O.c}));var y=n(162);n.d(t,"memoize",(function(){return y.a}));var x=n(163);n.d(t,"delimitedPath",(function(){return x}));var S=n(164);n.o(S,"SuspendedValue")&&n.d(t,"SuspendedValue",(function(){return S.SuspendedValue}));var C=n(165);n.d(t,"SuspendedValue",(function(){return C.a}));var w=n(166);n.d(t,"uuid",(function(){return w.v4}));var k="/wasm/";function P(){return k}},function(e,t,n){"use strict";var r=n(141);n.o(r,"AffineTransform")&&n.d(t,"AffineTransform",(function(){return r.AffineTransform})),n.o(r,"center")&&n.d(t,"center",(function(){return r.center})),n.o(r,"computeBoundsFromPoints")&&n.d(t,"computeBoundsFromPoints",(function(){return r.computeBoundsFromPoints})),n.o(r,"createBounds")&&n.d(t,"createBounds",(function(){return r.createBounds})),n.o(r,"createRect")&&n.d(t,"createRect",(function(){return r.createRect})),n.o(r,"createRectFromBounds")&&n.d(t,"createRectFromBounds",(function(){return r.createRectFromBounds})),n.o(r,"distance")&&n.d(t,"distance",(function(){return r.distance})),n.o(r,"getRectCornerPoints")&&n.d(t,"getRectCornerPoints",(function(){return r.getRectCornerPoints})),n.o(r,"insetRect")&&n.d(t,"insetRect",(function(){return r.insetRect})),n.o(r,"normalizeRect")&&n.d(t,"normalizeRect",(function(){return r.normalizeRect})),n.o(r,"rectContainsPoint")&&n.d(t,"rectContainsPoint",(function(){return r.rectContainsPoint})),n.o(r,"rectsIntersect")&&n.d(t,"rectsIntersect",(function(){return r.rectsIntersect})),n.o(r,"resize")&&n.d(t,"resize",(function(){return r.resize})),n.o(r,"resizeIfLarger")&&n.d(t,"resizeIfLarger",(function(){return r.resizeIfLarger})),n.o(r,"rotatedRectContainsPoint")&&n.d(t,"rotatedRectContainsPoint",(function(){return r.rotatedRectContainsPoint})),n.o(r,"toDegrees")&&n.d(t,"toDegrees",(function(){return r.toDegrees})),n.o(r,"toRadians")&&n.d(t,"toRadians",(function(){return r.toRadians})),n.o(r,"transformRect")&&n.d(t,"transformRect",(function(){return r.transformRect})),n.o(r,"unionRects")&&n.d(t,"unionRects",(function(){return r.unionRects}));var a=n(142);n.d(t,"toDegrees",(function(){return a.a})),n.d(t,"toRadians",(function(){return a.b}));var o=n(143);n.d(t,"distance",(function(){return o.a}));var i=n(144);n.d(t,"computeBoundsFromPoints",(function(){return i.a})),n.d(t,"createBounds",(function(){return i.b})),n.d(t,"createRect",(function(){return i.c})),n.d(t,"createRectFromBounds",(function(){return i.d})),n.d(t,"getRectCornerPoints",(function(){return i.e})),n.d(t,"insetRect",(function(){return i.f})),n.d(t,"normalizeRect",(function(){return i.g})),n.d(t,"rectContainsPoint",(function(){return i.h})),n.d(t,"rectsIntersect",(function(){return i.i})),n.d(t,"rotatedRectContainsPoint",(function(){return i.j})),n.d(t,"transformRect",(function(){return i.k})),n.d(t,"unionRects",(function(){return i.l}));var c=n(169);n.d(t,"center",(function(){return c.a})),n.d(t,"resize",(function(){return c.b})),n.d(t,"resizeIfLarger",(function(){return c.c}));var s=n(170);n.d(t,"AffineTransform",(function(){return s.a}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"h",(function(){return d})),n.d(t,"c",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return h})),n.d(t,"d",(function(){return p})),n.d(t,"f",(function(){return j})),n.d(t,"g",(function(){return m}));var r=n(4),a=n(1),o=n(3),i=n(0),c=Object(i.createContext)(void 0),s=function(){},u=Object(i.createContext)(s),l=Object(i.memo)((function(e){var t=e.state,n=e.dispatch,r=e.children;return Object(a.jsx)(c.Provider,{value:t,children:Object(a.jsx)(u.Provider,{value:null!==n&&void 0!==n?n:s,children:r})})})),d=function(){var e=Object(i.useContext)(c);if(!e)throw new Error("Missing StateProvider");return e},f=function(){var e=Object(i.useContext)(u),t=Object(o.useGlobalInputBlurTrigger)();return Object(i.useCallback)((function(){for(var n=arguments.length,r=new Array(n),a=0;a<n;a++)r[a]=arguments[a];"selectLayer"!==r[0]&&"selectPage"!==r[0]&&"setTab"!==r[0]||t(),e(r)}),[e,t])},b=function(){var e=d(),t=f();return Object(i.useMemo)((function(){return[e.history.present,t]}),[e.history.present,t])},h=function(){var e=d(),t=Object(i.useRef)(e);return Object(i.useLayoutEffect)((function(){t.current=e}),[e]),Object(i.useCallback)((function(){return t.current}),[])},p=function(){var e=h();return Object(i.useCallback)((function(){return e().history.present}),[e])};function j(e){var t=b(),n=Object(r.a)(t,1)[0];return Object(i.useMemo)((function(){return e(n)}),[e,n])}function m(){var e=d(),t=f(),n=e.fileHandle,r=e.highlightedLayer,a=e.canvasSize,o=e.canvasInsets,c=e.preferences,s=Object(i.useCallback)((function(e,n){t("setCanvasSize",e,n)}),[t]),u=Object(i.useCallback)((function(e){return t("setShowRulers",e)}),[t]),l=Object(i.useCallback)((function(e){return t("highlightLayer",e)}),[t]);return Object(i.useMemo)((function(){return{canvasInsets:o,canvasSize:a,fileHandle:n,highlightedLayer:r,highlightLayer:l,preferences:c,setCanvasSize:s,setShowRulers:u}}),[o,a,n,r,l,c,s,u])}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return M}));var r=n(2),a=n(6),o=n(10),i=n(4),c={decode:function(e){var t=e.slice(1,-1).split(","),n=Object(i.a)(t,2),r=n[0],a=n[1];return{x:parseFloat(r),y:parseFloat(a)}},encode:function(e){var t=e.x,n=e.y;return"{".concat(t.toString(),",").concat(n.toString(),"}")}};n(13),n(14),n(35);function s(e){var t,n,r,o;return{red:null!==(t=null===e||void 0===e?void 0:e.red)&&void 0!==t?t:0,green:null!==(n=null===e||void 0===e?void 0:e.green)&&void 0!==n?n:0,blue:null!==(r=null===e||void 0===e?void 0:e.blue)&&void 0!==r?r:0,alpha:null!==(o=null===e||void 0===e?void 0:e.alpha)&&void 0!==o?o:1,_class:a.a.ClassValue.Color}}function u(e){var t,n,r,o;return{x:null!==(t=null===e||void 0===e?void 0:e.x)&&void 0!==t?t:0,y:null!==(n=null===e||void 0===e?void 0:e.y)&&void 0!==n?n:0,width:null!==(r=null===e||void 0===e?void 0:e.width)&&void 0!==r?r:0,height:null!==(o=null===e||void 0===e?void 0:e.height)&&void 0!==o?o:0,constrainProportions:!1,_class:a.a.ClassValue.Rect}}function l(e){return Object(r.a)(Object(r.a)({cornerRadius:0,curveFrom:"{0, 0}",curveMode:a.a.CurveMode.Straight,curveTo:"{0, 0}",hasCurveFrom:!1,hasCurveTo:!1,point:"{0, 0}"},e),{},{_class:a.a.ClassValue.CurvePoint})}function d(e){return Object(r.a)(Object(r.a)({blendMode:a.a.BlendMode.Normal,opacity:1},e),{},{_class:a.a.ClassValue.GraphicsContextSettings})}function f(e){return Object(r.a)(Object(r.a)({position:0,color:s()},e),{},{_class:a.a.ClassValue.GradientStop})}function b(e){return Object(r.a)(Object(r.a)({elipseLength:0,from:"{0.5, 0}",gradientType:0,to:"{0.5, 1}",stops:[f({position:0,color:s({red:1,green:1,blue:1})}),f({position:1,color:s({red:0,green:0,blue:0})})]},e),{},{_class:a.a.ClassValue.Gradient})}function h(e){return Object(r.a)(Object(r.a)({isEnabled:!1,center:"{0.5, 0.5}",motionAngle:0,radius:10,saturation:1,type:a.a.BlurType.Gaussian},e),{},{_class:a.a.ClassValue.Blur})}function p(e){return Object(r.a)(Object(r.a)({isEnabled:!0,dashPattern:[],lineCapStyle:a.a.LineCapStyle.Butt,lineJoinStyle:a.a.LineJoinStyle.Miter},e),{},{_class:a.a.ClassValue.BorderOptions})}function j(e){return Object(r.a)(Object(r.a)({isEnabled:!0,brightness:0,contrast:1,hue:0,saturation:1},e),{},{_class:a.a.ClassValue.ColorControls})}function m(e){return Object(r.a)(Object(r.a)({includedLayerIds:[],layerOptions:0,shouldTrim:!1,exportFormats:[]},e),{},{_class:a.a.ClassValue.ExportOptions})}function v(e){return Object(r.a)(Object(r.a)({attributes:{name:"Helvetica",size:18}},e),{},{_class:a.a.ClassValue.FontDescriptor})}function g(e){return Object(r.a)(Object(r.a)({alignment:a.a.TextHorizontalAlignment.Left},e),{},{_class:a.a.ClassValue.ParagraphStyle})}function O(e){return Object(r.a)({MSAttributedStringFontAttribute:v(),MSAttributedStringColorAttribute:s(),textStyleVerticalAlignmentKey:a.a.TextVerticalAlignment.Top,paragraphStyle:g()},e)}function y(e){return Object(r.a)(Object(r.a)({verticalAlignment:a.a.TextVerticalAlignment.Top,encodedAttributes:O()},e),{},{_class:a.a.ClassValue.TextStyle})}function x(e){var t;return Object(r.a)(Object(r.a)({do_objectID:null!==(t=null===e||void 0===e?void 0:e.do_objectID)&&void 0!==t?t:Object(o.uuid)(),endMarkerType:a.a.MarkerType.OpenArrow,miterLimit:10,startMarkerType:a.a.MarkerType.OpenArrow,windingRule:a.a.WindingRule.EvenOdd,blur:h(),borderOptions:p(),borders:[],colorControls:j(),contextSettings:d(),fills:[],innerShadows:[],shadows:[]},e),{},{_class:a.a.ClassValue.Style})}function S(e){var t;return{do_objectID:null!==(t=null===e||void 0===e?void 0:e.do_objectID)&&void 0!==t?t:Object(o.uuid)(),booleanOperation:a.a.BooleanOperation.None,isFixedToViewport:!1,isFlippedHorizontal:!1,isFlippedVertical:!1,isLocked:!1,isVisible:!0,layerListExpandedType:a.a.LayerListExpanded.Undecided,nameIsFixed:!1,resizingConstraint:63,resizingType:a.a.ResizeType.Stretch,rotation:0,shouldBreakMaskChain:!1,exportOptions:m(),frame:u(),clippingMaskMode:0,hasClippingMask:!1,edited:!1,isClosed:!0,pointRadiusBehaviour:a.a.PointsRadiusBehaviour.Rounded}}function C(e){return Object(r.a)(Object(r.a)({_ref_class:"MSImageData",_ref:"",data:{_data:"iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAQMAAADaua+7AAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAABNJREFUCNdjYOD/TxL+/4GBFAwAvMsj3bQ3H74AAAAASUVORK5CYII="},sha1:{_data:"e17bf8d6e2e327a621e67be822bb4352949bded3"}},e),{},{_class:a.a.ClassValue.MSJSONOriginalDataReference})}function w(e){return Object(r.a)(Object(r.a)({location:0,length:0,attributes:{MSAttributedStringFontAttribute:v(),MSAttributedStringColorAttribute:s(),textStyleVerticalAlignmentKey:a.a.TextVerticalAlignment.Top,paragraphStyle:g()}},e),{},{_class:a.a.ClassValue.StringAttribute})}function k(e){return Object(r.a)(Object(r.a)({string:"",attributes:[w()]},e),{},{_class:a.a.ClassValue.AttributedString})}function P(e){return Object(r.a)(Object(r.a)({base:0,guides:[]},e),{},{_class:a.a.ClassValue.RulerData})}function T(e){return Object(r.a)(Object(r.a)({axis:a.a.InferredLayoutAxis.Horizontal,layoutAnchor:a.a.InferredLayoutAnchor.Middle,maxSize:0,minSize:0},e),{},{_class:a.a.ClassValue.MSImmutableInferredGroupLayout})}function I(e){return{_class:e,do_objectID:Object(o.uuid)(),objects:[]}}var M={artboard:function(e){return Object(r.a)(Object(r.a)(Object(r.a)({},S(e)),{},{name:"Artboard",hasClickThrough:!1,groupLayout:{_class:"MSImmutableFreeformGroupLayout"},layers:[],hasBackgroundColor:!1,includeBackgroundColorInExport:!0,isFlowHome:!1,presetDictionary:{},resizesContent:!1,backgroundColor:s({blue:1,green:1,red:1}),horizontalRulerData:P(),verticalRulerData:P()},e),{},{_class:a.a.ClassValue.Artboard})},bitmap:function(e){return Object(r.a)(Object(r.a)(Object(r.a)({},S(e)),{},{name:"Image",style:x(),clippingMask:"{{0, 0}, {1, 1}}",fillReplacesImage:!1,image:C(),intendedDPI:72},e),{},{_class:a.a.ClassValue.Bitmap})},border:function(e){return Object(r.a)(Object(r.a)({isEnabled:!0,fillType:a.a.FillType.Color,color:s(),contextSettings:d(),gradient:b(),position:a.a.BorderPosition.Center,thickness:1},e),{},{_class:a.a.ClassValue.Border})},borderOptions:p,color:s,colorControls:j,curvePoint:l,dataReference:C,document:function(e){return Object(r.a)({_class:"document",do_objectID:Object(o.uuid)(),documentState:{_class:"documentState"},colorSpace:0,currentPageIndex:0,assets:{_class:a.a.ClassValue.AssetCollection,do_objectID:Object(o.uuid)(),images:[],colorAssets:[],exportPresets:[],gradientAssets:[],imageCollection:{_class:a.a.ClassValue.ImageCollection,images:{}},colors:[],gradients:[]},fontReferences:[],foreignLayerStyles:[],foreignSwatches:[],foreignSymbols:[],foreignTextStyles:[],layerStyles:I(a.a.ClassValue.SharedStyleContainer),layerTextStyles:I(a.a.ClassValue.SharedTextStyleContainer),sharedSwatches:I(a.a.ClassValue.SwatchContainer),pages:[],layerSymbols:I(a.a.ClassValue.SymbolContainer)},e)},encodedAttributes:O,fileReference:function(e){return{_ref_class:"MSImageData",_ref:e._ref,_class:a.a.ClassValue.MSJSONFileReference}},fill:function(e){return Object(r.a)(Object(r.a)({isEnabled:!0,fillType:a.a.FillType.Color,color:s(),contextSettings:d(),gradient:b(),noiseIndex:0,noiseIntensity:0,patternFillType:a.a.PatternFillType.Fill,patternTileScale:1},e),{},{_class:a.a.ClassValue.Fill})},fontDescriptor:v,freeformGroupLayout:function(){return{_class:a.a.ClassValue.MSImmutableFreeformGroupLayout}},gradient:b,gradientStop:f,graphicsContextSettings:d,group:function(e){return Object(r.a)(Object(r.a)(Object(r.a)({},S(e)),{},{name:"Group",style:x(),hasClickThrough:!1,groupLayout:{_class:"MSImmutableFreeformGroupLayout"},layers:[]},e),{},{_class:a.a.ClassValue.Group})},inferredGroupLayout:T,meta:function(e){var t=a.a.BundleId.PublicRelease,n=109185,o="1cee2bd6f09ef2258eb62d151bbe50dd6c3af3f2",i="NONAPPSTORE",c="70.4";return Object(r.a)({app:t,appVersion:c,autosaved:0,build:n,commit:o,compatibilityVersion:99,created:{commit:o,appVersion:c,build:n,app:t,compatibilityVersion:99,version:134,variant:i},pagesAndArtboards:{},saveHistory:["".concat(i,".").concat(n)],variant:i,version:134},e)},oval:function(e){return Object(r.a)(Object(r.a)(Object(r.a)({},S(e)),{},{name:"Oval",style:x(),points:[l({curveFrom:"{0.77614237490000004, 1}",curveMode:a.a.CurveMode.Mirrored,curveTo:"{0.22385762510000001, 1}",hasCurveFrom:!0,hasCurveTo:!0,point:"{0.5, 1}"}),l({curveFrom:"{1, 0.22385762510000001}",curveMode:a.a.CurveMode.Mirrored,curveTo:"{1, 0.77614237490000004}",hasCurveFrom:!0,hasCurveTo:!0,point:"{1, 0.5}"}),l({curveFrom:"{0.22385762510000001, 0}",curveMode:a.a.CurveMode.Mirrored,curveTo:"{0.77614237490000004, 0}",hasCurveFrom:!0,hasCurveTo:!0,point:"{0.5, 0}"}),l({curveFrom:"{0, 0.77614237490000004}",curveMode:a.a.CurveMode.Mirrored,curveTo:"{0, 0.22385762510000001}",hasCurveFrom:!0,hasCurveTo:!0,point:"{0, 0.5}"})]},e),{},{_class:a.a.ClassValue.Oval})},page:function(e){return Object(r.a)(Object(r.a)(Object(r.a)({},S(e)),{},{name:"Page",hasClickThrough:!1,groupLayout:{_class:"MSImmutableFreeformGroupLayout"},layers:[],horizontalRulerData:P(),verticalRulerData:P()},e),{},{_class:a.a.ClassValue.Page})},paragraphStyle:g,rect:u,rectangle:function(e){var t,n,o,i;return Object(r.a)(Object(r.a)(Object(r.a)({},S(e)),{},{name:"Rectangle",style:x(),points:[l({curveFrom:"{0, 0}",curveTo:"{0, 0}",point:"{0, 0}",cornerRadius:null!==(t=null===e||void 0===e?void 0:e.fixedRadius)&&void 0!==t?t:0}),l({curveFrom:"{1, 0}",curveTo:"{1, 0}",point:"{1, 0}",cornerRadius:null!==(n=null===e||void 0===e?void 0:e.fixedRadius)&&void 0!==n?n:0}),l({curveFrom:"{1, 1}",curveTo:"{1, 1}",point:"{1, 1}",cornerRadius:null!==(o=null===e||void 0===e?void 0:e.fixedRadius)&&void 0!==o?o:0}),l({curveFrom:"{0, 1}",curveTo:"{0, 1}",point:"{0, 1}",cornerRadius:null!==(i=null===e||void 0===e?void 0:e.fixedRadius)&&void 0!==i?i:0})],fixedRadius:0,needsConvertionToNewRoundCorners:!1,hasConvertedToNewRoundCorners:!0},e),{},{_class:a.a.ClassValue.Rectangle})},shadow:function(e){return Object(r.a)(Object(r.a)({isEnabled:!0,color:s(),contextSettings:d(),blurRadius:0,offsetX:0,offsetY:0,spread:0},e),{},{_class:a.a.ClassValue.Shadow})},shapeGroup:function(e){return Object(r.a)(Object(r.a)(Object(r.a)({},S(e)),{},{name:"Path",style:x(),hasClickThrough:!0,layers:[],windingRule:a.a.WindingRule.EvenOdd},e),{},{_class:a.a.ClassValue.ShapeGroup})},shapePath:function(e){return Object(r.a)(Object(r.a)(Object(r.a)({},S(e)),{},{name:"Path",points:[],style:x()},e),{},{_class:a.a.ClassValue.ShapePath})},style:x,symbolInstance:function(e){return Object(r.a)(Object(r.a)(Object(r.a)({},S(e)),{},{name:"Symbol",style:x(),horizontalSpacing:0,scale:1,verticalSpacing:0,overrideValues:[]},e),{},{_class:a.a.ClassValue.SymbolInstance})},symbolMaster:function(e){var t;return Object(r.a)(Object(r.a)(Object(r.a)({},S(e)),{},{name:"Symbol",style:x(),hasClickThrough:!0,groupLayout:T(),layers:[],hasBackgroundColor:!1,includeBackgroundColorInExport:!1,isFlowHome:!1,presetDictionary:{},resizesContent:!1,backgroundColor:s({red:1,green:1,blue:1}),horizontalRulerData:P(),verticalRulerData:P(),allowsOverrides:!0,includeBackgroundColorInInstance:!1,overrideProperties:[],symbolID:null!==(t=null===e||void 0===e?void 0:e.symbolID)&&void 0!==t?t:Object(o.uuid)()},e),{},{_class:a.a.ClassValue.SymbolMaster})},text:function(e){return Object(r.a)(Object(r.a)(Object(r.a)({},S(e)),{},{name:"Text",style:x({textStyle:y()}),attributedString:k(),automaticallyDrawOnUnderlyingPath:!1,dontSynchroniseWithSymbol:!1,glyphBounds:"{{0, 5}, {126, 17}}",lineSpacingBehaviour:3,textBehaviour:a.a.TextBehaviour.Flexible},e),{},{_class:a.a.ClassValue.Text})},textStyle:y,user:function(e){return Object(r.a)({document:{pageListHeight:0,pageListCollapsed:a.a.NumericalBool.False}},e)}}},,function(e,t,n){"use strict";n.r(t),n.d(t,"isParentLayer",(function(){return i})),n.d(t,"isChildLayer",(function(){return c})),n.d(t,"isPointsLayer",(function(){return s})),n.d(t,"isLayerWithEditedProperty",(function(){return u})),n.d(t,"isPageLayer",(function(){return l})),n.d(t,"isTextLayer",(function(){return d})),n.d(t,"isBitmapLayer",(function(){return f})),n.d(t,"isGroup",(function(){return b})),n.d(t,"isSymbolMaster",(function(){return h})),n.d(t,"isArtboard",(function(){return p})),n.d(t,"isSymbolMasterOrArtboard",(function(){return j})),n.d(t,"isSymbolInstance",(function(){return m})),n.d(t,"hasTextStyle",(function(){return v})),n.d(t,"hasInspectableShadow",(function(){return g})),n.d(t,"hasInspectableBorder",(function(){return O})),n.d(t,"getChildren",(function(){return y})),n.d(t,"getChildrenReversed",(function(){return x})),n.d(t,"visit",(function(){return P})),n.d(t,"find",(function(){return T})),n.d(t,"findAll",(function(){return I})),n.d(t,"findIndexPath",(function(){return M})),n.d(t,"access",(function(){return A})),n.d(t,"accessPath",(function(){return F})),n.d(t,"diagram",(function(){return L})),n.d(t,"findInArray",(function(){return R})),n.d(t,"visitReversed",(function(){return _})),n.d(t,"accessReversed",(function(){return E})),n.d(t,"accessPathReversed",(function(){return B})),n.d(t,"INCLUDE_AND_SKIP",(function(){return S})),n.d(t,"EXCLUDE_AND_SKIP",(function(){return C})),n.d(t,"findAllIndexPaths",(function(){return w})),n.d(t,"getFixedRadius",(function(){return z})),n.d(t,"isWithinMaskChain",(function(){return H}));var r=n(43),a=n(14),o=n(35);n.d(t,"SKIP",(function(){return o.SKIP})),n.d(t,"STOP",(function(){return o.STOP}));var i=function(e){switch(e._class){case"artboard":case"group":case"page":case"shapeGroup":case"symbolMaster":return!0;default:return!1}},c=function(e){return"artboard"!==e._class&&"symbolMaster"!==e._class&&"page"!==e._class},s=function(e){return"points"in e},u=function(e){return"edited"in e},l=function(e){return"page"===e._class},d=function(e){return"text"===e._class},f=function(e){return"bitmap"===e._class},b=function(e){return"group"===e._class},h=function(e){return"symbolMaster"===e._class},p=function(e){return"artboard"===e._class},j=function(e){return h(e)||p(e)},m=function(e){return"symbolInstance"===e._class},v=function(e){var t;return!!(null===(t=e.style)||void 0===t?void 0:t.textStyle)},g=function(e){switch(e._class){case"bitmap":case"oval":case"polygon":case"rectangle":case"shapeGroup":case"shapePath":case"star":case"triangle":case"group":case"symbolInstance":case"text":return!0;case"page":case"artboard":case"MSImmutableHotspotLayer":case"slice":case"symbolMaster":return!1}},O=function(e){switch(e._class){case"bitmap":case"oval":case"polygon":case"rectangle":case"shapeGroup":case"shapePath":case"star":case"triangle":case"text":return!0;case"group":case"symbolInstance":case"page":case"artboard":case"MSImmutableHotspotLayer":case"slice":case"symbolMaster":return!1}},y=function(e){return i(e)?e.layers:[]},x=function(e){return Object(a.a)(y(e)).reverse()},S="include_and_skip",C="exclude_and_skip";var w=function(e,t){return function(e,t){var n=[];return Object(o.visit)(e,{onEnter:function(e,r){var o=t.predicate(e,r);if(!0!==o&&o!==S||n.push(Object(a.a)(r)),o===C||o===S)return"skip"},getChildren:t.getChildren}),n}(e,{getChildren:y,predicate:t})},k=Object(o.withOptions)({getChildren:y}),P=k.visit,T=k.find,I=k.findAll,M=k.findIndexPath,A=k.access,F=k.accessPath,L=k.diagram;function R(e,t){for(var n=0;n<e.length;n++){var r=T(e[n],t);if(r)return r}}var D=Object(o.withOptions)({getChildren:x}),_=D.visit,E=D.access,B=D.accessPath;function z(e){return"rectangle"===e._class?e.fixedRadius:0}function H(e,t){var n=Object(a.a)(e.layers).reverse(),o=n[t],i=n.slice(t+1),c=!1;if(!o.shouldBreakMaskChain){var s,u=Object(r.a)(i);try{for(u.s();!(s=u.n()).done;){var l=s.value;if(l.hasClippingMask){c=!0;break}if(l.shouldBreakMaskChain)break}}catch(d){u.e(d)}finally{u.f()}}return c}},function(e,t,n){"use strict";n.d(t,"g",(function(){return $})),n.d(t,"l",(function(){return W})),n.d(t,"k",(function(){return Ee})),n.d(t,"b",(function(){return te})),n.d(t,"j",(function(){return re})),n.d(t,"h",(function(){return ae})),n.d(t,"m",(function(){return oe})),n.d(t,"e",(function(){return ie})),n.d(t,"i",(function(){return ce})),n.d(t,"d",(function(){return se})),n.d(t,"c",(function(){return Ge})),n.d(t,"p",(function(){return Ne})),n.d(t,"a",(function(){return Ue})),n.d(t,"o",(function(){return Ye})),n.d(t,"f",(function(){return x})),n.d(t,"q",(function(){return S})),n.d(t,"r",(function(){return V})),n.d(t,"n",(function(){return Ke}));var r=n(22),a=n.n(r),o=n(25),i=n(126),c=n(10),s=n(1),u=n(11),l=n(5),d=n(0),f=n.n(d),b=n(20),h=n(8);var p=n(2),j=n(63),m=n(4);function v(){return(v=Object(o.a)(a.a.mark((function e(t){var r,o,i,c,s,u,l;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all([n.e(14),n.e(3)]).then(n.t.bind(null,271,7));case 2:return r=e.sent,e.next=5,n.e(6).then(n.t.bind(null,272,7));case 5:return o=e.sent,r.GlobalWorkerOptions.workerSrc=o,i=document.createElement("canvas"),c=i.getContext("2d"),e.next=11,r.getDocument(t).promise;case 11:return s=e.sent,e.next=14,s.getPage(1);case 14:return u=e.sent,l=u.getViewport({scale:1}),i.width=l.width,i.height=l.height,e.next=20,u.render({canvasContext:c,viewport:l,background:"rgba(0,0,0,0)"}).promise;case 20:return e.abrupt("return",new Promise((function(e,t){i.toBlob((function(n){n?e(n):t("Failed to convert canvas to blob")}))})));case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g=n(12),O={},y=Object(d.createContext)(void 0),x=Object(d.memo)((function(e){var t=e.children,n=Object(d.useReducer)((function(e){return e+1}),0),r=Object(m.a)(n,2),a=r[0],o=r[1],i=Object(d.useCallback)((function(e,t){O[e]=t,o()}),[]),c=Object(d.useMemo)((function(){return[O,i]}),[i,a]);return Object(s.jsx)(y.Provider,{value:c,children:t})}));function S(e){var t=Object(g.b)(),n=Object(m.a)(t,1)[0],r=function(){var e=Object(d.useContext)(y);if(!e)throw new Error("Missing ImageCacheProvider");return e}(),a=Object(m.a)(r,2),o=a[0],i=a[1],c=e?o[e._ref]||n.sketch.images[e._ref]:void 0,s=null===e||void 0===e?void 0:e._ref;return Object(d.useEffect)((function(){s&&s.endsWith(".pdf")&&c&&!(s in o)&&function(e){return v.apply(this,arguments)}(new Uint8Array(c)).then((function(e){return e.arrayBuffer()})).then((function(e){i(s,e)}))}),[i,o,c,s]),c}function C(e){var t=.2125*(1-e),n=.7154*(1-e),r=.0721*(1-e);return new Float32Array([[t+e,n,r,0,0],[t,n+e,r,0,0],[t,n,r+e,0,0],[0,0,0,1,0]].flat())}function w(e){var t=(1-e)/2;return new Float32Array([[e,0,0,0,t],[0,e,0,0,t],[0,0,e,0,t],[0,0,0,1,0]].flat())}function k(e){var t=Object(u.toRadians)(e),n=Math.cos(t),r=Math.sin(t);return new Float32Array([[.213+.787*n+-.213*r,.715+-.715*n+-.715*r,.072+-.072*n+.928*r,0,0],[.213+-.213*n+.143*r,.715+.285*n+.14*r,.072+-.072*n+-.283*r,0,0],[.213+-.213*n+-.787*r,.715+-.715*n+.715*r,.072+.928*n+.072*r,0,0],[0,0,0,1,0]].flat())}var P=Object(d.memo)((function(e){var t=e.colorControls,n=e.children,r=Ye(),a=Object(d.useMemo)((function(){var e,n=t.isEnabled,a=t.hue,o=t.saturation,i=t.brightness,c=t.contrast;return n?r.ColorFilter.MakeMatrix(function(e,t){var n=Object(j.a)(t),r=n[0],a=n.slice(1);return r?a.reduce((function(t,n){return e.ColorMatrix.concat(t,n)}),r):e.ColorMatrix.identity()}(r,[k(Object(u.toDegrees)(a)),C(o),(e=i,new Float32Array([[1,0,0,0,e],[0,1,0,0,e],[0,0,1,0,e],[0,0,0,1,0]].flat())),w(c)])):void 0}),[r,t]);return Object(s.jsx)(se,{colorFilter:a,children:n})})),T=Object(d.memo)((function(e){var t=e.shadow,n=e.children,r=Ye(),a=Object(d.useMemo)((function(){return r.ImageFilter.MakeDropShadowOnly(t.offsetX,t.offsetY,t.blurRadius/2,t.blurRadius/2,l.Primitives.color(r,t.color),null)}),[r,t]);return Object(s.jsx)(se,{imageFilter:a,children:n})})),I=Object(d.memo)((function(e){var t=e.path,n=e.border,r=Ye(),a=Object(b.useFill)({color:l.Primitives.color(r,n.color)}),o=Object(d.useMemo)((function(){return l.Primitives.getStrokedBorderPath(r,t,n.thickness,n.position)}),[r,n.position,n.thickness,t]);return Object(b.useDeletable)(o),Object(s.jsx)(ae,{path:o,paint:a})})),M=Object(d.memo)((function(e){var t,n,r,a,o,i=e.layer,c=Ye(),f=S(i.image),h=Object(d.useMemo)((function(){return new c.Paint}),[c]),p=Object(d.useMemo)((function(){var e=Object(b.makePath)(c,Object(u.getRectCornerPoints)(i.frame));return e.setFillType(c.FillType.EvenOdd),e}),[c,i.frame]);if(!i.style||!f)return null;var j=Object(s.jsx)(ie,{rect:l.Primitives.rect(c,i.frame),image:f,paint:h}),m=(null!==(t=i.style.borders)&&void 0!==t?t:[]).filter((function(e){return e.isEnabled})),v=(null!==(n=i.style.shadows)&&void 0!==n?n:[]).filter((function(e){return e.isEnabled})),g=Object(s.jsxs)(s.Fragment,{children:[v.map((function(e,t){return Object(s.jsx)(T,{shadow:e,children:j},"shadow-".concat(t))})),Object(s.jsx)(P,{colorControls:i.style.colorControls,children:j}),m.map((function(e,t){return Object(s.jsx)(I,{path:p,border:e},"border-".concat(t))}))]}),O=null!==(r=null===(a=i.style)||void 0===a||null===(o=a.contextSettings)||void 0===o?void 0:o.opacity)&&void 0!==r?r:1;return O<1||v.length>0?Object(s.jsx)(se,{opacity:O,children:g}):g})),A=n(14),F=n(6),L=Object(d.memo)((function(e){var t=e.path,n=e.fill,r=e.frame,a=Ye(),o=S(n.image),i=Object(d.useMemo)((function(){return l.Primitives.fill(a,n,r,o)}),[a,n,r,o]);return Object(b.useDeletable)(i),Object(s.jsx)(ae,{path:t,paint:i})})),R=Object(d.memo)((function(e){var t=e.path,n=e.shadow,r=Ye(),a=Object(d.useMemo)((function(){return{style:r.PaintStyle.Fill,color:l.Primitives.color(r,n.color),maskFilter:r.MaskFilter.MakeBlur(r.BlurStyle.Normal,n.blurRadius/2,!0)}}),[r,n]),o=Object(b.usePaint)(a),i=Object(d.useMemo)((function(){return u.AffineTransform.translation(n.offsetX,n.offsetY)}),[n.offsetX,n.offsetY]);return Object(s.jsx)(se,{transform:i,children:Object(s.jsx)(ae,{path:t,paint:o})})})),D=Object(d.memo)((function(e){var t=e.path,n=e.shadow,r=e.borderWidth,a=e.borderPosition,o=Ye(),i=Object(d.useMemo)((function(){return l.Primitives.getStrokedBorderPath(o,t,r,a)}),[o,a,r,t]);return Object(s.jsx)(R,{shadow:n,path:i})})),_=Object(d.memo)((function(e){var t=e.path,n=e.shadow,r=e.borderWidth,a=e.borderPosition,o=e.shouldClipPath,i=Ye(),c=2*n.spread+r*(a===F.a.BorderPosition.Outside?2:a===F.a.BorderPosition.Center?1:0),u=Object(l.getStrokedPath)(i,t,c,i.PathOp.Union);Object(b.useDeletable)(u);var f=Object(d.useMemo)((function(){return o?{path:t,op:i.ClipOp.Difference}:void 0}),[i.ClipOp.Difference,t,o]);return Object(s.jsx)(se,{clip:f,children:Object(s.jsx)(R,{shadow:n,path:u})})})),E=Object(d.memo)((function(e){var t,n,r,a,o,i,c=e.layer,u=Ye(),d=l.Primitives.path(u,c.points,c.frame,c.isClosed);if(d.setFillType(u.FillType.EvenOdd),!c.style)return null;var f=(null!==(t=c.style.fills)&&void 0!==t?t:[]).filter((function(e){return e.isEnabled})),b=(null!==(n=c.style.borders)&&void 0!==n?n:[]).filter((function(e){return e.isEnabled})).reverse(),h=(null!==(r=c.style.shadows)&&void 0!==r?r:[]).filter((function(e){return e.isEnabled})).reverse(),p=Math.max.apply(Math,[0].concat(Object(A.a)(b.map((function(e){return e.thickness}))))),j=b.length>0?b[0].position:F.a.BorderPosition.Inside,m=Object(s.jsxs)(s.Fragment,{children:[h.map((function(e,t){return 0===f.length&&b.length>0?Object(s.jsx)(D,{shadow:e,path:d,borderWidth:p,borderPosition:j},"shadow-".concat(t)):Object(s.jsx)(_,{shadow:e,path:d,shouldClipPath:f.length>0,borderWidth:p,borderPosition:j},"shadow-".concat(t))})),f.map((function(e,t){return Object(s.jsx)(L,{fill:e,path:d,frame:c.frame},"fill-".concat(t))})),b.map((function(e,t){return Object(s.jsx)(I,{path:d,border:e},"border-".concat(t))}))]}),v=null!==(a=null===(o=c.style)||void 0===o||null===(i=o.contextSettings)||void 0===i?void 0:i.opacity)&&void 0!==a?a:1;return v<1?Object(s.jsx)(se,{opacity:v,children:m}):m})),B=n(7);var z=Object(d.memo)((function(e){var t,n,r,a,o,i=e.layer,c=e.symbolMaster,f=e.layerStyles,h=e.layerTextStyles,p=Ye(),m=Object(d.useMemo)((function(){return{color:l.Primitives.color(p,c.backgroundColor)}}),[p,c.backgroundColor]),v=Object(b.useFill)(m),g=Object(d.useMemo)((function(){return l.Primitives.rect(p,c.frame)}),[p,c.frame]),O=Object(d.useMemo)((function(){return u.AffineTransform.translation(i.frame.x-c.frame.x,i.frame.y-c.frame.y)}),[i.frame,c.frame]),y=Object(d.useMemo)((function(){return Object(B.a)(c,(function(e){i.overrideValues.forEach((function(t){var n=t.overrideName,r=t.value,a=l.Overrides.decodeName(n),o=Object(j.a)(a.layerIdPath),i=o[0],c=o.slice(1),s=a.propertyType,u=l.Layers.find(e,(function(e){return e.do_objectID===i}));if(u)if(c.length>0){if(!l.Layers.isSymbolInstance(u))return;u.overrideValues.push({_class:"overrideValue",overrideName:l.Overrides.encodeName(c,s),value:r})}else{var d=l.Overrides.getLayerOverride(u,s,r);if(!d)return;switch(d.type){case"stringValue":d.layer.attributedString.string=d.value;break;case"symbolID":d.layer.symbolID=d.value;break;case"image":d.layer.image=d.value;break;case"textStyle":var b,p=null===(b=h.objects.find((function(e){return e.do_objectID===d.value})))||void 0===b?void 0:b.value;if(!p||!p.textStyle)return;d.layer.style=p,d.layer.attributedString.attributes=[{_class:"stringAttribute",location:0,length:d.layer.attributedString.string.length,attributes:p.textStyle.encodedAttributes}];break;case"layerStyle":var m;d.layer.style=null===(m=f.objects.find((function(e){return e.do_objectID===d.value})))||void 0===m?void 0:m.value}}}))}))}),[c,i.overrideValues,f.objects,h.objects]),x=null!==(t=null===(n=i.style)||void 0===n||null===(r=n.contextSettings)||void 0===r?void 0:r.opacity)&&void 0!==t?t:1,S=null===(a=i.style)||void 0===a||null===(o=a.fills)||void 0===o?void 0:o[0],C=function(e){var t=Ye(),n=Object(d.useMemo)((function(){return e?t.ColorFilter.MakeBlend(l.Primitives.color(t,e),t.BlendMode.SrcIn):void 0}),[t,e]);return Object(b.useDeletable)(n),n}(S&&S.isEnabled?S.color:void 0);return Object(s.jsxs)(se,{transform:O,opacity:x,colorFilter:C,children:[y.includeBackgroundColorInInstance&&Object(s.jsx)(re,{paint:v,rect:g}),Object(s.jsx)(Y,{layer:y})]})})),H=Object(d.memo)((function(e){var t=e.layer,n=Object(g.b)(),r=Object(m.a)(n,1)[0],a=Object(d.useMemo)((function(){return l.Layers.findInArray(r.sketch.pages,(function(e){return l.Layers.isSymbolMaster(e)&&t.symbolID===e.symbolID}))}),[t.symbolID,r.sketch.pages]);return a?Object(s.jsx)(z,{layer:t,symbolMaster:a,layerStyles:r.sketch.document.layerStyles,layerTextStyles:r.sketch.document.layerTextStyles}):null}));function V(e){var t=Ye(),n=Ne(),r=function(e){var t,n,r,a,o,i=null===(t=e.style)||void 0===t||null===(n=t.textStyle)||void 0===n?void 0:n.encodedAttributes,c=null===i||void 0===i?void 0:i.paragraphStyle;return{fontSize:null!==(r=null===i||void 0===i?void 0:i.MSAttributedStringFontAttribute.attributes.size)&&void 0!==r?r:12,lineHeight:null===c||void 0===c?void 0:c.maximumLineHeight,textHorizontalAlignment:null!==(a=null===c||void 0===c?void 0:c.alignment)&&void 0!==a?a:F.a.TextHorizontalAlignment.Left,textTransform:null!==(o=null===i||void 0===i?void 0:i.MSAttributedStringTextTransformAttribute)&&void 0!==o?o:F.a.TextTransform.None,textDecoration:(null===i||void 0===i?void 0:i.underlineStyle)?"underline":(null===i||void 0===i?void 0:i.strikethroughStyle)?"strikethrough":"none"}}(e),a=r.fontSize,o=r.lineHeight,i=r.textHorizontalAlignment,c=r.textTransform,s=r.textDecoration,u=Object(d.useMemo)((function(){var r=o?o/a:void 0,u=new t.ParagraphStyle({textStyle:{color:t.BLACK,fontFamilies:["Roboto"],fontSize:a},textAlign:l.Primitives.textHorizontalAlignment(t,i),strutStyle:{fontFamilies:["Roboto"],strutEnabled:!0,forceStrutHeight:!0,fontSize:a,heightMultiplier:r}}),d=t.ParagraphBuilder.Make(u,n);e.attributedString.attributes.forEach((function(n){var r=n.location,a=n.length,o=e.attributedString.string.substr(r,a),i=l.Primitives.stringAttribute(t,n,s);d.pushStyle(i),d.addText(function(e,t){switch(t){case F.a.TextTransform.None:return e;case F.a.TextTransform.Lowercase:return e.toLowerCase();case F.a.TextTransform.Uppercase:return e.toUpperCase()}}(o,c)),d.pop()}));var f=d.build();return d.delete(),f.layout(e.frame.width),f}),[t,a,i,o,n,e.attributedString.attributes,e.attributedString.string,e.frame.width,s,c]);return Object(b.useDeletable)(u),u}var G=Object(d.memo)((function(e){var t,n,r,a=e.layer,o=Ye(),i=V(a),c=Object(d.useMemo)((function(){return l.Primitives.rect(o,a.frame)}),[o,a.frame]),u=Object(s.jsx)(oe,{paragraph:i,rect:c}),f=null!==(t=null===(n=a.style)||void 0===n||null===(r=n.contextSettings)||void 0===r?void 0:r.opacity)&&void 0!==t?t:1;return f<1?Object(s.jsx)(se,{opacity:f,children:u}):u})),N=Object(d.memo)((function(e){var t,n,r,a=e.layer,o=Object(d.useMemo)((function(){return u.AffineTransform.translation(a.frame.x,a.frame.y)}),[a.frame.x,a.frame.y]),i=null!==(t=null===(n=a.style)||void 0===n||null===(r=n.contextSettings)||void 0===r?void 0:r.opacity)&&void 0!==t?t:1,c=a.layers.map((function(e){return Object(s.jsx)(W,{layer:Object(p.a)(Object(p.a)({},e),{},{style:a.style})},e.do_objectID)}));return Object(s.jsx)(se,{opacity:i,transform:o,children:c})})),W=Object(d.memo)((function(e){var t,n=e.layer;if(!n.isVisible)return null;switch(n._class){case"artboard":t=Object(s.jsx)(J,{layer:n,isSymbolMaster:!1});break;case"symbolMaster":t=Object(s.jsx)(J,{layer:n,isSymbolMaster:!0});break;case"group":t=Object(s.jsx)(Y,{layer:n});break;case"text":t=Object(s.jsx)(G,{layer:n});break;case"bitmap":t=Object(s.jsx)(M,{layer:n});break;case"rectangle":case"oval":case"triangle":case"star":case"polygon":case"shapePath":t=Object(s.jsx)(E,{layer:n});break;case"shapeGroup":t=Object(s.jsx)(N,{layer:n});break;case"symbolInstance":t=Object(s.jsx)(H,{layer:n});break;default:console.info(n._class,"not handled"),t=Object(s.jsx)(s.Fragment,{})}var r=[];return(n.isFlippedHorizontal||n.isFlippedVertical)&&r.push(l.Selectors.getLayerFlipTransform(n)),n.rotation%360!==0&&r.push(l.Selectors.getLayerRotationTransform(n)),r.length>0?Object(s.jsx)(se,{transform:u.AffineTransform.multiply.apply(u.AffineTransform,r),children:t}):t}));var U=Object(d.memo)((function(e){var t=e.layer,n=e.maskMode,r=e.children,a=Ye(),o=Object(d.useMemo)((function(){if(t&&"points"in t)return l.Primitives.path(a,t.points,t.frame,t.isClosed)}),[a,t]),i=Object(d.useMemo)((function(){return o?{path:o,op:a.ClipOp.Intersect,antiAlias:!0}:void 0}),[a.ClipOp.Intersect,o]);Object(b.useDeletable)(o);var c=Object(d.useMemo)((function(){var e;if("alpha"===n&&(null===(e=t.style)||void 0===e?void 0:e.fills)){var r=t.style.fills.filter((function(e){return e.isEnabled})).map((function(e){return l.Primitives.shader(a,e,t.frame,void 0)})).filter((function(e){return!!e})).map((function(e){return a.ImageFilter.MakeShader(e)})),o=function(e,t){if(0===t.length)return e.ImageFilter.MakeShader(e.Shader.MakeColor(e.TRANSPARENT,e.ColorSpace.SRGB));var n=Object(j.a)(t),r=n[0];return n.slice(1).reduce((function(t,n){return e.ImageFilter.MakeBlend(e.BlendMode.Plus,n,t)}),r)}(a,r),i=a.ImageFilter.MakeCompose(null,null);return a.ImageFilter.MakeBlend(a.BlendMode.SrcIn,o,i)}}),[a,t.frame,t.style,n]);return Object(s.jsx)(se,{imageFilter:c,clip:i,children:r})})),Y=Object(d.memo)((function(e){var t,n,r,a=e.layer,o=Object(d.useMemo)((function(){return u.AffineTransform.translation(a.frame.x,a.frame.y)}),[a.frame.x,a.frame.y]),i=null!==(t=null===(n=a.style)||void 0===n||null===(r=n.contextSettings)||void 0===r?void 0:r.opacity)&&void 0!==t?t:1,l=a.layers,f=Object(c.chunkBy)(l,(function(e,t){return!t.hasClippingMask&&!t.shouldBreakMaskChain})).map((function(e){var t=e[0].hasClippingMask,n=t&&1===e[0].clippingMaskMode,r=e.slice(n?1:0).map((function(e){return Object(s.jsx)(W,{layer:e},e.do_objectID)}));return t?Object(s.jsx)(U,{layer:e[0],maskMode:n?"alpha":"outline",children:r},e[0].do_objectID):r}));return Object(s.jsx)(se,{opacity:i,transform:o,children:f})})),X=Object(d.memo)((function(e){var t=e.text,n=e.layerFrame,r=e.isSymbolMaster,a=Ye(),o=Object(h.c)().colors,i=r?o.primary:o.textMuted,c=Ne(),u=Object(d.useMemo)((function(){var e=new a.ParagraphStyle({textStyle:{color:a.parseColorString(i),fontSize:11,fontFamilies:["Roboto"],letterSpacing:.2}}),n=a.ParagraphBuilder.Make(e,c);n.addText(t);var r=n.build();return r.layout(1e4),n.delete(),r}),[a,c,t,i]);Object(b.useDeletable)(u);var f=l.Primitives.rect(a,{x:n.x+3,y:n.y-u.getHeight()-3,width:n.width,height:n.height});return Object(s.jsx)(oe,{rect:f,paragraph:u})})),K=Object(d.memo)((function(e){var t=e.layerFrame,n=Ye(),r=Object(b.useBlurMaskFilter)({style:n.BlurStyle.Normal,sigma:2,respectCTM:!0}),a=Object(b.usePaint)({style:n.BlurStyle.Normal,color:n.BLACK,opacity:.2,maskFilter:r}),o=l.Primitives.rect(n,Object(p.a)(Object(p.a)({},t),{},{y:t.y+1}));return Object(s.jsx)(re,{rect:o,paint:a})})),q=Object(d.memo)((function(e){var t=e.layer,n=e.showBackground,r=Ye(),a=Object(b.usePaint)({color:t.hasBackgroundColor?l.Primitives.color(r,t.backgroundColor):r.WHITE,style:r.PaintStyle.Fill}),o=l.Primitives.rect(r,t.frame),i=Object(d.useMemo)((function(){return{path:o,op:r.ClipOp.Intersect}}),[r.ClipOp.Intersect,o]);return Object(s.jsxs)(s.Fragment,{children:[n&&Object(s.jsx)(re,{rect:o,paint:a}),Object(s.jsx)(se,{clip:i,children:Object(s.jsx)(Y,{layer:t})})]})})),J=Object(d.memo)((function(e){var t=e.layer,n=e.isSymbolMaster;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(X,{text:t.name,layerFrame:t.frame,isSymbolMaster:n}),Object(s.jsx)(K,{layerFrame:t.frame}),Object(s.jsx)(q,{layer:t,showBackground:!0})]})}));function Z(e){var t=e.rect,n=function(){var e=Ye(),t=Object(h.c)().colors.transparentChecker,n=Object(d.useMemo)((function(){var n=new e.Paint,r=e.MakeImageFromEncoded(l.CHECKERED_BACKGROUND_BYTES);if(!r)return n;var a=r.makeShaderCubic(e.TileMode.Repeat,e.TileMode.Repeat,0,0,e.Matrix.scaled(.5,.5)),o=e.Shader.MakeColor(e.parseColorString(t),e.ColorSpace.SRGB);return n.setShader(e.Shader.MakeBlend(e.BlendMode.DstATop,o,a)),n}),[e,t]);return Object(b.useDeletable)(n),n}(),r=Ye();return Object(s.jsx)(re,{paint:n,rect:l.Primitives.rect(r,t)})}function $(e){var t=e.layer,n=e.size,r=e.padding,a=void 0===r?0:r,o=e.scalingMode,i=void 0===o?"upOrDown":o,c=e.showCheckeredBackground,f=void 0!==c&&c,b=Object(u.createBounds)(t.frame),h={width:n.width-2*a,height:n.height-2*a},p={width:t.frame.width,height:t.frame.height},j="down"===i?Object(u.resizeIfLarger)(p,h):Object(u.resize)(p,h),m=Object(d.useMemo)((function(){return u.AffineTransform.multiply(u.AffineTransform.translation(n.width/2,n.height/2),u.AffineTransform.scale(j.width/p.width,j.height/p.height),u.AffineTransform.translation(-b.midX,-b.midY))}),[n.width,n.height,j.width,j.height,p.width,p.height,b.midX,b.midY]);return Object(s.jsxs)(s.Fragment,{children:[f&&Object(s.jsx)(Z,{rect:j}),Object(s.jsx)(se,{transform:m,children:l.Layers.isSymbolMasterOrArtboard(t)?Object(s.jsx)(q,{layer:t,showBackground:t.hasBackgroundColor&&t.includeBackgroundColorInExport}):Object(s.jsx)(W,{layer:t})})]})}var Q=n(21),ee=Object(d.createContext)(void 0),te=ee.Provider;function ne(){var e=Object(d.useContext)(ee);if(!e)throw new Error("Missing ComponentsProvider");return e}var re=Object(d.memo)((function(e){var t=ne().Rect;return Object(s.jsx)(t,Object(p.a)({},e))})),ae=Object(d.memo)((function(e){var t=ne().Path;return Object(s.jsx)(t,Object(p.a)({},e))})),oe=Object(d.memo)((function(e){var t=ne().Text;return Object(s.jsx)(t,Object(p.a)({},e))})),ie=Object(d.memo)((function(e){var t=ne().Image;return Object(s.jsx)(t,Object(p.a)({},e))})),ce=Object(d.memo)((function(e){var t=ne().Polyline;return Object(s.jsx)(t,Object(p.a)({},e))})),se=Object(d.memo)((function(e){var t=ne().Group;return Object(s.jsx)(t,Object(p.a)({},e))}));function ue(e){var t=e.lines,n=Ye(),r=Object(b.usePaint)({color:n.Color4f(.52,.248,1),strokeWidth:1,style:n.PaintStyle.Stroke});return Object(s.jsx)(s.Fragment,{children:t.map((function(e,t){return Object(s.jsx)(ce,{paint:r,points:e},t)}))})}var le=Object(d.memo)((function(e){var t=e.selectionPaint,n=e.rect,r=Ye(),a=Object(g.b)(),o=Object(m.a)(a,1)[0],i=Object(b.useColorFill)(r.Color(255,255,255,1)),c=l.Selectors.getSelectedLineLayer(o),d=c&&1===o.selectedObjects.length?Object(l.getLineDragHandles)(c.frame,c.points,c):Object(l.getRectDragHandles)(n);return Object(s.jsx)(s.Fragment,{children:d.map((function(e,n){return Object(s.jsxs)(f.a.Fragment,{children:[Object(s.jsx)(re,{rect:l.Primitives.rect(r,e.rect),paint:i}),Object(s.jsx)(re,{rect:l.Primitives.rect(r,Object(u.insetRect)(e.rect,.5,.5)),paint:t})]},n)}))})}));function de(e){var t=e.point,n=e.fill,r=e.stroke,a=Ye(),o=Object(d.useMemo)((function(){var e=new a.Path;return e.addOval(a.XYWHRect(t.x-l.Selectors.POINT_RADIUS,t.y-l.Selectors.POINT_RADIUS,2*l.Selectors.POINT_RADIUS,2*l.Selectors.POINT_RADIUS)),e}),[a,t.x,t.y]);return Object(b.useDeletable)(o),Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(ae,{path:o,paint:n}),Object(s.jsx)(ae,{path:o,paint:r})]})}function fe(e){var t=e.point,n=e.fill,r=Ye(),a=l.Primitives.rect(r,{x:t.x-2,y:t.y-2,width:4,height:4});return Object(s.jsx)(re,{rect:a,paint:n})}function be(e){var t=e.layer,n=e.stroke,r=Ye(),a=Object(d.useMemo)((function(){var e=l.Primitives.path(r,t.points,t.frame,t.isClosed);return e.setFillType(r.FillType.EvenOdd),e}),[r,t.frame,t.isClosed,t.points]);return Object(s.jsx)(ae,{path:a,paint:n})}function he(e){var t=e.layer,n=e.transform,r=e.selectedIndexes,a=e.selectedControlPoint,o=Ye(),i=Object(h.c)().colors,c=i.canvas.dragHandleStroke,f=i.primary,p=Object(d.useMemo)((function(){return u.AffineTransform.multiply(n,l.Selectors.getLayerRotationTransform(t))}),[t,n]),j=Object(b.useFill)({color:o.WHITE}),m=Object(b.useStroke)({color:c}),v=Object(b.useFill)({color:f}),g=Object(b.useStroke)({color:o.WHITE});if(!l.Layers.isPointsLayer(t))return null;var O=t.points.map((function(e){return l.Primitives.decodeCurvePoint(e,t.frame)})),y=O.map((function(e){return e.point}));return Object(s.jsxs)(se,{transform:p,children:[Object(s.jsx)(be,{layer:t,stroke:m}),O.map((function(e,t){if(e.curveMode===F.a.CurveMode.Straight)return null;var n=[e.point,e.curveFrom],r=(null===a||void 0===a?void 0:a.pointIndex)===t&&"curveFrom"===a.controlPointType;return Object(s.jsxs)(d.Fragment,{children:[Object(s.jsx)(ce,{points:n,paint:m}),Object(s.jsx)(fe,{point:e.curveFrom,fill:r?v:j})]},t)})),O.map((function(e,t){if(e.curveMode===F.a.CurveMode.Straight)return null;var n=[e.point,e.curveTo],r=(null===a||void 0===a?void 0:a.pointIndex)===t&&"curveTo"===a.controlPointType;return Object(s.jsxs)(d.Fragment,{children:[Object(s.jsx)(ce,{points:n,paint:m}),Object(s.jsx)(fe,{point:e.curveTo,fill:r?v:j})]},t)})),y.map((function(e,t){var n=r.includes(t);return Object(s.jsx)(de,{point:e,fill:n?v:j,stroke:n?g:m},t)}))]})}function pe(e){var t=e.points,n=Ye(),r=new n.Paint;return r.setColor(n.Color4f(.52,.248,1)),r.setPathEffect(n.PathEffect.MakeDash([1,2])),r.setStyle(n.PaintStyle.Stroke),r.setStrokeWidth(1),Object(s.jsx)(ce,{paint:r,points:t})}var je=[["+","x"],["-","x"]],me=[["+","y"],["-","y"]],ve=[].concat(je,me);function ge(e,t){switch("".concat(t).concat(e)){case"+x":return["minX","midX","maxX"];case"-x":return["maxX","midX","minX"];case"+y":return["minY","midY","maxY"];case"-y":return["maxY","midY","minY"]}}function Oe(e,t,n,r){var a,o,i,c,s,l,d,f=t,b="x"===t?"y":"x",h=ge(f,e),p=Object(m.a)(h,3),j=p[0],v=p[2],g=ge(b,"+"),O=Object(m.a)(g,3),y=O[0],x=O[1],S=O[2],C=n[x]>r[x]?[r[S],n[S]]:[r[y],n[y]],w=Object(m.a)(C,2),k=w[0],P=w[1],T=function(t,n){return"+"===e?t>n:t<n},I=T(n[j],r[v])?r[v]:T(n[v],r[v])||T(n[j],r[j])?r[j]:void 0;if(void 0!==I)return{extension:[(a={},Object(Q.a)(a,f,I),Object(Q.a)(a,b,k),a),(o={},Object(Q.a)(o,f,I),Object(Q.a)(o,b,P),o)],measurement:[(i={},Object(Q.a)(i,f,n[j]),Object(Q.a)(i,b,n[x]),i),(c={},Object(Q.a)(c,f,I),Object(Q.a)(c,b,n[x]),c)],distanceMeasurement:{distance:Object(u.distance)((s={},Object(Q.a)(s,f,n[j]),Object(Q.a)(s,b,n[x]),s),(l={},Object(Q.a)(l,f,I),Object(Q.a)(l,b,n[x]),l)),midpoint:(d={},Object(Q.a)(d,f,(n[j]+I)/2),Object(Q.a)(d,b,n[x]),d)}}}function ye(e){var t=Ye();return Object(d.useMemo)((function(){return l.Primitives.rect(t,e.frame)}),[t,e])}function xe(e){var t=Ye();return Object(d.useMemo)((function(){var n=l.Primitives.path(t,e.points,e.frame,e.isClosed);return n.setFillType(t.FillType.EvenOdd),n}),[t,e])}function Se(e){var t=e.layer,n=e.paint;return Object(s.jsx)(ae,{path:xe(t),paint:n})}function Ce(e){var t=e.layer,n=e.paint;return Object(s.jsx)(re,{rect:ye(t),paint:n})}function we(e){var t,n=e.layer,r=e.paint,a=e.transform,o=Object(d.useMemo)((function(){return u.AffineTransform.multiply(a,l.Selectors.getLayerRotationTransform(n))}),[n,a]);switch(n._class){case"artboard":case"bitmap":case"group":case"text":case"symbolInstance":case"symbolMaster":t=Object(s.jsx)(Ce,{layer:n,paint:r});break;case"triangle":case"star":case"polygon":case"shapePath":case"rectangle":case"oval":t=Object(s.jsx)(Se,{layer:n,paint:r});break;default:console.info(n._class,"not handled"),t=null}return Object(s.jsx)(se,{transform:o,children:t})}var ke=Object(d.memo)((function(e){var t=e.rect,n=Ye(),r=Object(b.usePaint)({color:n.Color(220,220,220,.9),strokeWidth:2,style:n.PaintStyle.Stroke}),a=Object(b.usePaint)({color:n.Color(255,255,255,.2),style:n.PaintStyle.Fill}),o=l.Primitives.rect(n,t);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(re,{rect:o,paint:r}),Object(s.jsx)(re,{rect:o,paint:a})]})})),Pe=6,Te=2;function Ie(e){var t=e.distance,n=e.midpoint,r=Ye(),a=Ne(),o=Object(d.useMemo)((function(){var e=new r.ParagraphStyle({textStyle:{color:r.parseColorString("rgb(255,255,225)"),fontSize:11,fontFamilies:["Roboto"],letterSpacing:.2}}),n=r.ParagraphBuilder.Make(e,a);n.addText(t.toString());var o=n.build();return o.layout(1e4),o}),[r,a,t]),i=Object(d.useMemo)((function(){return r.XYWHRect(n.x,n.y,o.getMinIntrinsicWidth(),o.getHeight())}),[r,o,n]),u=Object(d.useMemo)((function(){return{width:o.getMinIntrinsicWidth()+2*Pe,height:o.getHeight()+2*Te}}),[o]),l=Object(d.useMemo)((function(){return r.XYWHRect(Object(c.round)(n.x-Pe),Object(c.round)(n.y-Te),Object(c.round)(u.width),Object(c.round)(u.height))}),[r,n.x,n.y,u.width,u.height]),f=Object(b.useColorFill)("rgb(43, 92, 207)");return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(re,{rect:l,paint:f,cornerRadius:u.height/2}),Object(s.jsx)(oe,{rect:i,paragraph:o})]})}function Me(e){var t=e.measurement,n=e.distanceMeasurement,r=Ye(),a=new r.Paint;a.setColor(r.Color4f(.52,.248,1)),a.setPathEffect(r.PathEffect.MakeDash([1,2])),a.setStyle(r.PaintStyle.Stroke),a.setStrokeWidth(1);var o=Object(b.usePaint)({color:r.Color4f(0,.2,1),strokeWidth:1,style:r.PaintStyle.Stroke});return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(ce,{paint:o,points:t}),Object(s.jsx)(Ie,{midpoint:n.midpoint,distance:n.distance})]})}function Ae(e){var t=e.points,n=e.frame,r=Ye(),a=Object(h.c)().colors.primary,o=Object(b.useStroke)({color:a}),i=l.Primitives.path(r,t,n,!1);return Object(s.jsx)(ae,{path:i,paint:o})}function Fe(e){var t=e.point,n=Ye(),r=Object(h.c)().colors.primary,a=Object(b.useFill)({color:n.WHITE}),o=Object(b.useStroke)({color:r});return Object(s.jsx)(de,{point:t,fill:a,stroke:o})}function Le(e){var t=e.text,n=e.origin,r=Ye(),a=Object(h.c)().colors.textMuted,o=Ne(),i=Object(d.useMemo)((function(){var e=new r.ParagraphStyle({textStyle:{color:r.parseColorString(a),fontSize:11,fontFamilies:["Roboto"],letterSpacing:.2}}),n=r.ParagraphBuilder.Make(e,o);n.addText(t);var i=n.build();return i.layout(1e4),i}),[r,o,t,a]),c=Object(d.useMemo)((function(){return r.XYWHRect(n.x,n.y,i.getMinIntrinsicWidth(),i.getHeight())}),[r,i,n.x,n.y]);return Object(s.jsx)(oe,{rect:c,paragraph:i})}function Re(){var e=Ye(),t=Object(h.c)().colors.canvas.background,n=Object(g.b)(),r=Object(m.a)(n,1)[0],a=Object(g.g)().canvasSize,o=l.Selectors.getCurrentPage(r),i=l.Selectors.getCurrentPageMetadata(r).scrollOrigin,c=Object(d.useMemo)((function(){return e.XYWHRect(0,0,a.width,25)}),[e,a.width]),u=Object(d.useMemo)((function(){return e.XYWHRect(0,24,a.width,1)}),[e,a.width]),p=Object(b.useColorFill)(t),j=Object(b.useColorFill)("#555"),v=o.horizontalRulerData.base,O=function(e,t,n){for(var r=[],a=e%(arguments.length>3&&void 0!==arguments[3]?arguments[3]:1),o=0===a?e:e-a;o<=t;o+=n)r.push(o);return r}(-100+v,a.width+100,100);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(re,{rect:c,paint:p}),Object(s.jsx)(re,{rect:u,paint:j}),O.map((function(t,n){var r=t+i.x;return Object(s.jsxs)(f.a.Fragment,{children:[Object(s.jsx)(re,{rect:e.XYWHRect(r,0,1,25),paint:j}),Object(s.jsx)(Le,{origin:{x:r+5,y:0},text:(t-v).toString()})]},n)})),Object(s.jsx)(Le,{origin:{x:5,y:10},text:"(base: ".concat(v,", scroll: ").concat(i.x,")")})]})}var De,_e=Object(d.memo)((function(e){var t=e.selectionPaint,n=e.rect,r=Ye(),a=Object(d.useMemo)((function(){return l.Primitives.rect(r,Object(u.insetRect)(n,.5,.5))}),[r,n]);return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(re,{rect:a,paint:t})})})),Ee=Object(d.memo)((function(){var e=Object(g.g)(),t=e.canvasSize,n=e.canvasInsets,r=e.preferences.showRulers,a=e.highlightedLayer,o=Object(g.b)(),i=Object(m.a)(o,1)[0],f=i.interactionState,j=Ye(),v=l.Selectors.getCurrentPage(i),O=l.Selectors.getScreenTransform(n),y=l.Selectors.getCanvasTransform(i,n),x=l.Selectors.getIsEditingPath(f.type),S=Object(d.useMemo)((function(){return j.XYWHRect(n.left,0,t.width,t.height)}),[j,n.left,t.height,t.width]),C=Object(h.c)().colors.canvas,w=C.background,k=C.dragHandleStroke,P=Object(b.useColorFill)(w),T=Object(b.useStroke)({color:k}),I=Object(b.useStroke)({color:j.Color(132,63,255,1),strokeWidth:2}),M=Object(d.useMemo)((function(){return l.Selectors.getBoundingRect(v,u.AffineTransform.identity,i.selectedObjects,{clickThroughGroups:!0,includeHiddenLayers:!0,includeArtboardLayers:!1})}),[v,i.selectedObjects]),L=Object(d.useMemo)((function(){return i.selectedObjects.map((function(e){return l.Selectors.getBoundingPoints(v,u.AffineTransform.identity,e,{clickThroughGroups:!0,includeHiddenLayers:!0,includeArtboardLayers:!1})}))}),[v,i.selectedObjects]),R=Object(d.useMemo)((function(){if(a&&a.isMeasured&&M&&0!==i.selectedObjects.length&&!i.selectedObjects.includes(a.id)&&l.Layers.findIndexPath(v,(function(e){return e.do_objectID===a.id}))){var e=l.Selectors.getBoundingRect(v,u.AffineTransform.identity,[a.id],{clickThroughGroups:!0,includeHiddenLayers:!0,includeArtboardLayers:!1});if(e){var t=Object(u.createBounds)(e),n=Object(u.createBounds)(M),r=ve.flatMap((function(e){var r=Object(m.a)(e,2),a=Oe(r[0],r[1],n,t);return a?[a]:[]}));return Object(s.jsxs)(s.Fragment,{children:[r.map((function(e,t){return Object(s.jsx)(pe,{points:e.extension},t)})),r.map((function(e,t){return Object(s.jsx)(Me,{distanceMeasurement:e.distanceMeasurement,measurement:e.measurement},t)}))]})}}}),[a,v,i.selectedObjects,M]),D=Object(d.useMemo)((function(){if("moving"===f.type&&M){var e=l.Selectors.getSelectedLayerIndexPathsExcludingDescendants(i),t=Object(l.getPossibleSnapLayers)(i,e,f.canvasSize).filter((function(e){return!i.selectedObjects.includes(e.do_objectID)})),n=Object(l.getLayerAxisInfo)(v,t),r=Object(u.createBounds)(M),a=Object(u.createBounds)(M),o=Object(l.getSnappingPairs)(Object(l.getAxisValues)(r,"x"),n,"x").filter((function(e){return e.selectedLayerValue===e.visibleLayerValue})),b=Object(l.getSnappingPairs)(Object(l.getAxisValues)(r,"y"),n,"y").filter((function(e){return e.selectedLayerValue===e.visibleLayerValue})),h=[["x",o],["y",b]],p={};[].concat(Object(A.a)(o),Object(A.a)(b)).map((function(e){return e.visibleLayerId})).forEach((function(e){if(!(e in p)){var t=l.Selectors.getBoundingRect(v,u.AffineTransform.identity,[e],{clickThroughGroups:!0,includeHiddenLayers:!1,includeArtboardLayers:!1});t&&(p[e]=Object(u.createBounds)(t))}}));var j=h.map((function(e){var t=Object(m.a)(e,2),n=t[0],r=t[1],o=function(e){return Math.min.apply(Math,Object(A.a)(e.map((function(e){return e.distanceMeasurement.distance}))))},i=r.map((function(e){var t=p[e.visibleLayerId];return("y"===n?je:me).flatMap((function(e){var n=Object(m.a)(e,2),r=Oe(n[0],n[1],a,t);return r?[r]:[]}))})).sort((function(e,t){return o(e)-o(t)}));return i.length>0?i[0]:void 0})),g=h.flatMap((function(e){var t=Object(m.a)(e,2),n=t[0],r=t[1],o=Object(c.groupBy)(r,(function(e){return e.selectedLayerValue}));return Object.values(o).map((function(e){var t,r,o=e.map((function(e){var t=e.visibleLayerId;return p[t]})),i=n,c="x"===n?"y":"x",s=ge(c,"+"),u=Object(m.a)(s,3),l=u[0],d=u[2];return[(t={},Object(Q.a)(t,i,e[0].visibleLayerValue),Object(Q.a)(t,c,Math.min.apply(Math,[a[l]].concat(Object(A.a)(o.map((function(e){return e[l]})))))),t),(r={},Object(Q.a)(r,i,e[0].visibleLayerValue),Object(Q.a)(r,c,Math.max.apply(Math,[a[d]].concat(Object(A.a)(o.map((function(e){return e[d]})))))),r)]}))}));return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(ue,{lines:g}),j.map((function(e,t){return e&&Object(s.jsxs)(d.Fragment,{children:[e.map((function(e,n){return Object(s.jsx)(pe,{points:e.extension},"extension-".concat(t,"-").concat(n))})),e.map((function(e,n){return Object(s.jsx)(Me,{distanceMeasurement:e.distanceMeasurement,measurement:e.measurement},"measurement-".concat(t,"-").concat(n))}))]},t)}))]})}}),[f,M,i,v]),_=Object(d.useMemo)((function(){if(a&&(!i.selectedObjects.includes(a.id)||"belowSelection"!==a.precedence)){var e=l.Layers.findIndexPath(v,(function(e){return e.do_objectID===a.id}));if(e){var t=l.Layers.access(v,e),n=l.Selectors.getLayerTransformAtIndexPath(v,e,u.AffineTransform.identity);return a&&Object(s.jsx)(we,{transform:n,layer:t,paint:I})}}}),[I,a,v,i.selectedObjects]),E=Object(d.useMemo)((function(){if("drawingShapePath"===f.type&&f.point)return Object(s.jsx)(Fe,{point:f.point})}),[f]),z=Object(d.useMemo)((function(){var e=l.Selectors.getIndexPathOfOpenShapeLayer(i);if(e&&"editPath"===f.type&&f.point&&!l.Selectors.getPathElementAtPoint(i,f.point)){var t=l.Layers.access(v,e.indexPath),n={_class:"curvePoint",cornerRadius:0,curveFrom:f.point,curveTo:f.point,hasCurveFrom:!1,hasCurveTo:!1,curveMode:F.a.CurveMode.Straight,point:f.point},r=[Object(l.encodeCurvePoint)(n,t.frame),t.points[e.pointIndex]];return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Ae,{points:r,frame:t.frame}),Object(s.jsx)(Fe,{point:f.point})]})}}),[f,v,i]),H=Object(d.useMemo)((function(){if(x){var e=l.Selectors.getSelectedLayerIndexPaths(i);return Object(s.jsx)(s.Fragment,{children:e.map((function(e,t){var n,r=l.Layers.access(v,e);if(!l.Layers.isPointsLayer(r))return null;var a=l.Selectors.getLayerTransformAtIndexPath(v,e);return Object(s.jsx)(he,{transform:a,layer:r,selectedIndexes:null!==(n=i.selectedPointLists[r.do_objectID])&&void 0!==n?n:[],selectedControlPoint:i.selectedControlPoint?i.selectedControlPoint:void 0},r.do_objectID)}))})}}),[x,v,i]),V=Object(d.useMemo)((function(){if("insertingSymbol"===f.type){var e=f.point;if(e){var t=Object(p.a)({},l.Selectors.getSymbols(i).find((function(e){return e.do_objectID===f.symbolID})));return Object(B.a)(t,(function(n){t&&n.style&&(n.style.contextSettings={_class:"graphicsContextSettings",blendMode:1,opacity:.5},n.frame=Object(p.a)(Object(p.a)({},t.frame),{},{x:e.x-t.frame.width/2,y:e.y-t.frame.height/2}))}))}}}),[i,f]);return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(re,{rect:S,paint:P}),Object(s.jsxs)(se,{transform:y,children:[Object(s.jsx)(Y,{layer:v}),V&&Object(s.jsx)(q,{layer:V,showBackground:!1}),"drawingShapePath"===f.type?E:x?Object(s.jsxs)(s.Fragment,{children:[H,z]}):Object(s.jsxs)(s.Fragment,{children:[(i.selectedObjects.length>1||!l.Selectors.getSelectedLineLayer(i))&&M&&Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(_e,{rect:M,selectionPaint:T}),L.map((function(e,t){return Object(s.jsx)(ce,{points:e,paint:T},t)}))]}),!x&&_,D,R,M&&Object(s.jsx)(le,{rect:M,selectionPaint:T}),"drawing"===f.type&&Object(s.jsx)(W,{layer:f.value},f.value.do_objectID)]})]}),Object(s.jsxs)(se,{transform:O,children:["marquee"===f.type&&Object(s.jsx)(ke,{rect:Object(u.createRect)(f.origin,f.current)}),r&&Object(s.jsx)(Re,{})]})]})})),Be=n(118),ze=n.n(Be),He=Object(d.createContext)(void 0),Ve=new c.SuspendedValue(ze()("https://storage.googleapis.com/skia-cdn/google-web-fonts/Roboto-Regular.ttf").then((function(e){return e.arrayBuffer()}))),Ge=Object(d.memo)((function(e){var t=e.children,n=Ye(),r=Ve.getValueOrThrow(),a=Object(d.useMemo)((function(){var e;return null!==(e=n.FontMgr.FromData(r))&&void 0!==e?e:n.FontMgr.RefDefault()}),[n.FontMgr,r]);return Object(s.jsx)(He.Provider,{value:a,children:t})}));function Ne(){var e=Object(d.useContext)(He);if(!e)throw new Error("Missing FontManagerProvider");return e}var We=Object(d.createContext)(void 0),Ue=Object(d.memo)((function(e){var t=e.children,n=e.CanvasKit;De||(De=new c.SuspendedValue(Ke()));var r=null!==n&&void 0!==n?n:De.getValueOrThrow();return Object(s.jsx)(We.Provider,{value:r,children:t})}));function Ye(){var e=Object(d.useContext)(We);if(!e)throw new Error("Missing CanvasKitProvider");return e}var Xe=void 0;function Ke(){return Xe||(Xe=new Promise(function(){var e=Object(o.a)(a.a.mark((function e(t){var n,r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(i.a)({locateFile:function(e){return Object(c.getPathToWasm)()+e}});case 2:n=e.sent,r=n.Paint.prototype.setStyle,n.Paint.prototype.setStyle=function(e){this.style=e,r.call(this,e)},t(n);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()))}},function(e,t,n){"use strict";n.d(t,"Components",(function(){return j}));var r=n(207),a=n(208),o=n(114),i=n(209),c=n(210),s=n(211),u=n(176);n.d(t,"useBlurMaskFilter",(function(){return u.a}));n(100);var l=n(60);n.d(t,"useDeletable",(function(){return l.a}));var d=n(177);n.d(t,"useColorFill",(function(){return d.a})),n.d(t,"useFill",(function(){return d.b}));var f=n(39);n.d(t,"usePaint",(function(){return f.a}));n(61),n(77);var b=n(178);n.d(t,"useStroke",(function(){return b.a}));var h=n(125);n.d(t,"render",(function(){return h.a})),n.d(t,"unmount",(function(){return h.b}));n(179);var p=n(101);n.d(t,"makePath",(function(){return p.a}));var j={Rect:c.a,Path:o.a,Group:r.a,Image:a.a,Text:s.a,Polyline:i.a}},,,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return s}));var r=n(5),a=function(e){var t=e.sketch.pages.findIndex((function(t){return t.do_objectID===e.selectedPage}));if(-1===t)throw new Error("A page must always be selected");return t},o=function(e){return e.sketch.pages.findIndex((function(e){return"Symbols"===e.name}))},i=function(e){return e.sketch.pages[a(e)]},c=function(e){var t=i(e),n=e.sketch.user[t.do_objectID];return n?{zoomValue:n.zoomValue,scrollOrigin:r.Primitives.parsePoint(n.scrollOrigin)}:{zoomValue:1,scrollOrigin:{x:100,y:100}}},s=function(e,t){return e.sketch.pages.findIndex((function(e){return e.layers.some((function(e){return r.Layers.isSymbolMaster(e)&&e.symbolID===t}))}))}},,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return c}));var r=n(2),a="separator",o=15,i=3,c={separatorStyle:function(e){return{height:"1px",backgroundColor:e.theme.colors.divider,margin:"4px 8px"}},itemStyle:function(e){var t=e.theme,n=e.disabled;return Object(r.a)(Object(r.a)(Object(r.a)({},t.textStyles.small),{},{fontWeight:500,fontSize:"0.8rem",flex:"0 0 auto",userSelect:"none",cursor:"pointer",borderRadius:"3px",padding:"4px 8px"},n&&{color:t.colors.textDisabled}),{},{"&:focus":{outline:"none",color:"white",backgroundColor:t.colors.primary},display:"flex",alignItems:"center"})},itemIndicatorStyle:{display:"flex",alignItems:"center",left:"-".concat(o/2,"px"),position:"relative",marginRight:"-".concat(i,"px")},contentStyle:function(e){var t=e.theme;return{borderRadius:4,backgroundColor:t.colors.popover.background,color:t.colors.text,boxShadow:"0 2px 4px rgba(0,0,0,0.2), 0 0 12px rgba(0,0,0,0.1)",padding:"4px",border:"1px solid ".concat(t.colors.divider)}}}},function(e,t,n){"use strict";var r=n(185);n.d(t,"Alpha",(function(){return r.a}));var a=n(186);n.d(t,"Hue",(function(){return a.a}));var o=n(187);n.d(t,"Saturation",(function(){return o.a}));var i=n(204);n.d(t,"Gradient",(function(){return i.a}));n(50),n(205);var c=n(206);n.d(t,"ColorPicker",(function(){return c.a}));n(51);var s=n(53);n.d(t,"hsvaToHex",(function(){return s.b})),n.d(t,"hsvaToRgba",(function(){return s.e})),n.d(t,"hsvaToRgbaString",(function(){return s.f})),n.d(t,"rgbaToHex",(function(){return s.g})),n.d(t,"rgbaToHsva",(function(){return s.h}));var u=n(104);n.d(t,"equalColorObjects",(function(){return u.a}));n(188)},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Math.pow(10,t);return Math.round(n*e)/n}},,,function(e,t,n){"use strict";n.d(t,"h",(function(){return s})),n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"i",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return p})),n.d(t,"m",(function(){return j})),n.d(t,"n",(function(){return m})),n.d(t,"j",(function(){return v})),n.d(t,"e",(function(){return g})),n.d(t,"l",(function(){return O})),n.d(t,"k",(function(){return y})),n.d(t,"o",(function(){return x}));var r=n(10),a=n(5),o=n(58),i=n(69),c=n(98),s=function(e){var t,n;return null!==(t=null===(n=e.sketch.document.sharedSwatches)||void 0===n?void 0:n.objects)&&void 0!==t?t:[]},u=function(e){var t;return null!==(t=e.sketch.document.assets.gradientAssets)&&void 0!==t?t:[]},l=function(e){var t;return null!==(t=e.sketch.document.assets.images)&&void 0!==t?t:[]},d=function(e){var t,n;return null!==(t=null===(n=e.sketch.document.layerTextStyles)||void 0===n?void 0:n.objects)&&void 0!==t?t:[]},f=function(e){var t,n;return null!==(t=null===(n=e.sketch.document.layerStyles)||void 0===n?void 0:n.objects)&&void 0!==t?t:[]},b=function(e){return s(e).filter((function(t){return e.selectedThemeTab.swatches.ids.includes(t.do_objectID)}))},h=function(e){return f(e).filter((function(t){return e.selectedThemeTab.layerStyles.ids.includes(t.do_objectID)}))},p=function(e){return d(e).filter((function(t){return e.selectedThemeTab.textStyles.ids.includes(t.do_objectID)}))};function j(e,t,n){return n.forEach((function(n){if(e.includes(n.do_objectID)){var a=t?r.delimitedPath.dirname(n.name):"",o=r.delimitedPath.basename(n.name),i=r.delimitedPath.join([a,t,o]);n.name=i}})),n}function m(e,t,n){n.forEach((function(n){if(e.includes(n.do_objectID)){var a=r.delimitedPath.dirname(n.name);n.name=r.delimitedPath.join([a,t])}}))}var v=function(e){return e.sketch.pages.flatMap((function(e){return e.layers.flatMap((function(e){return a.Layers.isSymbolMaster(e)?[e]:[]}))}))},g=function(e){var t=v(e),n="canvas"===Object(i.b)(e)?e.selectedObjects:e.selectedThemeTab.symbols.ids;return t.filter((function(e){return n.includes(e.do_objectID)}))},O=function(e,t){return Object(o.a)(e,(function(e){return a.Layers.isSymbolInstance(e)&&e.symbolID===t})).filter((function(e){return e.indexPaths.length}))},y=function(e,t){return e.sketch.pages.flatMap((function(e,n){return e.layers.flatMap((function(e){return a.Layers.isSymbolInstance(e)&&e.symbolID===t?[e.do_objectID]:[]}))}))},x=function(e,t,n){if(!e[t].image){var a="images/".concat(Object(r.uuid)(),".png");e[t].image={_class:"MSJSONFileReference",_ref:a,_ref_class:"MSImageData"},n.sketch.images[a]=c.a}}},function(e,t,n){"use strict";n.d(t,"h",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"k",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"i",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"e",(function(){return f})),n.d(t,"a",(function(){return b})),n.d(t,"d",(function(){return h})),n.d(t,"f",(function(){return p})),n.d(t,"l",(function(){return j})),n.d(t,"b",(function(){return m}));var r=n(11),a=n(5);var o=n(26);function i(e,t){var n=u(t),a=s(t),o=c(t);return r.AffineTransform.multiply(e,n,a,o)}function c(e){if(!e.isFlippedHorizontal&&!e.isFlippedVertical)return r.AffineTransform.identity;var t=Object(r.createBounds)(e.frame);return r.AffineTransform.multiply(r.AffineTransform.translation(t.midX,t.midY),r.AffineTransform.scale(e.isFlippedHorizontal?-1:1,e.isFlippedVertical?-1:1),r.AffineTransform.translation(-t.midX,-t.midY))}function s(e){return r.AffineTransform.translation(e.frame.x,e.frame.y)}function u(e){var t=Object(r.createBounds)(e.frame),n={x:t.midX,y:t.midY},a=p(e);return r.AffineTransform.rotation(a,n.x,n.y)}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.AffineTransform.identity,o=arguments.length>3?arguments[3]:void 0,c=a.Layers.accessPath(e,t).slice(1,"includeLast"===o?void 0:-1);return c.reduce((function(e,t){return i(e,t)}),n)}function d(e,t,n){return a.Layers.accessPathReversed(e,t).slice(1,-1).reduce((function(e,t){return i(e,t)}),n)}function f(){return-1}function b(e){return e<=-180?e+360*Math.round(-e/360):e>=360?e-360*Math.floor(e/360):e}function h(e){return b(-1*e.rotation)}function p(e){return h(e)*Math.PI/180}function j(e){return r.AffineTransform.translation(e.left,0)}function m(e,t){var n=Object(o.c)(e),a=n.scrollOrigin,i=n.zoomValue;return r.AffineTransform.multiply(j(t),r.AffineTransform.translation(a.x,a.y),r.AffineTransform.scale(i))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(19),a=n(0),o=n(100),i=n(60);function c(e){return"delete"in e}function s(e){var t=Object(r.o)(),n=c(e)?e:void 0,s=function(e){var t=Object(o.a)(null===e||void 0===e?void 0:e.color);return Object(a.useMemo)((function(){if(t&&e)return{color:t,style:e.style,antiAlias:e.antiAlias,strokeWidth:e.strokeWidth,maskFilter:e.maskFilter,opacity:e.opacity}}),[t,null===e||void 0===e?void 0:e.style,null===e||void 0===e?void 0:e.antiAlias,null===e||void 0===e?void 0:e.strokeWidth,null===e||void 0===e?void 0:e.maskFilter,null===e||void 0===e?void 0:e.opacity])}(c(e)?void 0:e),u=Object(a.useMemo)((function(){var e,n;if(s){var r=new t.Paint;return r.setColor(s.color),r.setStyle(s.style),r.setAntiAlias(null===(e=s.antiAlias)||void 0===e||e),r.setStrokeWidth(null!==(n=s.strokeWidth)&&void 0!==n?n:1),void 0!==s.opacity&&s.opacity<1&&r.setAlphaf(s.opacity),s.maskFilter&&r.setMaskFilter(s.maskFilter),r}}),[s,t.Paint]),l=Object(i.a)(u);return null!==n&&void 0!==n?n:l}},,function(e,t,n){"use strict";n.r(t),n.d(t,"Vertical",(function(){return c})),n.d(t,"Horizontal",(function(){return s}));var r=n(2),a=n(8),o=a.b.span((function(e){var t=e.size;return Object(r.a)({display:"block"},void 0===t?{flex:1}:{minHeight:t})})),i=a.b.span((function(e){var t=e.size;return Object(r.a)({display:"block"},void 0===t?{flex:1}:{minWidth:t})})),c=o,s=i},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"c",(function(){return l})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return f}));var r=n(2),a=n(4),o=n(7),i=n(11),c=n(16),s=n(74),u=[].concat(["n","e","s","w"],["ne","se","sw","nw"]);function l(e){return e.split("")}function d(e,t){switch(t[0]){case"editPath":case"resetEditPath":return{type:"editPath",point:Object(a.a)(t,2)[1]};case"insertArtboard":case"insertOval":case"insertRectangle":case"insertText":return{type:t[0]};case"insertingSymbol":var n=Object(a.a)(t,3);return{type:"insertingSymbol",symbolID:n[1],point:n[2]};case"hoverHandle":var u=Object(a.a)(t,2);return{type:u[0],direction:u[1]};case"startMarquee":var l=Object(a.a)(t,2)[1];return{type:"marquee",origin:l,current:l};case"updateMarquee":if("marquee"!==e.type)return e;var d=Object(a.a)(t,2)[1];return Object(o.a)(e,(function(e){e.current=d}));case"drawingShapePath":var f=Object(a.a)(t,2);return{type:f[0],point:f[1]};case"startDrawing":var b=Object(a.a)(t,4),h=b[1],p=b[2],j=b[3];return{type:"drawing",value:Object(o.a)(function(e){var t=c.b.style({fills:[c.b.fill({color:s.b})]});switch(e){case"oval":return c.b.oval({style:t});case"rectangle":return c.b.rectangle({style:t});case"text":return c.b.text();case"artboard":return c.b.artboard()}}(h),(function(e){e.do_objectID=p,e.frame=Object(r.a)({_class:"rect",constrainProportions:!1},Object(i.createRect)(j,j))})),origin:j};case"updateDrawing":if("drawing"!==e.type)return e;var m=Object(a.a)(t,2)[1],v=Object(i.createRect)(e.origin,m);return Object(o.a)(e,(function(e){e.value.frame=Object(r.a)(Object(r.a)({},e.value.frame),v)}));case"maybeMove":var g=Object(a.a)(t,4),O=g[1],y=g[2],x=g[3];return{type:t[0],origin:O,canvasSize:y,pageSnapshot:x};case"maybeScale":var S=Object(a.a)(t,5),C=S[1],w=S[2],k=S[3],P=S[4];return{type:t[0],origin:C,direction:w,canvasSize:k,pageSnapshot:P};case"maybeMovePoint":var T=Object(a.a)(t,3);return{type:T[0],origin:T[1],pageSnapshot:T[2]};case"maybeConvertCurveMode":var I=Object(a.a)(t,2);return{type:I[0],origin:I[1]};case"maybeMoveControlPoint":var M=Object(a.a)(t,3);return{type:M[0],origin:M[1],pageSnapshot:M[2]};case"movingPoint":var A=Object(a.a)(t,3),F=A[0],L=A[1],R=A[2];if("maybeMovePoint"!==e.type)throw new Error("Bad interaction state - should be in `maybeMovePoint`");return{type:F,origin:L,current:R,pageSnapshot:e.pageSnapshot};case"updateMovingPoint":var D=Object(a.a)(t,3),_=D[1],E=D[2];if("movingPoint"!==e.type)throw new Error("Bad interaction state - should be in `movingPoint`");return{type:"movingPoint",origin:_,current:E,pageSnapshot:e.pageSnapshot};case"updateMovingControlPoint":var B=Object(a.a)(t,3),z=B[1],H=B[2];if("movingControlPoint"!==e.type)throw new Error("Bad interaction state - should be in `movingControlPoint`");return{type:"movingControlPoint",origin:z,current:H,pageSnapshot:e.pageSnapshot};case"movingControlPoint":var V=Object(a.a)(t,3),G=V[0],N=V[1],W=V[2];if("maybeMoveControlPoint"!==e.type)throw new Error("Bad interaction state - should be in `maybeMoveControlPoint`");return{type:G,origin:N,current:W,pageSnapshot:e.pageSnapshot};case"startMoving":var U=Object(a.a)(t,2)[1];if("maybeMove"!==e.type)throw new Error("Bad interaction state - should be in `maybeMove`");return{type:"moving",origin:e.origin,current:U,canvasSize:e.canvasSize,pageSnapshot:e.pageSnapshot};case"startScaling":var Y=Object(a.a)(t,2)[1];if("maybeScale"!==e.type)throw new Error("Bad interaction state - should be in `maybeScale`");return{type:"scaling",origin:e.origin,current:Y,direction:e.direction,canvasSize:e.canvasSize,pageSnapshot:e.pageSnapshot};case"updateMoving":var X=Object(a.a)(t,2)[1];if("moving"!==e.type)throw new Error("Bad interaction state - should be in `moving`");return{type:"moving",origin:e.origin,current:X,canvasSize:e.canvasSize,pageSnapshot:e.pageSnapshot};case"updateScaling":var K=Object(a.a)(t,2)[1];if("scaling"!==e.type)throw new Error("Bad interaction state - should be in `scaling`");return{type:"scaling",origin:e.origin,current:K,direction:e.direction,canvasSize:e.canvasSize,pageSnapshot:e.pageSnapshot};case"enablePanMode":return{type:"panMode"};case"maybePan":return{type:"maybePan",origin:Object(a.a)(t,2)[1]};case"startPanning":var q=Object(a.a)(t,2)[1];if("maybePan"!==e.type)throw new Error("Bad interaction state - should be in `maybePan`");return{type:"panning",previous:e.origin,next:q};case"updatePanning":var J=Object(a.a)(t,2)[1];if("panning"!==e.type)throw new Error("Bad interaction state - should be in `panning`");return{type:"panning",previous:e.next,next:J};case"reset":return{type:"none"};default:return e}}function f(){return{type:"none"}}},,,function(e,t,n){"use strict";n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"e",(function(){return b}));var r=n(14),a=n(11),o=n(10),i=n(5),c=n(96),s=n(9);function u(e,t){return"x"===t?[e.minX,e.midX,e.maxX]:[e.minY,e.midY,e.maxY]}function l(e,t,n){var a=Object(s.getCurrentPage)(e),u=Object(c.e)(e,{left:0,right:0},{x:0,y:0,width:n.width,height:n.height},{clickThroughGroups:!1,includeHiddenLayers:!1,includeArtboardLayers:!0}),l=i.Layers.isSymbolMasterOrArtboard(a.layers[t[0][0]])&&t.every((function(e){return e.length>1}))&&t.every((function(e){return e[0]===t[0][0]})),d=t[0].slice(0,-1),f=t.every((function(e){return Object(o.isDeepEqual)(e.slice(0,-1),d)})),b=[];if(l){var h=a.layers[t[0][0]];b.push(h),f||b.push.apply(b,Object(r.a)(h.layers))}if(f){var p=i.Layers.access(a,t[0].slice(0,-1));b.push.apply(b,Object(r.a)(p.layers))}return l||f?b:u}function d(e,t){return t.flatMap((function(t){var n=Object(s.getBoundingRect)(e,a.AffineTransform.identity,[t.do_objectID],{clickThroughGroups:!0,includeHiddenLayers:!1,includeArtboardLayers:!1});if(!n)return[];var r=Object(a.createBounds)(n);return[{layerId:t.do_objectID,y:u(r,"y"),x:u(r,"x")}]}))}function f(e){var t=function(e){return e.selectedLayerValue-e.visibleLayerValue},n=function(e){return Math.abs(t(e))},r=e.filter((function(e){return n(e)<=6})).sort((function(e,t){return n(e)-n(t)}));return r.length>0?t(r[0]):0}function b(e,t,n){return t.flatMap((function(t){return e.flatMap((function(e){return t[n].map((function(n){return{selectedLayerValue:e,visibleLayerValue:n,visibleLayerId:t.layerId}}))}))}))}},function(e,t,n){"use strict";var r=n(1),a=n(2),o=n(0),i=n(8).b.div((function(e){var t=e.theme,n=e.selected;return Object(a.a)({width:"10px",height:"10px",borderRadius:"10px",border:"2px solid white",boxShadow:"0 0 1px 1px rgba(0,0,0,0.4), 0 0 1px 1px rgba(0,0,0,0.4) inset",zIndex:1,borderColor:n?t.colors.primary:"white",transform:"translate(-50%, -50%)"},{position:"absolute"})}));t.a=Object(o.memo)((function(e){var t=e.top,n=void 0===t?.5:t,a=e.left,c=e.index,s=e.selected,u=void 0!==s&&s,l=e.onClick,d=Object(o.useMemo)((function(){return{top:"".concat(100*n,"%"),left:"".concat(100*a,"%")}}),[a,n]);return Object(r.jsx)(i,{"data-index":c,className:"pointer",style:d,onClick:l,selected:u})}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return j}));var r=n(2),a=n(1),o=n(13),i=n(0),c=n.n(i),s=n(8),u=n(56),l="undefined"!==typeof window?i.useLayoutEffect:i.useEffect,d=n(55),f=s.b.div((function(){return{position:"absolute",left:0,top:0,right:0,bottom:0,borderRadius:"inherit",outline:"none",touchAction:"none"}})),b=function(e){return"touches"in e},h=function(e,t){var n=e.getBoundingClientRect(),r=b(t)?t.touches[0]:t;return{left:Object(d.a)((r.pageX-(n.left+window.pageXOffset))/n.width),top:Object(d.a)((r.pageY-(n.top+window.pageYOffset))/n.height)}},p=function(e){var t=e.onMove,n=e.onKey,c=e.onClick,s=e.onDelete,d=e.onClickPointer,p=Object(o.a)(e,["onMove","onKey","onClick","onDelete","onClickPointer"]),j=Object(i.useRef)(null),m=Object(i.useRef)(!1),v=Object(i.useRef)(!1),g=Object(u.a)(t),O=Object(u.a)(n),y=Object(u.a)(c),x=Object(u.a)(d),S=Object(i.useCallback)((function(e){v.current&&j.current&&(e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),g(h(j.current,e)))}),[g]),C=Object(i.useCallback)((function(e){var t=e.nativeEvent;if(t.preventDefault(),function(e){return!(m.current&&!b(e))&&(m.current||(m.current=b(e)),!0)}(t)){if(c){if(t.target instanceof HTMLElement&&!t.target.classList.contains("pointer"))return void y(h(j.current,t));d&&t.target instanceof HTMLElement&&x(Number(t.target.dataset.index))}else g(h(j.current,t));v.current=!0}}),[g,y,d,x,c]),w=Object(i.useCallback)((function(e){var t=e.which||e.keyCode;s&&46===t&&s(),t<37||t>40||(e.preventDefault(),O({left:39===t?.05:37===t?-.05:0,top:40===t?.05:38===t?-.05:0}))}),[O,s]),k=Object(i.useCallback)((function(e){v.current&&(e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation(),v.current=!1)}),[]),P=Object(i.useCallback)((function(e){var t=e?window.addEventListener:window.removeEventListener;t(m.current?"touchmove":"mousemove",S,!0),t(m.current?"touchend":"mouseup",k,!0)}),[S,k]);return l((function(){return P(!0),function(){P(!1)}}),[P]),Object(a.jsx)(f,Object(r.a)(Object(r.a)({},p),{},{ref:j,onTouchStart:C,onMouseDown:C,onKeyDown:w,tabIndex:0,role:"slider"}))},j=c.a.memo(p)},function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return c}));var r=n(32);function a(e){return{r:Math.floor(255*e.red),g:Math.floor(255*e.green),b:Math.floor(255*e.blue),a:e.alpha}}function o(e){return Object(r.hsvaToRgbaString)(Object(r.rgbaToHsva)(a(e)))}function i(e){return{_class:"color",alpha:e.a,red:e.r/255,green:e.g/255,blue:e.b/255}}function c(e){return Object(r.hsvaToHex)(Object(r.rgbaToHsva)(a(e))).toUpperCase()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return f})),n.d(t,"h",(function(){return b}));var r=n(34),a=function(e){return"#"===e[0]&&(e=e.substr(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:1}:{r:parseInt(e.substr(0,2),16),g:parseInt(e.substr(2,2),16),b:parseInt(e.substr(4,2),16),a:1}},o=function(e){return f(u(e))},i=function(e){var t=e.h,n=e.s,a=e.v,o=e.a,i=(200-n)*a/100;return{h:Object(r.a)(t),s:Object(r.a)(i>0&&i<200?n*a/100/(i<=100?i:200-i)*100:0),l:Object(r.a)(i/2),a:Object(r.a)(o,2)}},c=function(e){var t=i(e),n=t.h,r=t.s,a=t.l;return"hsl(".concat(n,", ").concat(r,"%, ").concat(a,"%)")},s=function(e){var t=i(e),n=t.h,r=t.s,a=t.l,o=t.a;return"hsla(".concat(n,", ").concat(r,"%, ").concat(a,"%, ").concat(o,")")},u=function(e){var t=e.h,n=e.s,a=e.v,o=e.a;t=t/360*6,n/=100,a/=100;var i=Math.floor(t),c=a*(1-n),s=a*(1-(t-i)*n),u=a*(1-(1-t+i)*n),l=i%6;return{r:Object(r.a)(255*[a,s,c,c,u,a][l]),g:Object(r.a)(255*[u,a,a,s,c,c][l]),b:Object(r.a)(255*[c,c,u,a,a,s][l]),a:Object(r.a)(o,2)}},l=function(e){var t=u(e),n=t.r,r=t.g,a=t.b,o=t.a;return"rgba(".concat(n,", ").concat(r,", ").concat(a,", ").concat(o,")")},d=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},f=function(e){var t=e.r,n=e.g,r=e.b;return"#"+d(t)+d(n)+d(r)},b=function(e){var t=e.r,n=e.g,a=e.b,o=e.a,i=Math.max(t,n,a),c=i-Math.min(t,n,a),s=c?i===t?(n-a)/c:i===n?2+(a-t)/c:4+(t-n)/c:0;return{h:Object(r.a)(60*(s<0?s+6:s)),s:Object(r.a)(i?c/i*100:0),v:Object(r.a)(i/255*100),a:o}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e>n?n:e<t?t:e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(e){var t=Object(r.useRef)(e);return Object(r.useEffect)((function(){t.current=e})),Object(r.useCallback)((function(){return t.current&&t.current.apply(t,arguments)}),[])}},function(e,t,n){"use strict";n.d(t,"i",(function(){return d})),n.d(t,"m",(function(){return f})),n.d(t,"h",(function(){return b})),n.d(t,"j",(function(){return h})),n.d(t,"k",(function(){return p})),n.d(t,"n",(function(){return j})),n.d(t,"c",(function(){return m})),n.d(t,"e",(function(){return v})),n.d(t,"a",(function(){return g})),n.d(t,"g",(function(){return O})),n.d(t,"d",(function(){return y})),n.d(t,"b",(function(){return x})),n.d(t,"l",(function(){return S})),n.d(t,"f",(function(){return C})),n.d(t,"o",(function(){return w}));var r=n(2),a=n(14),o=n(7),i=n(11),c=n(5),s=n(58),u=n(26),l=n(38),d=function(e){var t=Object(u.b)(e);return Object(s.g)(e).map((function(n){return c.Layers.access(e.sketch.pages[t],n)}))},f=function(e){return b(e).filter((function(e){return"text"===e._class}))},b=function(e){var t=Object(u.a)(e);return c.Layers.findAll(t,(function(t){return e.selectedObjects.includes(t.do_objectID)}))},h=function(e){var t=Object(u.a)(e);return c.Layers.findAll(t,(function(t){return e.selectedObjects.includes(t.do_objectID)})).filter((function(e){var t;return"artboard"!==e._class&&(null===(t=e.style)||void 0===t?void 0:t.contextSettings)}))},p=function(e){var t=Object(u.a)(e);return c.Layers.findAll(t,(function(t){return e.selectedObjects.includes(t.do_objectID)})).filter((function(e){return"rectangle"===e._class}))},j=function(e){var t=Object(u.a)(e);return function(e){return e.map((function(e){return t.layers.find((function(t){return t.do_objectID===e}))})).filter((function(e){return!!e}))}},m=function(e,t){Object(a.a)(e).reverse().forEach((function(e){var n=e[e.length-1];c.Layers.access(t,e.slice(0,-1)).layers.splice(n,1)}))},v=function(e,t){return c.Layers.access(e,t.slice(0,-1))},g=function(e,t,n){var r,o=v(e,t),i=n instanceof Array?n:[n];(r=o.layers).splice.apply(r,[t[t.length-1],0].concat(Object(a.a)(i)))},O=function(e){var t=e.layers.sort((function(e,t){var n=Object(i.createBounds)(e.frame);return Object(i.createBounds)(t.frame).maxX-n.maxX}))[0];return Object(i.createBounds)(t.frame)};function y(e,t){return c.Layers.findInArray(e.sketch.pages,(function(e){return c.Layers.isSymbolMaster(e)&&t===e.symbolID}))}function x(e,t){var n=e.filter((function(e){return c.Layers.isArtboard(e)||c.Layers.isSymbolMaster(e)})).find((function(e){return Object(i.rectsIntersect)(e.frame,t.frame)}));n&&c.Layers.isChildLayer(t)?(t.frame.x-=n.frame.x,t.frame.y-=n.frame.y,n.layers.push(t)):e.push(t)}function S(e){var t=c.Selectors.getCurrentPage(e),n=c.Layers.findIndexPath(t,(function(t){return t.do_objectID===e.selectedObjects[0]}));if(n){var r=c.Layers.access(t,n);if(Object(c.isPointsLayer)(r))return Object(c.isLine)(r.points)?r:void 0}}function C(e,t){return e.layers.filter((function(e){return c.Layers.isArtboard(e)||c.Layers.isSymbolMaster(e)})).find((function(e){return Object(i.rectContainsPoint)(e.frame,t)}))}function w(e,t,n,d){var f="above"===d?"below":"below"===d?"above":d,b="string"===typeof t?[t]:t,h=Object(s.e)(e,b),p=Object(u.b)(e);return Object(o.a)(e,(function(e){var t,s=e.sketch.pages[p],u=h.map((function(e){return{layer:c.Layers.access(s,e),transform:Object(l.i)(s,e)}}));m(h,s);var d=c.Layers.findIndexPath(s,(function(e){return e.do_objectID===n}));if(d){var b,j,v;switch(f){case"inside":b=d,v=(j=c.Layers.access(s,b)).layers.length;break;case"above":case"below":b=d.slice(0,-1),j=c.Layers.access(s,b);var g=d[d.length-1];v="above"===f?g:g+1}var O=Object(l.i)(s,b,void 0,"includeLast"),y=u.map((function(e){var t=e.layer,n=e.transform,a=i.AffineTransform.multiply(n,O.invert());return Object(o.a)(t,(function(e){e.frame=Object(r.a)(Object(r.a)({},e.frame),Object(i.transformRect)(e.frame,a))}))}));(t=j.layers).splice.apply(t,[v,0].concat(Object(a.a)(y)))}}))}},function(e,t,n){"use strict";n.d(t,"d",(function(){return i})),n.d(t,"a",(function(){return c})),n.d(t,"f",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"g",(function(){return l})),n.d(t,"b",(function(){return d})),n.d(t,"c",(function(){return f}));var r=n(5),a=n(18),o=n(26),i=function(e,t){var n=Object(o.a)(e),r=Object(o.b)(e),i=Object(a.findIndexPath)(n,(function(e){return e.do_objectID===t}));return i?{pageIndex:r,indexPath:i}:void 0},c=function(e,t){return e.sketch.pages.map((function(e,n){return{pageIndex:n,indexPaths:r.Layers.findAllIndexPaths(e,t)}}))},s=function(e){var t=Object(o.a)(e);return r.Layers.findAllIndexPaths(t,(function(t){return e.selectedObjects.includes(t.do_objectID)}))},u=function(e,t){var n=Object(o.a)(e);return r.Layers.findAllIndexPaths(n,(function(e){var n=t.includes(e.do_objectID);return n&&r.Layers.isParentLayer(e)?a.INCLUDE_AND_SKIP:n}))},l=function(e){return u(e,e.selectedObjects)},d=function(e,t){return u(e,t).filter((function(t){return r.Layers.isChildLayer(r.Layers.access(Object(o.a)(e),t))}))},f=function(e,t){return u(e,t).filter((function(t){return r.Layers.isArtboard(r.Layers.access(Object(o.a)(e),t))}))}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(e){var t=Object(r.useRef)(e);return t.current!==e&&(t.current&&!t.current.isDeleted()&&t.current.delete(),t.current=e),Object(r.useEffect)((function(){return function(){t.current&&!t.current.isDeleted()&&t.current.delete()}}),[]),e}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(77);function a(e){return Object(r.a)(e)}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return i}));var r=n(0),a=Object(r.createContext)(void 0),o=a.Provider;function i(){var e=Object(r.useContext)(a);if(!e)throw new Error("Missing ColorPickerProvider");return e}},,,,,function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}));var r=function(e){return e.currentTab},a=function(e){return e.currentThemeTab}},function(e,t,n){"use strict";n.d(t,"f",(function(){return l})),n.d(t,"g",(function(){return d})),n.d(t,"a",(function(){return f})),n.d(t,"b",(function(){return b})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return v})),n.d(t,"c",(function(){return g}));var r=n(4),a=n(2),o=n(6),i=n(11),c=n(5),s=n(10);function u(e,t,n){var r=Object(i.distance)(e,t);return r<=2*n?r/2:n}function l(e,t){var n=t.x,r=t.y,a=t.width,o=t.height;return{x:n+e.x*a,y:r+e.y*o}}function d(e,t){var n=t.x,r=t.y,a=t.width,o=t.height;return{x:(e.x-n)/a,y:(e.y-r)/o}}function f(e,t){return Object(a.a)(Object(a.a)({},e),{},{hasCurveFrom:e.hasCurveTo,hasCurveTo:e.hasCurveFrom,curveFrom:l(Object(c.parsePoint)(e.curveTo),t),curveTo:l(Object(c.parsePoint)(e.curveFrom),t),point:l(Object(c.parsePoint)(e.point),t)})}function b(e,t){return Object(a.a)(Object(a.a)({},e),{},{hasCurveFrom:e.hasCurveTo,hasCurveTo:e.hasCurveFrom,curveFrom:Object(c.stringifyPoint)(d(e.curveTo,t)),curveTo:Object(c.stringifyPoint)(d(e.curveFrom,t)),point:Object(c.stringifyPoint)(d(e.point,t))})}function h(e,t,n){var r=t.hasCurveTo?t.curveTo:t.point,a=n.hasCurveFrom?n.curveFrom:n.point,o=n.point;e.cubicTo(r.x,r.y,a.x,a.y,o.x,o.y)}function p(e,t,n){t.curveMode===o.a.CurveMode.Straight&&n.curveMode===o.a.CurveMode.Straight?function(e,t){var n=t.point;e.lineTo(n.x,n.y)}(e,n):h(e,t,n)}function j(e,t,n){var r=t.point,a=n.radius,o=n.step;a>0?e.arcToTangent(r.x,r.y,r.x+o.x,r.y+o.y,a):e.lineTo(r.x+o.x,r.y+o.y)}function m(e,t,n,a){var c=new e.Path;if(t.length<2)return c;var l=t.map((function(e){return f(e,n)}));if(2===l.length){var d=Object(r.a)(l,2),b=d[0],m=d[1];return c.moveTo(b.point.x,b.point.y),p(c,b,m),a&&(p(c,m,b),c.close()),c}var v=Object(s.rotate)(Object(s.windowsOf)(l,3,!0),-1),g=v.map((function(e){var t=Object(r.a)(e,3),n=t[0],a=t[1],o=t[2],c=a.point,s=o.point,l=function(e,t,n,r){var a=u(t,e,r),o=u(t,n,r);return Math.min(a,o)}(n.point,c,s,a.cornerRadius),d=function(e,t,n){var r=Object(i.distance)(e,t),a={x:t.x-e.x,y:t.y-e.y};return r<=2*n?(a.x/=2,a.y/=2,{step:a,drawSegment:!1}):(a.x*=n/r,a.y*=n/r,{step:a,drawSegment:!0})}(c,s,l);return{radius:l,step:d.step,drawSegment:d.drawSegment}}));return Object(s.zip)(v,g).forEach((function(e,t){var n=Object(r.a)(e,2),i=n[0],s=n[1],u=Object(r.a)(i,3),l=u[1],d=u[2],f=t===v.length-1,b=l.point,p=d.point;if(0===t){var m=s.step;c.moveTo(b.x+m.x,b.y+m.y),d.curveMode!==o.a.CurveMode.Straight&&h(c,l,d)}else if(l.curveMode===o.a.CurveMode.Straight&&d.curveMode===o.a.CurveMode.Straight){j(c,l,s);var O=s.step;!s.drawSegment||!a&&f||c.lineTo(p.x-O.x,p.y-O.y)}else!a&&f||h(c,l,d);if(a&&f){var y=Object(r.a)(v[0],3),x=y[1],S=y[2];x.curveMode===o.a.CurveMode.Straight&&S.curveMode===o.a.CurveMode.Straight&&j(c,x,g[0]),c.close()}})),c}function v(e,t,n,r){var a=t.copy();return 0===n&&r===e.PathOp.Union?a:a.stroke({width:n})?(void 0!==r&&(a.op(t,r)||console.info("[getStrokedPath] Failed to combine paths")),a):(console.info("[getStrokedPath] Failed to stroke path"),a)}function g(e,t,n,r){switch(r){case o.a.BorderPosition.Center:break;case o.a.BorderPosition.Outside:case o.a.BorderPosition.Inside:n*=2}return v(e,t,n,function(e,t){switch(t){case o.a.BorderPosition.Center:return;case o.a.BorderPosition.Outside:return e.PathOp.Difference;case o.a.BorderPosition.Inside:return e.PathOp.Intersect}}(e,r))}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s}));var r=n(2),a=n(7),o=n(84),i=n(46);function c(e,t,n){var c=e.present;switch(t[0]){case"undo":return 0===e.past.length?e:Object(a.a)(e,(function(e){var t=e.past.pop();t&&(e.future.unshift(u(t.actionType,c)),e.present=t.state)}));case"redo":return 0===e.future.length?e:Object(a.a)(e,(function(e){var t=e.future.shift();t&&(e.past.push(u(t.actionType,c)),e.present=t.state)}));default:var s=Object(o.b)(c,t,n),l=function(e,t){if(0===e.past.length)return;var n=Date.now(),r=e.past[e.past.length-1];if(t!==r.actionType||n-r.timestamp>300)return;return r}(e,t[0]),d=c.sketch!==s.sketch;return Object(a.a)(e,(function(e){var n=u(t[0],Object(r.a)(Object(r.a)({},c),{},{interactionState:Object(i.b)()}));d&&(l?e.past[e.past.length-1]=Object(r.a)(Object(r.a)({},n),{},{state:l.state}):e.past.push(n),e.future=[]),e.present=s}))}}function s(e){return{past:[],present:Object(o.c)(e),future:[]}}function u(e,t){return{actionType:e,state:t,timestamp:Date.now()}}},function(e,t,n){"use strict";n.r(t),n.d(t,"ListRowContext",(function(){return p})),n.d(t,"RowTitle",(function(){return S})),n.d(t,"Row",(function(){return C})),n.d(t,"Root",(function(){return w}));var r=n(1),a=n(13),o=n(2),i=n(29),c=n(105),s=n(0),u=n(8),l=n(106),d=n(107),f=n(83),b=n(3),h={marginTop:0,marginRight:0,marginBottom:0,marginLeft:0,paddingTop:0,paddingRight:0,paddingBottom:0,paddingLeft:0,textIndent:0,listStyleType:"none"},p=Object(s.createContext)({position:"only",selectedPosition:"only",sortable:!1,expandable:!0,indentation:12}),j=u.b.span((function(e){e.theme;return{flex:"1 1 0",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"pre"}})),m=u.b.li((function(e){var t=e.theme,n=e.selected,r=e.disabled,a=e.hovered;return Object(o.a)(Object(o.a)(Object(o.a)(Object(o.a)(Object(o.a)({},h),t.textStyles.small),{},{flex:"0 0 auto",userSelect:"none",cursor:"pointer",fontWeight:500,paddingTop:"6px",paddingRight:"20px",paddingBottom:"6px",paddingLeft:"20px",borderBottom:"1px solid ".concat(n?t.colors.primaryDark:t.colors.divider),color:t.colors.textMuted,backgroundColor:t.colors.listView.raisedBackground},r&&{color:t.colors.textDisabled}),n&&{color:"white",backgroundColor:t.colors.primary}),{},{display:"flex",alignItems:"center",position:"relative"},a&&{boxShadow:"0 0 0 1px ".concat(t.colors.primary)})})),v=u.b.li((function(e){var t=e.theme,n=e.position,r=e.selected,a=e.selectedPosition,i=e.disabled,c=e.hovered;return Object(o.a)(Object(o.a)(Object(o.a)(Object(o.a)(Object(o.a)(Object(o.a)(Object(o.a)(Object(o.a)(Object(o.a)({},h),t.textStyles.small),{},{flex:"0 0 auto",userSelect:"none",cursor:"pointer",borderTopRightRadius:"4px",borderTopLeftRadius:"4px",borderBottomRightRadius:"4px",borderBottomLeftRadius:"4px",paddingTop:"6px",paddingRight:"12px",paddingBottom:"6px",paddingLeft:"12px",marginLeft:"8px",marginRight:"8px",color:t.colors.textMuted},i&&{color:t.colors.textDisabled}),r&&{color:"white",backgroundColor:t.colors.primary}),{},{display:"flex",alignItems:"center"},("first"===n||"only"===n)&&{marginTop:"8px"}),("last"===n||"only"===n)&&{marginBottom:"8px"}),r&&("middle"===a||"last"===a)&&{borderTopRightRadius:"0px",borderTopLeftRadius:"0px"}),r&&("middle"===a||"first"===a)&&{borderBottomRightRadius:"0px",borderBottomLeftRadius:"0px"}),{},{position:"relative"},c&&{boxShadow:"0 0 0 1px ".concat(t.colors.primary)})})),g=u.b.div((function(e){var t=e.theme,n=e.relativeDropPosition,r=e.offsetLeft;return Object(o.a)({zIndex:1,position:"absolute",borderRadius:"3px"},"inside"===n?{inset:2,boxShadow:"0 0 0 1px ".concat(t.colors.sidebar.background,", 0 0 0 3px ").concat(t.colors.dragOutline)}:{top:"above"===n?-3:void 0,bottom:"below"===n?-3:void 0,left:r,right:0,height:6,background:t.colors.primary,border:"2px solid white",boxShadow:"0 0 2px rgba(0,0,0,0.5)"})})),O=Object(s.forwardRef)((function(e,t){var n=e.id,c=e.selected,u=void 0!==c&&c,h=e.depth,j=void 0===h?0:h,O=e.disabled,y=void 0!==O&&O,x=e.hovered,S=void 0!==x&&x,C=e.isSectionHeader,w=void 0!==C&&C,k=e.onClick,P=e.onHoverChange,T=e.children,I=e.menuItems,M=e.onContextMenu,A=e.onSelectMenuItem,F=Object(s.useContext)(p),L=F.position,R=F.selectedPosition,D=F.sortable,_=F.indentation,E=Object(l.a)({onHoverChange:P}).hoverProps,B=Object(s.useCallback)((function(e){e.stopPropagation(),null===k||void 0===k||k(e)}),[k]),z=function(e,t){var i=e.relativeDropPosition,c=Object(a.a)(e,["relativeDropPosition"]),s=w?m:v,l=Object(r.jsxs)(s,Object(o.a)(Object(o.a)(Object(o.a)({ref:t,onContextMenu:M,id:n},E),{},{onClick:B,position:L,disabled:y,hovered:S,selected:u,selectedPosition:R,"aria-selected":u},c),{},{children:[i&&Object(r.jsx)(g,{relativeDropPosition:i,offsetLeft:33+j*_}),j>0&&Object(r.jsx)(b.Spacer.Horizontal,{size:j*_}),T]}));return I?Object(r.jsx)(d.a,{items:I,onSelect:A,children:l}):l};return D&&n?Object(r.jsx)(f.a,{id:n,children:function(e){var n=e.ref,r=Object(a.a)(e,["ref"]);return z(r,Object(i.a)(n,t))}}):z({},t)})),y=u.b.ul((function(e){var t=e.theme,n=e.scrollable;return Object(o.a)(Object(o.a)({},h),{},{flex:n?"1 0 0":"0 0 auto",display:"flex",flexDirection:"column",flexWrap:"nowrap",color:t.colors.textMuted})}));function x(e){var t=e.onClick,n=e.sortable,o=void 0!==n&&n,i=e.scrollable,u=void 0!==i&&i,l=e.expandable,d=void 0===l||l,b=e.onMoveItem,h=e.indentation,j=void 0===h?12:h,m=e.acceptsDrop,v=Object(a.a)(e,["onClick","sortable","scrollable","expandable","onMoveItem","indentation","acceptsDrop"]),g=Object(s.useCallback)((function(e){e.stopPropagation(),null===t||void 0===t||t()}),[t]),O="items"in v?v.items.map((function(e,t){return v.renderItem(e,t,{isDragging:!1})})):s.Children.toArray(v.children),x=O.flatMap((function(e){return Object(s.isValidElement)(e)&&"string"===typeof e.props.id?[e.props.id]:[]})),S=O.map((function(e,t){if(!Object(s.isValidElement)(e))return e;var n=O[t-1],a=O[t+1],i=Object(s.isValidElement)(a)&&!a.props.isSectionHeader?a:void 0,c=Object(s.isValidElement)(n)&&!n.props.isSectionHeader?n:void 0,u="only",l="only";if(i&&c?u="middle":i&&!c?u="first":!i&&c&&(u="last"),e.props.selected){var f=i&&i.props.selected,b=c&&c.props.selected;f&&b?l="middle":f&&!b?l="first":!f&&b&&(l="last")}var h={position:u,selectedPosition:l,sortable:o,expandable:d,indentation:j};return Object(r.jsx)(p.Provider,{value:h,children:e},e.key)}));if(o&&x.length!==S.length)throw new Error("Bad ListView props: each row element needs an id to be sortable");var C="items"in v?v.renderItem:void 0,w="items"in v?v.items:void 0,k=Object(s.useMemo)((function(){return C&&w?function(e){return C(w[e],e,{isDragging:!0})}:void 0}),[C,w]),P=o?Object(r.jsx)(f.b,{onMoveItem:b,keys:x,renderOverlay:k,acceptsDrop:m,children:S}):S,T=u?Object(r.jsx)(c.a,{children:P}):P;return Object(r.jsx)(y,{onClick:g,scrollable:u,children:T})}var S=Object(s.memo)(j),C=Object(s.memo)(O),w=Object(s.memo)(x)},,function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d}));var r=n(4),a=n(6),o=n(7);function i(e,t){switch(t[0]){case"setFillGradientColor":case"setBorderGradientColor":var n=Object(r.a)(t,4),a=n[2],i=n[3];return Object(o.a)(e,(function(e){e&&e.stops[a]&&(e.stops[a].color=i)}));case"setFillGradientPosition":case"setBorderGradientPosition":var c=Object(r.a)(t,4),s=c[2],u=c[3];return Object(o.a)(e,(function(e){e&&e.stops[s]&&(e.stops[s].position=u)}));case"addFillGradientStop":case"addBorderGradientStop":var l=Object(r.a)(t,4),d=l[2],f=l[3];return Object(o.a)(e,(function(e){e&&e.stops.push({_class:"gradientStop",color:d,position:f})}));case"setFillGradientType":case"setBorderGradientType":var b=Object(r.a)(t,3)[2];return Object(o.a)(e,(function(e){e&&(e.gradientType=b)}));case"deleteFillGradientStop":case"deleteBorderGradientStop":var h=Object(r.a)(t,3)[2];return Object(o.a)(e,(function(e){e&&e.stops.splice(h,1)}));case"setFillGradient":case"setBorderGradient":return Object(r.a)(t,3)[2];default:return e}}var c=n(10);var s=n(16),u=s.b.color({red:.6,green:.6,blue:.6}),l=s.b.color({red:.85,green:.85,blue:.85});function d(e,t){switch(t[0]){case"addNewBorder":return Object(o.a)(e,(function(e){var t=s.b.border({color:u});e.borders?e.borders.unshift(t):e.borders=[t]}));case"addNewFill":return Object(o.a)(e,(function(e){var t=s.b.fill({color:l});e.fills?e.fills.unshift(t):e.fills=[t]}));case"addNewShadow":var n=s.b.shadow({color:s.b.color({alpha:.5}),offsetY:2,blurRadius:4});return Object(o.a)(e,(function(e){e.shadows?e.shadows.unshift(n):e.shadows=[n]}));case"setBorderEnabled":var d=Object(r.a)(t,3),f=d[1],b=d[2];return Object(o.a)(e,(function(e){e.borders&&e.borders[f]&&(e.borders[f].isEnabled=b)}));case"setFillEnabled":var h=Object(r.a)(t,3),p=h[1],j=h[2];return Object(o.a)(e,(function(e){e.fills&&e.fills[p]&&(e.fills[p].isEnabled=j)}));case"setShadowEnabled":var m=Object(r.a)(t,3),v=m[1],g=m[2];return Object(o.a)(e,(function(e){e.shadows&&e.shadows[v]&&(e.shadows[v].isEnabled=g)}));case"deleteBorder":return Object(o.a)(e,(function(e){e.borders&&e.borders.splice(t[1],1)}));case"deleteFill":return Object(o.a)(e,(function(e){e.fills&&e.fills.splice(t[1],1)}));case"deleteShadow":return Object(o.a)(e,(function(e){e.shadows&&e.shadows.splice(t[1],1)}));case"moveBorder":var O=Object(r.a)(t,3),y=O[1],x=O[2];return Object(o.a)(e,(function(e){if(e.borders){var t=e.borders[y];e.borders.splice(y,1),e.borders.splice(x,0,t)}}));case"moveFill":var S=Object(r.a)(t,3),C=S[1],w=S[2];return Object(o.a)(e,(function(e){if(e.fills){var t=e.fills[C];e.fills.splice(C,1),e.fills.splice(w,0,t)}}));case"moveShadow":var k=Object(r.a)(t,3),P=k[1],T=k[2];return Object(o.a)(e,(function(e){if(e.shadows){var t=e.shadows[P];e.shadows.splice(P,1),e.shadows.splice(T,0,t)}}));case"deleteDisabledBorders":return Object(o.a)(e,(function(e){e.borders&&(e.borders=e.borders.filter((function(e){return e.isEnabled})))}));case"deleteDisabledFills":return Object(o.a)(e,(function(e){e.fills&&(e.fills=e.fills.filter((function(e){return e.isEnabled})))}));case"deleteDisabledShadows":return Object(o.a)(e,(function(e){e.shadows&&(e.shadows=e.shadows.filter((function(e){return e.isEnabled})))}));case"setBorderColor":var I=Object(r.a)(t,3),M=I[1],A=I[2];return Object(o.a)(e,(function(e){e.borders&&e.borders[M]&&(e.borders[M].color=A)}));case"setFillColor":var F=Object(r.a)(t,3),L=F[1],R=F[2];return Object(o.a)(e,(function(e){e.fills&&e.fills[L]&&(e.fills[L].color=R)}));case"setShadowColor":var D=Object(r.a)(t,3),_=D[1],E=D[2];return Object(o.a)(e,(function(e){e.shadows&&e.shadows[_]&&(e.shadows[_].color=E)}));case"setBorderWidth":var B=Object(r.a)(t,4),z=B[1],H=B[2],V=B[3],G=void 0===V?"replace":V;return Object(o.a)(e,(function(e){if(e.borders&&e.borders[z]){var t="replace"===G?H:e.borders[z].thickness+H;e.borders[z].thickness=Math.max(0,t)}}));case"setFillOpacity":var N=Object(r.a)(t,4),W=N[1],U=N[2],Y=N[3],X=void 0===Y?"replace":Y;return Object(o.a)(e,(function(e){if(e.fills&&e.fills[W]){var t="replace"===X?U:e.fills[W].color.alpha+U;e.fills[W].color.alpha=Object(c.clamp)(t,0,1)}}));case"setOpacity":var K=Object(r.a)(t,3),q=K[1],J=K[2],Z=void 0===J?"replace":J;return Object(o.a)(e,(function(e){if(e.contextSettings){var t="replace"===Z?q:e.contextSettings.opacity+q;e.contextSettings.opacity=Object(c.clamp)(t,0,1)}}));case"setShadowX":var $=Object(r.a)(t,4),Q=$[1],ee=$[2],te=$[3],ne=void 0===te?"replace":te;return Object(o.a)(e,(function(e){if(e.shadows&&e.shadows[Q]){var t="replace"===ne?ee:e.shadows[Q].offsetX+ee;e.shadows[Q].offsetX=t}}));case"setShadowY":var re=Object(r.a)(t,4),ae=re[1],oe=re[2],ie=re[3],ce=void 0===ie?"replace":ie;return Object(o.a)(e,(function(e){if(e.shadows&&e.shadows[ae]){var t="replace"===ce?oe:e.shadows[ae].offsetY+oe;e.shadows[ae].offsetY=t}}));case"setShadowBlur":var se=Object(r.a)(t,4),ue=se[1],le=se[2],de=se[3],fe=void 0===de?"replace":de;return Object(o.a)(e,(function(e){if(e.shadows&&e.shadows[ue]){var t="replace"===fe?le:e.shadows[ue].blurRadius+le;e.shadows[ue].blurRadius=t}}));case"setShadowSpread":var be=Object(r.a)(t,4),he=be[1],pe=be[2],je=be[3],me=void 0===je?"replace":je;return Object(o.a)(e,(function(e){if(e.shadows&&e.shadows[he]){var t="replace"===me?pe:e.shadows[he].spread+pe;e.shadows[he].spread=t}}));case"setBorderPosition":var ve=Object(r.a)(t,3),ge=ve[1],Oe=ve[2];return Object(o.a)(e,(function(e){e.borders&&e.borders[ge]&&(e.borders[ge].position=Oe)}));case"setFillFillType":var ye=Object(r.a)(t,3),xe=ye[1],Se=ye[2];return Object(o.a)(e,(function(e){e.fills&&e.fills[xe]&&(e.fills[xe].fillType=Se,Se!==a.a.FillType.Gradient||e.fills[xe].gradient||(e.fills[xe].gradient=s.b.gradient()))}));case"setBorderFillType":var Ce=Object(r.a)(t,3),we=Ce[1],ke=Ce[2];return Object(o.a)(e,(function(e){e.borders&&e.borders[we]&&(e.borders[we].fillType=ke,e.borders[we].gradient||(e.borders[we].gradient=s.b.gradient()))}));case"setFillGradientColor":case"setFillGradientPosition":case"setFillGradientType":case"addFillGradientStop":case"deleteFillGradientStop":case"setFillGradient":var Pe=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){e.fills&&e.fills[Pe]&&(e.fills[Pe].gradient=i(e.fills[Pe].gradient,t))}));case"setBorderGradientColor":case"setBorderGradientPosition":case"setBorderGradientType":case"addBorderGradientStop":case"deleteBorderGradientStop":case"setBorderGradient":var Te=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){e.borders&&e.borders[Te]&&(e.borders[Te].gradient=i(e.borders[Te].gradient,t))}));case"setColorControlsEnabled":case"setHue":case"setSaturation":case"setBrightness":case"setContrast":return Object(o.a)(e,(function(e){e.colorControls=function(e,t){switch(t[0]){case"setColorControlsEnabled":var n=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){e.isEnabled=n}));case"setHue":var a=Object(r.a)(t,3),i=a[1],s=a[2],u=void 0===s?"replace":s;return Object(o.a)(e,(function(e){var t="replace"===u?i:e.hue+i;e.hue=Object(c.clamp)(t,-Math.PI,Math.PI)}));case"setSaturation":var l=Object(r.a)(t,3),d=l[1],f=l[2],b=void 0===f?"replace":f;return Object(o.a)(e,(function(e){var t="replace"===b?d:e.saturation+d;e.saturation=Object(c.clamp)(t,0,2)}));case"setBrightness":var h=Object(r.a)(t,3),p=h[1],j=h[2],m=void 0===j?"replace":j;return Object(o.a)(e,(function(e){var t="replace"===m?p:e.brightness+p;e.brightness=Object(c.clamp)(t,-1,1)}));case"setContrast":var v=Object(r.a)(t,3),g=v[1],O=v[2],y=void 0===O?"replace":O;return Object(o.a)(e,(function(e){var t="replace"===y?g:e.contrast+g;e.contrast=Object(c.clamp)(t,0,4)}));default:return e}}(e.colorControls,t)}));case"setPatternFillType":var Ie=Object(r.a)(t,3),Me=Ie[1],Ae=Ie[2];return Object(o.a)(e,(function(e){e.fills&&e.fills[Me]&&(e.fills[Me].patternFillType=Ae)}));case"setPatternTileScale":var Fe=Object(r.a)(t,4),Le=Fe[1],Re=Fe[2],De=Fe[3],_e=void 0===De?"replace":De;return Object(o.a)(e,(function(e){if(e.fills&&e.fills[Le]){var t="replace"===_e?Re:e.fills[Le].patternTileScale+Re;e.fills[Le].patternTileScale=Object(c.clamp)(t,.1,2)}}));case"setFillImage":var Ee=Object(r.a)(t,3),Be=Ee[1],ze=Ee[2];return Object(o.a)(e,(function(e){e.fills&&e.fills[Be]&&(e.fills[Be].image=ze)}));case"setFillContextSettingsOpacity":var He=Object(r.a)(t,4),Ve=He[1],Ge=He[2],Ne=He[3],We=void 0===Ne?"replace":Ne;return Object(o.a)(e,(function(e){if(e.fills&&e.fills[Ve]){var t="replace"===We?Ge:e.fills[Ve].contextSettings.opacity+Ge;e.fills[Ve].contextSettings.opacity=Object(c.clamp)(t,0,1)}}));default:return e}}},function(e,t,n){"use strict";n.r(t),n.d(t,"colors",(function(){return s})),n.d(t,"fonts",(function(){return u})),n.d(t,"textStyles",(function(){return d})),n.d(t,"sizes",(function(){return f}));var r=n(21),a="800px",o="1280px",i="1550px",c={small:"@media (max-width: ".concat(a,")"),medium:"@media (max-width: ".concat(o,") and (min-width: ").concat(a,")"),large:"@media (max-width: ".concat(i,") and (min-width: ").concat(o,")"),xlarge:"@media (min-width: ".concat(i,")")},s={text:"rgb(38, 48, 83)",textMuted:"rgb(85, 85, 85)",textDisabled:"rgb(160, 160, 160)",textDecorativeLight:"rgb(168, 185, 212)",textLink:"rgb(58, 108, 234)",textLinkFocused:"rgb(35, 82, 124)",divider:"rgba(0, 0, 0, 0.07)",dividerStrong:"rgba(0, 0, 0, 0.09)",primary:"rgb(132, 63, 255)",primaryDark:"rgb(116, 36, 255)",neutralBackground:"rgb(222,223,232)",inputBackground:"rgb(240, 240, 242)",codeBackground:"rgb(250, 250, 250)",selectedBackground:"rgb(242, 245, 250)",transparentChecker:"rgba(255,255,255,0.8)",scrollbar:"rgba(199,199,199,0.8)",placeholderDots:"rgba(0,0,0,0.3)",listView:{raisedBackground:"rgba(255,255,255,0.8)"},canvas:{background:"rgb(249,249,249)",dragHandleStroke:"rgba(180,180,180,0.5)"},sidebar:{background:"rgba(252,252,252,0.85)"},popover:{background:"rgb(252,252,252)"},slider:{background:"white",border:"#BBB"},icon:"rgb(139, 139, 139)",iconSelected:"rgb(220, 220, 220)",mask:"rgb(12,193,67)",imageOverlay:"linear-gradient(0deg, rgba(132, 63, 255,0.55), rgba(132, 63, 255,0.55))",get dragOutline(){return s.primary}},u={normal:"'Helvetica Neue', Helvetica, Arial, sans-serif",monospace:"Menlo, Monaco, Consolas, 'Courier New', monospace"},l=[3.052,2.441,1.953,1.563,1.25,1,.85],d={title:Object(r.a)({fontFamily:u.normal,fontSize:"".concat(l[0],"rem"),fontWeight:"bold",lineHeight:"1.4"},c.small,{fontSize:"36px"}),subtitle:Object(r.a)({fontFamily:u.normal,fontSize:"".concat(l[3],"rem"),fontWeight:500,lineHeight:"1.75"},c.small,{fontSize:"18px"}),heading1:{fontFamily:u.normal,fontSize:"".concat(l[2],"rem"),fontWeight:500,lineHeight:"1.75"},heading2:{fontFamily:u.normal,fontSize:"".concat(l[3],"rem"),fontWeight:500,lineHeight:"1.75"},heading3:{fontFamily:u.normal,fontSize:"".concat(l[4],"rem"),fontWeight:500,lineHeight:"1.75"},body:{fontFamily:u.normal,fontSize:"".concat(l[5],"rem"),fontWeight:400,lineHeight:"1.75"},small:{fontFamily:u.normal,fontSize:"".concat(l[6],"rem"),fontWeight:400,lineHeight:"1.4"},code:{fontFamily:u.monospace,fontSize:"90%",lineHeight:"1.5"}},f={sidebarWidth:260,toolbar:{height:46,itemSeparator:8},spacing:{nano:2,micro:4,small:8,medium:16,large:32,xlarge:64,xxlarge:128}}},,function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(e){return Object(r.useMemo)((function(){return e}),[null===e||void 0===e?void 0:e[0],null===e||void 0===e?void 0:e[1],null===e||void 0===e?void 0:e[2],null===e||void 0===e?void 0:e[3]])}},function(e,t,n){"use strict";function r(e,t,n){if(e===t)return!0;if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!(n?a(e[r],t[r],n):e[r]===t[r]))return!1;return!0}function a(e,t,n){var o=typeof e;return o===typeof t&&("object"!==o?e===t:e instanceof Array&&t instanceof Array?r(e,t,n):function(e,t,n){if(e===t)return!0;if(!e||!t)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(var i=0;i<r.length;i++){var c=r[i];if(!(n?a(e[c],t[c],n):e[c]===t[c])||!Object.prototype.hasOwnProperty.call(t,c))return!1}return!0}(e,t,n))}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}))},,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return j}));var r=n(1),a=n(4),o=n(2),i=n(33),c=n(120),s=n(0),u=n(42),l=function(e,t,n){return"inside"!==n&&e!==t},d=Object(s.createContext)({position:{x:0,y:0},acceptsDrop:l,setActivatorEvent:function(){}});function f(e,t,n,r,a,o){var i=e(t,n,"inside");if(r>=a+o/3&&r<=a+2*o/3&&i)return"inside";var c=r<a+o/2?"above":"below";return e(t,n,c)?c:i?"inside":void 0}function b(e){var t,n=e.id,r=e.children,a=Object(s.useContext)(d),i=a.position,u=a.acceptsDrop,l=a.setActivatorEvent,b=Object(c.b)({id:n}),h=b.active,p=b.activatorEvent,j=b.attributes,m=b.listeners,v=b.setNodeRef,g=b.isDragging,O=b.index,y=b.overIndex,x=b.over;p&&l(p);var S=(null!==(t=null===p||void 0===p?void 0:p.clientY)&&void 0!==t?t:0)+i.y;return r(Object(o.a)(Object(o.a)(Object(o.a)({ref:v},j),m),{},{relativeDropPosition:O===y&&!g&&h&&x?f(u,h.id,x.id,S,x.rect.offsetTop,x.rect.height):void 0}))}function h(e){var t=e.keys,n=e.children,b=e.onMoveItem,h=e.renderOverlay,p=e.acceptsDrop,j=void 0===p?l:p,m=Object(i.n)(Object(i.m)(i.d,{activationConstraint:{distance:4}})),v=Object(s.useState)(),g=Object(a.a)(v,2),O=g[0],y=g[1],x=Object(s.useRef)(null),S=Object(s.useCallback)((function(e){x.current=e}),[]),C=Object(s.useState)({x:0,y:0}),w=Object(a.a)(C,2),k=w[0],P=w[1],T=Object(s.useCallback)((function(e){y(t.indexOf(e.active.id))}),[t]),I=Object(s.useCallback)((function(e){P(Object(o.a)({},e.delta))}),[]),M=Object(s.useCallback)((function(e){var n=e.active,r=e.over;if(y(void 0),r&&n.id!==r.id){var a,o,i=t.indexOf(n.id),c=t.indexOf(r.id),s=(null!==(a=null===(o=x.current)||void 0===o?void 0:o.clientY)&&void 0!==a?a:0)+k.y,u=f(j,n.id,r.id,s,r.rect.offsetTop,r.rect.height);if(!u)return;null===b||void 0===b||b(i,c,u)}}),[j,t,b,k.y]);return Object(r.jsx)(d.Provider,{value:Object(s.useMemo)((function(){return{acceptsDrop:j,position:k,setActivatorEvent:S}}),[j,k,S]),children:Object(r.jsxs)(i.a,{sensors:m,collisionDetection:i.e,onDragStart:T,onDragMove:I,onDragEnd:M,children:[Object(r.jsx)(c.a,{items:t,strategy:c.c,children:n}),h&&Object(u.createPortal)(Object(r.jsx)(i.b,{dropAnimation:null,children:void 0!==O&&h(O)}),document.body)]})})}var p=Object(s.memo)(b),j=Object(s.memo)(h)},function(e,t,n){"use strict";n.d(t,"b",(function(){return H})),n.d(t,"a",(function(){return V})),n.d(t,"c",(function(){return G}));var r=n(4),a=n(6),o=n(7),i=n(10),c=n(18),s=n(9),u=n(11);var l=n(14),d=n(2),f=n(21),b=n(16),h=n(5),p=n(49),j=n(46),m=n(74);var v=n(70);var g=n(89),O=n(44),y=n(54);function x(e,t,n,r){return b.b.curvePoint({curveMode:e||a.a.CurveMode.None,point:b.a.encode(t),curveTo:b.a.encode(n||t),curveFrom:b.a.encode(r||t),hasCurveTo:!!n,hasCurveFrom:!!r})}var S=function(){function e(){Object(O.a)(this,e),this.paths=[],this.curvePoints=[]}return Object(y.a)(e,[{key:"addCommand",value:function(e){switch(e.type){case"line":var t=x(a.a.CurveMode.Straight,e.to);this.curvePoints.push(t);break;case"move":this.finishPath(!1);var n=x(a.a.CurveMode.Straight,e.to);this.curvePoints.push(n);break;case"cubicCurve":var r=this.lastCurvePoint;r&&(r.curveFrom=b.a.encode(e.controlPoint1),r.curveMode=a.a.CurveMode.Mirrored,r.hasCurveFrom=!0);var o=x(a.a.CurveMode.Mirrored,e.to,e.controlPoint2);this.curvePoints.push(o);break;case"close":var i=this.firstCurvePoint,c=this.lastCurvePoint;i&&c&&i.point===c.point&&c.hasCurveTo&&(i.curveTo=c.curveTo,i.hasCurveTo=c.hasCurveTo,i.curveMode=a.a.CurveMode.Mirrored,this.curvePoints.pop()),this.finishPath(!0);break;default:throw new Error("Invalid SVG path command: ".concat(JSON.stringify(e)))}}},{key:"done",value:function(){return this.finishPath(!1),this.paths}},{key:"finishPath",value:function(e){0!==this.curvePoints.length&&(this.paths.push({points:this.curvePoints,isClosed:e}),this.curvePoints=[])}},{key:"firstCurvePoint",get:function(){return this.curvePoints.length>0?this.curvePoints[0]:void 0}},{key:"lastCurvePoint",get:function(){return this.curvePoints.length>0?this.curvePoints[this.curvePoints.length-1]:void 0}}]),e}();function C(e){return Object(u.computeBoundsFromPoints)(e.flatMap(g.getCommandPoints))}function w(e){switch(e){case"butt":return a.a.LineCapStyle.Butt;case"round":return a.a.LineCapStyle.Round;case"square":return a.a.LineCapStyle.Projecting;default:throw new Error("Invalid SVG stroke line cap: ".concat(e))}}function k(e){var t,n=null!==(t=Object(g.parseCSSColor)(e))&&void 0!==t?t:[0,0,0,1],a=Object(r.a)(n,4),o=a[0],i=a[1],c=a[2],s=a[3];return b.b.color({red:o/255,green:i/255,blue:c/255,alpha:s})}function P(e){var t=C(e),n=u.AffineTransform.scale(1/t.width,1/t.height).translate(-t.x,-t.y);return{frame:t,paths:function(e){var t=new S;return e.forEach((function(e){t.addCommand(e)})),t.done()}(e.map((function(e){return Object(g.mapCommandPoints)(e,(function(e){return n.applyTo(e)}))})))}}function T(e,t){var n,r,o=Object(g.convert)(t,{convertQuadraticsToCubics:!0}),i=o.viewBox,c=o.width,s=o.height,f=o.children,h=u.unionRects.apply(void 0,Object(l.a)(f.map((function(e){return C(e.commands)})))),p={width:null!==(n=null!==c&&void 0!==c?c:null===i||void 0===i?void 0:i.width)&&void 0!==n?n:h.width,height:null!==(r=null!==s&&void 0!==s?s:null===i||void 0===i?void 0:i.height)&&void 0!==r?r:h.height},j=null!==i&&void 0!==i?i:h,m=Object(u.resize)(j,p,"scaleAspectFit").width/j.width,v=Object(u.transformRect)(h,u.AffineTransform.scale(m)),O={x:-v.x,y:-v.y},y=f.map((function(e){return function(e,t,n){var r=e.commands,o=e.style,i=P(r),c=i.frame,s=i.paths,l=Object(u.transformRect)(c,u.AffineTransform.scale(t).translate(n.x,n.y)),f={x:0,y:0,width:l.width,height:l.height},h=s.map((function(e){return b.b.shapePath({frame:b.b.rect(f),points:e.points,isClosed:e.isClosed})})),p=b.b.shapeGroup({frame:b.b.rect(l),layers:h,style:b.b.style({fills:o.fill?[b.b.fill({color:k(o.fill)})]:[]})});if(o.stroke&&p.style){var j=b.b.border({thickness:o.strokeWidth*t,color:k(o.stroke),position:a.a.BorderPosition.Center});p.style=Object(d.a)(Object(d.a)({},p.style),{},{borders:[j],borderOptions:Object(d.a)(Object(d.a)({},p.style.borderOptions),{},{lineCapStyle:w(o.strokeLineCap)})})}return p}(e,m,O)}));return b.b.group({frame:b.b.rect(Object(d.a)(Object(d.a)({},v),{},{x:0,y:0})),name:e,layers:y})}function I(e,t,n){var r=void 0===t?[]:Array.isArray(t)?t:[t];switch(n){case"intersection":return void e.push.apply(e,Object(l.a)(r.filter((function(t){return!e.includes(t)}))));case"difference":return void r.forEach((function(t){var n=e.indexOf(t);e.splice(n,1)}));case"replace":return e.length=0,void e.push.apply(e,Object(l.a)(r))}}var M=function(e,t,n){var r=b.b.page({name:n});return t[r.do_objectID]={scrollOrigin:"{0, 0}",zoomValue:1},e.push(r),r};var A=function(e,t,n,r,a){var f=Object(s.getBoundingRect)(t,u.AffineTransform.identity,n,{clickThroughGroups:!0,includeHiddenLayers:!0,includeArtboardLayers:!1});if(f){var h=Object(s.getLayerTransformAtIndexPath)(t,a[0]),p=Object(u.transformRect)(f,h.invert()),j=u.AffineTransform.multiply(h,u.AffineTransform.translation(p.x,p.y));return Object(o.a)(e,(function(e){e.do_objectID=Object(i.uuid)(),e.name=r,e.frame=Object(d.a)({_class:"rect",constrainProportions:!1},p),e.style=b.b.style(),e.layers=Object(l.a)(a).map((function(e){var n=c.access(t,e),r=Object(s.getLayerTransformAtIndexPath)(t,e),a=u.AffineTransform.multiply(r,j.invert());return Object(o.a)(n,(function(e){e.frame=Object(d.a)(Object(d.a)({},e.frame),Object(u.transformRect)(e.frame,a))}))}))}))}console.info("[groupLayer] Selected layers not found")},F=function(e,t,n,r){var a=r[r.length-1],c=n.layers[a],u=Object(s.getSymbols)(t).filter((function(e){return e.symbolID===c.symbolID}))[0],l=b.b.group({name:c.name,frame:c.frame,layers:u.layers.map((function(e){return Object(o.a)(e,(function(e){e.do_objectID=Object(i.uuid)()}))}))});Object(s.deleteLayers)([r],e),Object(s.addSiblingLayer)(e,r,l)},L=function(e,t,n){n.forEach((function(n){var r=n.indexPaths,a=n.pageIndex;r.forEach((function(n){var r=e[a],o=Object(s.getParentLayer)(r,n);F(r,t,o,n)}))}))};function R(e,t){switch(t[0]){case"importSvg":var n=Object(r.a)(t,4),a=n[1],u=T(n[2],n[3]);u.frame=Object(d.a)(Object(d.a)({},u.frame),{},{x:a.x-u.frame.width/2,y:a.y-u.frame.height/2});var f=Object(s.getCurrentPageIndex)(e);return Object(o.a)(e,(function(e){e.sketch.pages[f].layers.push(u)}));case"moveLayer":var h=Object(r.a)(t,4),p=h[1],j=h[2],m=h[3];return Object(s.moveLayer)(e,p,j,m);case"deleteLayer":case"deleteSymbol":var v=Object(r.a)(t,2)[1],g="string"===typeof v?[v]:v,O=Object(s.findPageLayerIndexPaths)(e,(function(e){return g.includes(e.do_objectID)})),y=Object(s.getSelectedSymbols)(e).flatMap((function(t){return Object(s.getSymbolsInstancesIndexPaths)(e,t.symbolID)}));return Object(o.a)(e,(function(t){L(t.sketch.pages,e,y),O.forEach((function(e){return Object(s.deleteLayers)(e.indexPaths,t.sketch.pages[e.pageIndex])}))}));case"groupLayer":var x=Object(r.a)(t,3),S=x[1],C=x[2],w="string"===typeof S?[S]:S,k=Object(s.getCurrentPage)(e),P=Object(s.getCurrentPageIndex)(e),R=Object(s.getIndexPathsForGroup)(e,w),D=A(b.b.group(),k,w,C,R);return D?Object(o.a)(e,(function(e){var t=e.sketch.pages;Object(s.deleteLayers)(R,t[P]),Object(s.addSiblingLayer)(t[P],R[0],D),e.selectedObjects=[D.do_objectID]})):e;case"ungroupLayer":case"detachSymbol":var _=Object(r.a)(t,2)[1],E="string"===typeof _?[_]:_,B=Object(s.getCurrentPage)(e),z=Object(s.getCurrentPageIndex)(e),H=Object(s.getIndexPathsForGroup)(e,E)[0];return Object(o.a)(e,(function(n){var r=Object(s.getParentLayer)(B,H),a=n.sketch.pages[z];if("ungroupLayer"===t[0]){var i=function(e,t){var n=t[t.length-1],r=e.layers[n];return r.layers.map((function(e){return Object(o.a)(e,(function(e){e.frame=Object(d.a)(Object(d.a)({},e.frame),{},{x:e.frame.x+r.frame.x,y:e.frame.y+r.frame.y})}))}))}(r,H);Object(s.deleteLayers)([H],a),Object(s.addSiblingLayer)(a,H,i)}else F(a,e,r,H);c.isPageLayer(r)||(n.selectedObjects=[r.do_objectID])}));case"selectLayer":var V=Object(r.a)(t,3),G=V[1],N=V[2],W=void 0===N?"replace":N;return Object(o.a)(e,(function(e){I(e.selectedObjects,G,W)}));case"selectAllLayers":var U=Object(s.getCurrentPage)(e).layers.map((function(e){return e.do_objectID}));return Object(o.a)(e,(function(e){I(e.selectedObjects,U,"replace")}));case"createSymbol":var Y=Object(r.a)(t,3),X=Y[1],K=Y[2],q="string"===typeof X?[X]:X,J=Object(s.getCurrentPage)(e),Z=Object(s.getCurrentPageIndex)(e),$=Object(s.getIndexPathsOfArtboardLayers)(e,q);if($.length>0)return Object(o.a)(e,(function(e){var t=e.sketch.pages;Object(s.deleteLayers)($,t[Z]),e.selectedObjects=[],$.forEach((function(n){var r=c.access(J,n),a=b.b.symbolMaster(Object(d.a)({},r));Object(s.addSiblingLayer)(t[Z],n,a),e.selectedObjects=[].concat(Object(l.a)(e.selectedObjects),[a.do_objectID])}))}));var Q=Object(s.getSymbolsPageIndex)(e),ee=Object(s.getIndexPathsForGroup)(e,q),te=A(b.b.symbolMaster(),J,q,K,ee);if(!te)return e;var ne=Object(d.a)({},te.frame),re=e.sketch.pages[Q],ae=re?Object(s.getRightMostLayerBounds)(re):{maxX:0,minY:25};return te.frame.x=ae.maxX+100,te.frame.y=ae.minY,Object(o.a)(e,(function(e){var t=e.sketch.pages;Object(s.deleteLayers)(ee,t[Z]);var n=-1===Q?M(t,e.sketch.user,"Symbols"):t[Q],r=b.b.symbolInstance({name:te.name,symbolID:te.symbolID,frame:ne});n.layers=[].concat(Object(l.a)(n.layers),[te]),Object(s.addSiblingLayer)(t[Z],ee[0],r),e.selectedObjects=[r.do_objectID]}));case"duplicateLayer":var oe=Object(r.a)(t,2)[1],ie="string"===typeof oe?[oe]:oe,ce=e.sketch.pages,se=Object(s.findPageLayerIndexPaths)(e,(function(e){return ie.includes(e.do_objectID)})).reverse();return Object(o.a)(e,(function(e){se.forEach((function(t){var n=t.indexPaths,r=t.pageIndex,a=ce[r],u=e.sketch.pages[r];n.forEach((function(e){var t=c.access(a,e),n=Object(o.a)(t,(function(e){e.name=e.name+" Copy",c.visit(e,(function(e){e.style&&(e.style.do_objectID=Object(i.uuid)()),c.isSymbolMaster(e)&&(e.symbolID=Object(i.uuid)(),e.frame=Object(d.a)(Object(d.a)({},e.frame),{},{x:e.frame.x+e.frame.width+25,y:e.frame.y})),e.do_objectID=Object(i.uuid)()}))}));Object(s.addSiblingLayer)(u,e,n)}))}))}));default:return e}}function D(e,t,n){switch(t[0]){case"setPointCurveMode":var i=Object(r.a)(t,2)[1];return _(e,(function(e){e.curveMode=i,i!==a.a.CurveMode.Straight&&(e.hasCurveFrom=!0,e.hasCurveTo=!0)}));case"setPointCornerRadius":var c=Object(r.a)(t,3),u=c[1],l=c[2];return _(e,(function(e){var t="replace"===l?u:e.cornerRadius+u;e.cornerRadius=Math.max(0,t)}));case"selectPoint":var d=Object(r.a)(t,3),f=d[1],b=d[2],h=void 0===b?"replace":b;return Object(o.a)(e,(function(e){for(var t in e.selectedControlPoint=void 0,e.selectedPointLists){I(e.selectedPointLists[t],f&&f[0]===t?f[1]:void 0,h)}}));case"selectControlPoint":var p=Object(r.a)(t,4),j=p[1],m=p[2],v=p[3];return Object(o.a)(e,(function(e){for(var t in e.selectedPointLists)e.selectedPointLists[t]=[];e.selectedControlPoint={layerId:j,pointIndex:m,controlPointType:v}}));case"setPointX":case"setPointY":var g=Object(r.a)(t,4),O=g[0],y=g[1],x=g[2],S=g[3],C=void 0===S?"replace":S,w=Object(s.getCurrentPageIndex)(e),k=Object(s.getSelectedLayerIndexPaths)(e);return Object(o.a)(e,(function(e){var t="setPointX"===O?{x:x}:{y:x};Object(s.moveSelectedPoints)(y,k,t,C,e.sketch.pages[w],e.sketch.pages[w],n)}));case"setControlPointX":case"setControlPointY":var P=Object(r.a)(t,3),T=P[0],M=P[1],A=P[2],F=void 0===A?"replace":A,L=Object(s.getCurrentPageIndex)(e),R=Object(s.getSelectedLayerIndexPaths)(e);return Object(o.a)(e,(function(e){if(e.selectedControlPoint){var t="setControlPointX"===T?{x:M}:{y:M};Object(s.moveControlPoints)(e.selectedControlPoint,R,t,F,e.sketch.pages[L],e.sketch.pages[L],n)}}));default:return e}}function _(e,t){var n=Object(s.getCurrentPageIndex)(e),r=Object(s.getSelectedLayerIndexPaths)(e);return Object(o.a)(e,(function(e){r.forEach((function(r){var a=e.sketch.pages[n],o=c.access(a,r),i=e.selectedControlPoint?[e.selectedControlPoint.pointIndex]:e.selectedPointLists[o.do_objectID];c.isPointsLayer(o)&&i&&o.points.forEach((function(e,n){i.includes(n)&&t(e)}))}))}))}var E=n(57),B=n(37);function z(e,t){switch(t[0]){case"setTextColor":var n=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){e.MSAttributedStringColorAttribute=n}));case"setTextFontName":var a=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){var t=e.MSAttributedStringFontAttribute.attributes,n=t.name.split("-"),r=n[1]?"-"+n[1]:"";t.name=a.startsWith("-")?n[0]+a:a+r}));case"setTextFontSize":var i=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){e.MSAttributedStringFontAttribute.attributes.size=i}));case"setTextLetterSpacing":var c=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){e.kerning=c}));case"setTextLineSpacing":var s=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){var t;e.paragraphStyle=null!==(t=e.paragraphStyle)&&void 0!==t?t:{_class:"paragraphStyle",alignment:0},e.paragraphStyle.maximumLineHeight=s,e.paragraphStyle.maximumLineHeight=s}));case"setTextParagraphSpacing":var u=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){var t;e.paragraphStyle=null!==(t=e.paragraphStyle)&&void 0!==t?t:{_class:"paragraphStyle",alignment:0},e.paragraphStyle.paragraphSpacing=u}));case"setTextHorizontalAlignment":var l=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){var t;e.paragraphStyle=null!==(t=e.paragraphStyle)&&void 0!==t?t:{_class:"paragraphStyle",alignment:0},e.paragraphStyle.alignment=l}));case"setTextVerticalAlignment":var d=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){e.textStyleVerticalAlignmentKey=d}));default:return e}}function H(e,t,n){switch(t[0]){case"setKeyModifier":var g=Object(r.a)(t,3),O=g[1],y=g[2];return Object(o.a)(e,(function(e){e.keyModifiers[O]=y}));case"setTab":var x=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){e.currentTab=x,e.interactionState=Object(j.d)(e.interactionState,["reset"])}));case"selectPage":case"addPage":case"renamePage":case"duplicatePage":case"deletePage":case"movePage":return function(e,t){switch(t[0]){case"selectPage":return Object(o.a)(e,(function(e){e.selectedPage=t[1]}));case"addPage":var n=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){var t=M(e.sketch.pages,e.sketch.user,n);e.selectedPage=t.do_objectID}));case"renamePage":var a=Object(r.a)(t,2)[1],u=Object(s.getCurrentPageIndex)(e);return Object(o.a)(e,(function(e){var t=e.sketch.pages,n=t[u];t[u]=Object(o.a)(n,(function(e){return e.name=a||"Page ".concat(t.length+1),e}))}));case"duplicatePage":var l=Object(s.getCurrentPageIndex)(e);return Object(o.a)(e,(function(e){var t=e.sketch.pages,n=e.sketch.user,r=t[l],a={};r.layers.filter(c.isSymbolMaster).forEach((function(e){a[e.symbolID]=Object(i.uuid)()}));var s=Object(o.a)(r,(function(e){return e.name="".concat(e.name," Copy"),c.visit(e,(function(e){e.do_objectID=Object(i.uuid)(),e.style&&(e.style.do_objectID=Object(i.uuid)()),(c.isSymbolMaster(e)||c.isSymbolInstance(e)&&e.symbolID in a)&&(e.symbolID=a[e.symbolID])})),e}));n[s.do_objectID]={scrollOrigin:n[r.do_objectID].scrollOrigin,zoomValue:n[r.do_objectID].zoomValue},t.push(s),e.selectedPage=s.do_objectID}));case"deletePage":var d=Object(s.getCurrentPage)(e),f=Object(s.getCurrentPageIndex)(e),b=d.layers.flatMap((function(e){return c.isSymbolMaster(e)?[e.symbolID]:[]})).flatMap((function(t){return Object(s.getSymbolsInstancesIndexPaths)(e,t)}));return Object(o.a)(e,(function(t){var n=t.sketch.pages;delete t.sketch.user[d.do_objectID],n.splice(f,1),L(n,e,b);var r=Math.max(f-1,0);t.selectedPage=n[r].do_objectID}));case"movePage":var h=Object(r.a)(t,3),p=h[1],j=h[2];return Object(o.a)(e,(function(e){var t=e.sketch.pages[p];e.sketch.pages.splice(p,1),e.sketch.pages.splice(j,0,t)}));default:return e}}(e,t);case"insertArtboard":case"addDrawnLayer":case"addShapePathLayer":case"addSymbolLayer":case"addPointToPath":case"pan":case"insertBitmap":case"interaction":case"moveLayersIntoParentAtPoint":return function(e,t,n){switch(t[0]){case"insertArtboard":var v=Object(r.a)(t,2)[1],g=v.name,O=v.width,y=v.height,x=Object(s.getCurrentPageIndex)(e),S=Object(s.getCurrentPageMetadata)(e).scrollOrigin;return Object(o.a)(e,(function(e){var t=b.b.artboard({name:g,frame:b.b.rect({x:100-S.x,y:100-S.y,width:O,height:y})});e.sketch.pages[x].layers.push(t),e.interactionState=Object(j.d)(e.interactionState,["reset"]),e.selectedObjects=[t.do_objectID]}));case"addDrawnLayer":var C=Object(s.getCurrentPageIndex)(e);return Object(o.a)(e,(function(e){if("drawing"===e.interactionState.type){var t=e.interactionState.value;t.frame.width>0&&t.frame.height>0&&(Object(s.addToParentLayer)(e.sketch.pages[C].layers,t),e.selectedObjects=[t.do_objectID]),e.interactionState=Object(j.d)(e.interactionState,["reset"])}}));case"addShapePathLayer":var w=Object(r.a)(t,2)[1],k=Object(s.getCurrentPageIndex)(e);return Object(o.a)(e,(function(e){var t=b.b.shapePath({frame:b.b.rect({x:w.x,y:w.y,width:1,height:1}),style:b.b.style({borders:[b.b.border({color:m.a})]}),isClosed:!1});Object(s.addToParentLayer)(e.sketch.pages[k].layers,t);var n={_class:"curvePoint",cornerRadius:0,curveFrom:w,curveTo:w,hasCurveFrom:!1,hasCurveTo:!1,curveMode:a.a.CurveMode.Straight,point:w},r=Object(h.encodeCurvePoint)(n,t.frame);t.points=[r],e.selectedObjects=[t.do_objectID],e.selectedPointLists=Object(f.a)({},t.do_objectID,[0])}));case"addSymbolLayer":var P=Object(r.a)(t,3),T=P[1],I=P[2],M=Object(s.getCurrentPageIndex)(e),A=Object(s.getSymbols)(e).find((function(e){return e.do_objectID===T})),F=b.b.symbolInstance({name:A.name,symbolID:A.symbolID,frame:Object(d.a)(Object(d.a)({},A.frame),{},{x:I.x-A.frame.width/2,y:I.y-A.frame.height/2})});return Object(o.a)(e,(function(e){Object(s.addToParentLayer)(e.sketch.pages[M].layers,F),e.selectedObjects=[F.do_objectID]}));case"addPointToPath":var L=Object(r.a)(t,2)[1],R=Object(s.getIndexPathOfOpenShapeLayer)(e);if(!R)return e;var D=Object(s.getCurrentPageIndex)(e);return Object(o.a)(e,(function(e){var t=c.access(e.sketch.pages[D],R.indexPath),r=Object(s.getBoundingRect)(e.sketch.pages[D],u.AffineTransform.identity,[t.do_objectID],{clickThroughGroups:!0,includeHiddenLayers:!1,includeArtboardLayers:!1});if(r&&t&&c.isPointsLayer(t)){var o=t.points.map((function(e){return Object(h.decodeCurvePoint)(e,r)})),i={_class:"curvePoint",cornerRadius:0,curveFrom:L,curveTo:L,hasCurveFrom:!1,hasCurveTo:!1,curveMode:a.a.CurveMode.Straight,point:L},f=R.pointIndex===t.points.length-1,b=f?[].concat(Object(l.a)(o),[i]):[i].concat(Object(l.a)(o));t.frame=Object(d.a)(Object(d.a)({},t.frame),Object(s.computeNewBoundingRect)(n,b,t)),Object(s.fixZeroLayerDimensions)(t),t.points=b.map((function(e,n){return Object(h.encodeCurvePoint)(e,t.frame)})),e.selectedPointLists[t.do_objectID]=f?[t.points.length-1]:[0],e.selectedControlPoint=void 0}}));case"pan":var _=Object(s.getCurrentPage)(e).do_objectID,E=t[1],B=E.x,z=E.y;return Object(o.a)(e,(function(e){var t,n=null!==(t=e.sketch.user[_])&&void 0!==t?t:{zoomValue:1,scrollOrigin:"{100,100}"},r=h.Primitives.parsePoint(n.scrollOrigin);r.x-=B,r.y-=z,e.sketch.user[_]=Object(d.a)(Object(d.a)({},n),{},{scrollOrigin:h.Primitives.stringifyPoint(r)})}));case"moveLayersIntoParentAtPoint":var H,V,G=Object(r.a)(t,2)[1],N=Object(s.getCurrentPage)(e),W=null!==(H=null===(V=Object(s.getParentLayerAtPoint)(N,G))||void 0===V?void 0:V.do_objectID)&&void 0!==H?H:N.do_objectID,U=Object(s.getSelectedLayerIndexPathsExcludingDescendants)(e);return U.every((function(e){return Object(s.getParentLayer)(N,e).do_objectID===W}))||U.some((function(e){var t=c.access(N,e);return c.isArtboard(t)||c.isSymbolMaster(t)}))?e:Object(s.moveLayer)(e,e.selectedObjects,W,"inside");case"interaction":var Y=Object(s.getCurrentPage)(e),X=Y.do_objectID,K=Object(s.getCurrentPageIndex)(e),q=Object(s.getSelectedLayerIndexPathsExcludingDescendants)(e),J=q.map((function(e){return c.access(Y,e).do_objectID})),Z=Object(j.d)(e.interactionState,"maybeScale"===t[1][0]||"maybeMove"===t[1][0]||"maybeMovePoint"===t[1][0]||"maybeMoveControlPoint"===t[1][0]?[].concat(Object(l.a)(t[1]),[Y]):t[1]);return Object(o.a)(e,(function(r){switch(r.interactionState=Z,Z.type){case"editPath":if("resetEditPath"===t[1][0])break;r.selectedPointLists={},q.forEach((function(e,t){var n=c.access(Y,e);c.isPointsLayer(n)&&(r.selectedPointLists[n.do_objectID]=0===t?[0]:[])}));break;case"moving":var a=Z.origin,o=Z.current,i=Z.pageSnapshot,f=Object(s.getBoundingRect)(i,u.AffineTransform.identity,J,{clickThroughGroups:!0,includeHiddenLayers:!1,includeArtboardLayers:!1});if(!f)return void console.info("No selected rect");var b={x:o.x-a.x,y:o.y-a.y},j=Object(p.d)(e,q,Z.canvasSize).filter((function(e){return!J.includes(e.do_objectID)})),m=Object(p.c)(Y,j);f.x+=b.x,f.y+=b.y;var v=Object(u.createBounds)(f),g=Object(p.b)(v,"x"),O=Object(p.b)(v,"y"),y=Object(p.e)(g,m,"x"),x=Object(p.e)(O,m,"y");b.y-=Object(p.a)(x),b.x-=Object(p.a)(y),q.forEach((function(e){var t=c.access(i,e).frame,n=c.access(r.sketch.pages[K],e);n.frame.x=t.x+b.x,n.frame.y=t.y+b.y}));break;case"movingPoint":var S=Z.current,C=Z.origin,w=Z.pageSnapshot,k={x:S.x-C.x,y:S.y-C.y};Object(s.moveSelectedPoints)(r.selectedPointLists,q,k,"adjust",r.sketch.pages[K],w,n);break;case"movingControlPoint":if(!r.selectedControlPoint)return;var P=Z.current,T=Z.origin,I=Z.pageSnapshot,M={x:P.x-T.x,y:P.y-T.y};Object(s.moveControlPoints)(r.selectedControlPoint,q,M,"adjust",r.sketch.pages[K],I,n);break;case"scaling":var A=Z.origin,F=Z.current,L=Z.pageSnapshot,R=Z.direction,D=Object(s.getBoundingRect)(L,u.AffineTransform.identity,J),_=Object(h.resizeRect)(D,{x:F.x-A.x,y:F.y-A.y},R),E=u.AffineTransform.multiply(u.AffineTransform.translation(D.x,D.y),u.AffineTransform.scale(D.width,D.height)).invert(),B=u.AffineTransform.multiply(u.AffineTransform.translation(_.x,_.y),u.AffineTransform.scale(_.width,_.height));q.forEach((function(e){var t=c.access(L,e),n=u.AffineTransform.multiply.apply(u.AffineTransform,Object(l.a)(c.accessPath(L,e).slice(1,-1).map((function(e){return u.AffineTransform.translation(e.frame.x,e.frame.y)})).reverse())),a=c.access(r.sketch.pages[K],e),o=u.AffineTransform.multiply(n.invert(),B,E,n).applyTo({x:t.frame.x,y:t.frame.y}),i=u.AffineTransform.multiply(n.invert(),B,E,n).applyTo({x:t.frame.x+t.frame.width,y:t.frame.y+t.frame.height}),s=i.x-o.x,d=i.y-o.y,f=Object(u.normalizeRect)({x:Math.round(o.x),y:Math.round(o.y),width:Math.round(s),height:Math.round(d)});a.isFlippedHorizontal=s<0,a.isFlippedVertical=d<0,a.frame.x=f.x,a.frame.y=f.y,a.frame.width=f.width,a.frame.height=f.height}));break;case"panning":var z,H=Z.previous,V=Z.next,G={x:V.x-H.x,y:V.y-H.y},N=null!==(z=r.sketch.user[X])&&void 0!==z?z:{zoomValue:1,scrollOrigin:"{100,100}"},W=h.Primitives.parsePoint(N.scrollOrigin);W.x+=G.x,W.y+=G.y,r.sketch.user[X]=Object(d.a)(Object(d.a)({},N),{},{scrollOrigin:h.Primitives.stringifyPoint(W)})}}));case"insertBitmap":var $=Object(r.a)(t,3),Q=$[1],ee=$[2],te=ee.name,ne=ee.frame,re=ee.extension,ae=Object(s.getCurrentPageIndex)(e);return Object(o.a)(e,(function(e){var t="images/".concat(Object(i.uuid)(),".").concat(re);e.sketch.images[t]=Q;var n=b.b.bitmap({name:te.replace(".".concat(re),""),image:b.b.fileReference({_ref:t}),frame:b.b.rect(ne)});Object(s.addToParentLayer)(e.sketch.pages[ae].layers,n)}));default:return e}}(e,t,n);case"setLayerVisible":case"setLayerIsLocked":case"setExpandedInLayerList":case"setFixedRadius":case"setLayerX":case"setLayerY":case"setLayerWidth":case"setLayerHeight":case"setLayerRotation":case"setIsClosed":case"setIsFlippedHorizontal":case"setIsFlippedVertical":case"setHasClippingMask":case"setShouldBreakMaskChain":case"setMaskMode":return function(e,t,n){switch(t[0]){case"setLayerVisible":case"setLayerIsLocked":var i=Object(r.a)(t,3),u=i[0],l=i[1],f=i[2],b="setLayerVisible"===u?"isVisible":"isLocked",h="string"===typeof l?[l]:l,p=Object(s.getCurrentPage)(e),j=Object(s.getCurrentPageIndex)(e),m=c.findAllIndexPaths(p,(function(e){return h.includes(e.do_objectID)}));return Object(o.a)(e,(function(e){V(e,j,m).forEach((function(e){e[b]=f}))}));case"setExpandedInLayerList":var g=Object(r.a)(t,3),O=g[1],y=g[2],x=Object(s.getCurrentPage)(e),S=Object(s.getCurrentPageIndex)(e),C=c.findIndexPath(x,(function(e){return e.do_objectID===O}));return C?Object(o.a)(e,(function(e){c.access(e.sketch.pages[S],C).layerListExpandedType=y?a.a.LayerListExpanded.Expanded:a.a.LayerListExpanded.Collapsed})):e;case"setFixedRadius":var w=Object(r.a)(t,3),k=w[1],P=w[2],T=void 0===P?"replace":P,I=Object(s.getCurrentPageIndex)(e),M=Object(s.getSelectedLayerIndexPaths)(e);return Object(o.a)(e,(function(e){V(e,I,M).forEach((function(e){if("rectangle"===e._class){var t="replace"===T?k:e.fixedRadius+k;e.fixedRadius=Math.max(0,t),e.points.forEach((function(t){t.cornerRadius=e.fixedRadius}))}}))}));case"setLayerRotation":var A=Object(r.a)(t,3),F=A[1],L=A[2],R=void 0===L?"replace":L,D=Object(s.getCurrentPageIndex)(e),_=Object(s.getSelectedLayerIndexPaths)(e);return Object(o.a)(e,(function(e){V(e,D,_).forEach((function(e){var t=Object(s.getLayerRotation)(e),n="replace"===R?F:t+F;e.rotation=n*Object(s.getLayerRotationMultiplier)()}))}));case"setLayerX":case"setLayerY":var E=Object(r.a)(t,3),B=E[0],z=E[1],H=E[2],G=void 0===H?"replace":H,N=Object(s.getCurrentPageIndex)(e),W=Object(s.getSelectedLayerIndexPaths)(e),U="setLayerX"===B?"x":"y";return Object(o.a)(e,(function(e){V(e,N,W).forEach((function(e){var t=e.frame[U];e.frame[U]="replace"===G?z:t+z}))}));case"setLayerWidth":case"setLayerHeight":var Y=Object(r.a)(t,3),X=Y[0],K=Y[1],q=Y[2],J=void 0===q?"replace":q,Z=Object(s.getCurrentPageIndex)(e),$=Object(s.getSelectedLayerIndexPaths)(e),Q="setLayerWidth"===X?"width":"height";return Object(o.a)(e,(function(e){V(e,Z,$).forEach((function(e){var t=e.frame[Q];e.frame[Q]=Math.max("replace"===J?K:t+K,.5)}))}));case"setIsClosed":var ee=Object(r.a)(t,2)[1],te=Object(s.getCurrentPageIndex)(e),ne=Object(s.getSelectedLayerIndexPaths)(e);return Object(o.a)(e,(function(e){V(e,te,ne).forEach((function(e){if(c.isPointsLayer(e)){e.isClosed=ee;var t=e.points.map((function(t){return Object(v.a)(t,e.frame)}));e.frame=Object(d.a)(Object(d.a)({},e.frame),Object(s.computeNewBoundingRect)(n,t,e)),e.points=t.map((function(t){return Object(v.b)(t,e.frame)}))}}))}));case"setIsFlippedVertical":var re=Object(r.a)(t,2)[1],ae=Object(s.getCurrentPageIndex)(e),oe=Object(s.getSelectedLayerIndexPaths)(e);return Object(o.a)(e,(function(e){V(e,ae,oe).forEach((function(e){e.isFlippedVertical=re}))}));case"setIsFlippedHorizontal":var ie=Object(r.a)(t,2)[1],ce=Object(s.getCurrentPageIndex)(e),se=Object(s.getSelectedLayerIndexPaths)(e);return Object(o.a)(e,(function(e){V(e,ce,se).forEach((function(e){e.isFlippedHorizontal=ie}))}));case"setHasClippingMask":var ue=Object(r.a)(t,2)[1],le=Object(s.getCurrentPageIndex)(e),de=Object(s.getSelectedLayerIndexPaths)(e);return Object(o.a)(e,(function(e){V(e,le,de).forEach((function(e){e.hasClippingMask=ue}))}));case"setShouldBreakMaskChain":var fe=Object(r.a)(t,2)[1],be=Object(s.getCurrentPageIndex)(e),he=Object(s.getSelectedLayerIndexPaths)(e);return Object(o.a)(e,(function(e){V(e,be,he).forEach((function(e){e.shouldBreakMaskChain=fe}))}));case"setMaskMode":var pe=Object(r.a)(t,2)[1],je=Object(s.getCurrentPageIndex)(e),me=Object(s.getSelectedLayerIndexPaths)(e);return Object(o.a)(e,(function(e){V(e,je,me).forEach((function(e){e.clippingMaskMode="alpha"===pe?1:0}))}));default:return e}}(e,t,n);case"importSvg":case"groupLayer":case"deleteLayer":case"moveLayer":case"selectLayer":case"selectAllLayers":case"ungroupLayer":case"createSymbol":case"detachSymbol":case"deleteSymbol":case"duplicateLayer":return R(e,t);case"distributeLayers":case"alignLayers":return function(e,t){switch(t[0]){case"distributeLayers":var n=Object(s.getCurrentPage)(e),a=Object(s.getCurrentPageIndex)(e),l=Object(s.getSelectedLayerIndexPaths)(e),d=Object(s.getSelectedRect)(e),f=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){var t=V(e,a,l),r=Object(i.sum)(t.map((function(e){return e.frame.width}))),o=Object(i.sum)(t.map((function(e){return e.frame.height}))),b=d.width-r,h=d.height-o,p=b/(t.length-1),j=h/(t.length-1),m="horizontal"===f?"midX":"midY";function v(e,t){var n=c.access(e,t),r=Object(s.getLayerTransformAtIndexPath)(e,t,u.AffineTransform.identity);return Object(u.createBounds)(Object(u.transformRect)(n.frame,r))}var g=l.sort((function(e,t){return v(n,e)[m]-v(n,t)[m]})),O=0,y=0;g.forEach((function(t){var r=Object(s.getLayerTransformAtIndexPath)(n,t,u.AffineTransform.identity).invert(),o=c.access(e.sketch.pages[a],t);switch(f){case"horizontal":var i=r.applyTo({x:d.x+O,y:0});O+=o.frame.width+p,o.frame.x=i.x;break;case"vertical":var l=r.applyTo({x:0,y:d.y+y});y+=o.frame.height+j,o.frame.y=l.y}}))}));case"alignLayers":var b=Object(s.getCurrentPage)(e),h=Object(s.getCurrentPageIndex)(e),p=Object(s.getSelectedLayerIndexPaths)(e),j=Object(s.getSelectedRect)(e),m=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){var t=Object(u.createBounds)(j),n=j.x+j.width/2,r=j.y+j.height/2;p.forEach((function(a){var o=Object(s.getLayerTransformAtIndexPath)(b,a,u.AffineTransform.identity).invert(),i=c.access(e.sketch.pages[h],a);switch(m){case"left":var l=o.applyTo({x:t.minX,y:0});i.frame.x=l.x;break;case"centerHorizontal":var d=o.applyTo({x:n-i.frame.width/2,y:0});i.frame.x=d.x;break;case"right":var f=o.applyTo({x:t.maxX-i.frame.width,y:0});i.frame.x=f.x;break;case"top":var p=o.applyTo({x:0,y:t.minY});i.frame.y=p.y;break;case"centerVertical":var j=o.applyTo({x:0,y:r-i.frame.height/2});i.frame.y=j.y;break;case"bottom":var v=o.applyTo({x:0,y:t.maxY-i.frame.height});i.frame.y=v.y}}))}));default:return e}}(e,t);case"addNewBorder":case"addNewFill":case"addNewShadow":case"setBorderEnabled":case"setFillEnabled":case"setShadowEnabled":case"deleteBorder":case"deleteFill":case"deleteShadow":case"moveBorder":case"moveFill":case"moveShadow":case"deleteDisabledBorders":case"deleteDisabledFills":case"deleteDisabledShadows":case"setBorderColor":case"setFillColor":case"setShadowColor":case"setBorderWidth":case"setFillOpacity":case"setOpacity":case"setShadowX":case"setShadowY":case"setShadowBlur":case"setBorderPosition":case"setShadowSpread":case"setFillFillType":case"setBorderFillType":case"setFillGradientColor":case"setFillGradientPosition":case"setFillGradientType":case"setFillGradient":case"addFillGradientStop":case"deleteFillGradientStop":case"setBorderGradient":case"setBorderGradientColor":case"setBorderGradientPosition":case"setBorderGradientType":case"addBorderGradientStop":case"deleteBorderGradientStop":case"setColorControlsEnabled":case"setHue":case"setSaturation":case"setBrightness":case"setContrast":case"setPatternFillType":case"setPatternTileScale":case"setFillImage":case"setFillContextSettingsOpacity":if("canvas"===Object(s.getCurrentTab)(e)){var S=Object(s.getCurrentPageIndex)(e),C=Object(s.getSelectedLayerIndexPaths)(e);return Object(o.a)(e,(function(e){V(e,S,C).forEach((function(n){n.style&&("setFillFillType"===t[0]&&t[2]===a.a.FillType.Pattern&&n.style.fills&&Object(s.setNewPatternFill)(n.style.fills,t[1],e),n.style=Object(m.c)(n.style,t))}))}))}var w=e.selectedThemeTab.layerStyles.ids,k=Object(s.findPageLayerIndexPaths)(e,(function(e){return void 0!==e.sharedStyleID&&w.includes(e.sharedStyleID)})),P=Object(s.getCurrentComponentsTab)(e),T=e.selectedThemeTab[P].ids;return Object(o.a)(e,(function(e){var n,r,c;("layerStyles"===P?null===(n=e.sketch.document.layerStyles)||void 0===n?void 0:n.objects:null!==(r=null===(c=e.sketch.document.layerTextStyles)||void 0===c?void 0:c.objects)&&void 0!==r?r:[]).forEach((function(n){T.includes(n.do_objectID)&&(n.value=Object(m.c)(n.value,t),"setFillFillType"===t[0]&&t[2]===a.a.FillType.Pattern&&n.value.fills&&Object(s.setNewPatternFill)(n.value.fills,t[1],e),k.forEach((function(t){return V(e,t.pageIndex,t.indexPaths).forEach((function(e){e.style=Object(o.a)(n.value,(function(e){return e.do_objectID=Object(i.uuid)(),e}))}))})))}))}));case"setTextColor":case"setTextFontName":case"setTextFontSize":case"setTextLineSpacing":case"setTextLetterSpacing":case"setTextParagraphSpacing":case"setTextHorizontalAlignment":case"setTextVerticalAlignment":case"setTextAlignment":case"setTextDecoration":case"setTextTransform":return function(e,t){switch(t[0]){case"setTextColor":case"setTextFontName":case"setTextFontSize":case"setTextLineSpacing":case"setTextLetterSpacing":case"setTextParagraphSpacing":case"setTextHorizontalAlignment":case"setTextVerticalAlignment":if("canvas"===Object(s.getCurrentTab)(e)){var n=Object(s.getCurrentPageIndex)(e),r=Object(s.getSelectedLayerIndexPaths)(e);return Object(o.a)(e,(function(e){V(e,n,r).forEach((function(e){if(c.isTextLayer(e)&&c.hasTextStyle(e)){switch(t[0]){case"setTextVerticalAlignment":e.style.textStyle.verticalAlignment=t[1]}e.style.textStyle.encodedAttributes=z(e.style.textStyle.encodedAttributes,t),e.attributedString.attributes.forEach((function(e){e.attributes=z(e.attributes,t)}))}}))}))}var a=e.selectedThemeTab.textStyles.ids,u=Object(s.findPageLayerIndexPaths)(e,(function(e){return void 0!==e.sharedStyleID&&a.includes(e.sharedStyleID)}));return Object(o.a)(e,(function(e){var n,r;(null!==(n=null===(r=e.sketch.document.layerTextStyles)||void 0===r?void 0:r.objects)&&void 0!==n?n:[]).forEach((function(n){a.includes(n.do_objectID)&&void 0!==n.value.textStyle&&(n.value.textStyle.encodedAttributes=z(n.value.textStyle.encodedAttributes,t),u.forEach((function(t){return V(e,t.pageIndex,t.indexPaths).forEach((function(e){e.style=Object(o.a)(n.value,(function(e){return e.do_objectID=Object(i.uuid)(),e}))}))})))}))}));case"setTextAlignment":var l=Object(s.getCurrentPageIndex)(e),d=Object(s.getSelectedLayerIndexPaths)(e);return Object(o.a)(e,(function(e){V(e,l,d).forEach((function(e){c.isTextLayer(e)&&c.hasTextStyle(e)&&(e.textBehaviour=t[1])}))}));case"setTextDecoration":if("canvas"===Object(s.getCurrentTab)(e)){var f=Object(s.getCurrentPageIndex)(e),b=Object(s.getSelectedLayerIndexPaths)(e);return Object(o.a)(e,(function(e){V(e,f,b).forEach((function(e){if(c.isTextLayer(e)&&c.hasTextStyle(e)){var n=e.style.textStyle.encodedAttributes;n.underlineStyle="underline"===t[1]?1:0,n.strikethroughStyle="strikethrough"===t[1]?1:0}}))}))}return Object(o.a)(e,(function(n){var r,a,o=e.selectedThemeTab.textStyles.ids;(null!==(r=null===(a=n.sketch.document.layerTextStyles)||void 0===a?void 0:a.objects)&&void 0!==r?r:[]).forEach((function(e){if(o.includes(e.do_objectID)&&void 0!==e.value.textStyle){var n=e.value.textStyle.encodedAttributes;n.underlineStyle="underline"===t[1]?1:0,n.strikethroughStyle="strikethrough"===t[1]?1:0}}))}));case"setTextTransform":if("canvas"===Object(s.getCurrentTab)(e)){var h=Object(s.getCurrentPageIndex)(e),p=Object(s.getSelectedLayerIndexPaths)(e);return Object(o.a)(e,(function(e){V(e,h,p).forEach((function(e){c.isTextLayer(e)&&c.hasTextStyle(e)&&(e.style.textStyle.encodedAttributes.MSAttributedStringTextTransformAttribute=t[1])}))}))}return Object(o.a)(e,(function(n){var r,a,o=e.selectedThemeTab.textStyles.ids;(null!==(r=null===(a=n.sketch.document.layerTextStyles)||void 0===a?void 0:a.objects)&&void 0!==r?r:[]).forEach((function(e){o.includes(e.do_objectID)&&void 0!==e.value.textStyle&&(e.value.textStyle.encodedAttributes.MSAttributedStringTextTransformAttribute=t[1])}))}));default:return e}}(e,t);case"setAdjustContentOnResize":case"setHasBackgroundColor":case"setBackgroundColor":case"setIncludeBackgroundColorInExport":case"setIncludeBackgroundColorInInstance":case"setLayoutAxis":case"setLayoutAnchor":case"setMinWidth":case"setAllowsOverrides":case"onSetOverrideProperty":case"setInstanceSymbolSource":case"goToSymbolSource":case"setOverrideValue":return function(e,t){switch(t[0]){case"setAdjustContentOnResize":var n=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){Object(B.e)(e).forEach((function(e){e.resizesContent=n}))}));case"setHasBackgroundColor":var i=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){Object(B.e)(e).forEach((function(e){e.hasBackgroundColor=i}))}));case"setBackgroundColor":var c=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){Object(B.e)(e).forEach((function(e){e.backgroundColor=c}))}));case"setIncludeBackgroundColorInExport":var s=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){Object(B.e)(e).forEach((function(e){e.includeBackgroundColorInExport=s}))}));case"setIncludeBackgroundColorInInstance":var u=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){Object(B.e)(e).forEach((function(e){e.includeBackgroundColorInInstance=u}))}));case"setLayoutAxis":var l=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){Object(B.e)(e).forEach((function(e){e.groupLayout=void 0===l?{_class:"MSImmutableFreeformGroupLayout"}:{_class:"MSImmutableInferredGroupLayout",axis:l,layoutAnchor:e.groupLayout&&h.GroupLayouts.isInferredLayout(e.groupLayout)?e.groupLayout.layoutAnchor:a.a.InferredLayoutAnchor.Min}}))}));case"setLayoutAnchor":var f=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){Object(B.e)(e).forEach((function(e){e.groupLayout&&h.GroupLayouts.isInferredLayout(e.groupLayout)&&(e.groupLayout.layoutAnchor=f)}))}));case"setMinWidth":var b=Object(r.a)(t,3),p=b[1],j=b[2],m=void 0===j?"replace":j;return Object(o.a)(e,(function(e){Object(B.e)(e).forEach((function(e){if(e.groupLayout&&h.GroupLayouts.isInferredLayout(e.groupLayout)){var t=e.groupLayout.minSize||0;e.groupLayout.minSize="replace"===m?p:t+p}}))}));case"setAllowsOverrides":var v=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){Object(B.e)(e).forEach((function(e){e.allowsOverrides=v}))}));case"onSetOverrideProperty":var g=Object(r.a)(t,3),O=g[1],y=g[2];return Object(o.a)(e,(function(e){Object(B.e)(e).forEach((function(e){var t=e.overrideProperties.find((function(e){return e.overrideName===O}));t?t.canOverride=y:e.overrideProperties.push({_class:"MSImmutableOverrideProperty",overrideName:O,canOverride:y})}))}));case"setInstanceSymbolSource":var x=Object(r.a)(t,2)[1],S=Object(B.j)(e).find((function(e){return e.symbolID===x}));return Object(o.a)(e,(function(e){var t=Object(E.h)(e).filter(h.Layers.isSymbolInstance);S&&t.forEach((function(e){e.frame=Object(d.a)(Object(d.a)({},e.frame),{},{width:S.frame.width,height:S.frame.height}),e.symbolID=x}))}));case"goToSymbolSource":var C=Object(r.a)(t,2)[1],w=Object(B.j)(e).find((function(e){return e.symbolID===C}));return Object(o.a)(e,(function(e){if(w){var t=e.sketch.pages.find((function(e){return e.layers.some((function(e){return e.do_objectID===w.do_objectID}))}));t&&(e.selectedPage=t.do_objectID,e.selectedObjects=[w.do_objectID])}}));case"setOverrideValue":var k=Object(r.a)(t,3),P=k[1],T=k[2];return Object(o.a)(e,(function(e){Object(E.h)(e).filter(h.Layers.isSymbolInstance).forEach((function(e){if(P){var t=e.overrideValues.findIndex((function(e){return e.overrideName===P}));-1!==t?void 0===T?e.overrideValues.splice(t,1):e.overrideValues[t].value=T:void 0!==T&&e.overrideValues.push({_class:"overrideValue",overrideName:P,value:T})}else e.overrideValues=[]}))}));default:return e}}(e,t);case"setExportScale":case"setExportName":case"setExportFileFormat":case"setExportNamingScheme":case"addExportFormat":case"deleteExportFormat":var A=Object(s.getCurrentPageIndex)(e),F=Object(s.getSelectedLayerIndexPaths)(e);return Object(o.a)(e,(function(e){V(e,A,F).forEach((function(e){e.exportOptions=function(e,t,n){switch(t[0]){case"setExportScale":var i=Object(r.a)(t,3),c=i[1],s=i[2];return Object(o.a)(e,(function(e){var t=s.size,r=s.visibleScaleType;e.exportFormats[c].scale=r===a.a.VisibleScaleType.Scale?t:t/(r===a.a.VisibleScaleType.Width?n.width:n.height),e.exportFormats[c].absoluteSize=r===a.a.VisibleScaleType.Scale?0:t,e.exportFormats[c].visibleScaleType=r}));case"addExportFormat":return Object(o.a)(e,(function(e){e.exportFormats.push({_class:"exportFormat",name:"",absoluteSize:0,fileFormat:a.a.ExportFileFormat.PNG,visibleScaleType:a.a.VisibleScaleType.Scale,scale:1})}));case"deleteExportFormat":var u=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){e.exportFormats.splice(u,1)}));case"setExportName":var l=Object(r.a)(t,3),d=l[1],f=l[2];return Object(o.a)(e,(function(e){e.exportFormats[d].name=f}));case"setExportFileFormat":var b=Object(r.a)(t,3),h=b[1],p=b[2];return Object(o.a)(e,(function(e){e.exportFormats[h].fileFormat=p}));case"setExportNamingScheme":var j=Object(r.a)(t,3),m=j[1],v=j[2];return Object(o.a)(e,(function(e){e.exportFormats[m].namingScheme=v}));default:return e}}(e.exportOptions,t,e.frame)}))}));case"setPointCurveMode":case"setPointCornerRadius":case"setPointX":case"setPointY":case"setControlPointX":case"setControlPointY":return function(e){var t=Object(s.getCurrentPageIndex)(e),n=Object(s.getSelectedLayerIndexPaths)(e);return Object(o.a)(e,(function(e){n.forEach((function(n){var r=e.sketch.pages[t],a=c.access(r,n),o=e.selectedControlPoint?[e.selectedControlPoint.pointIndex]:e.selectedPointLists[a.do_objectID];c.isLayerWithEditedProperty(a)&&o&&0!==o.length&&(a.edited=!0)}))}))}(D(e,t,n));case"selectPoint":case"selectControlPoint":return D(e,t,n);default:return function(e,t){switch(t[0]){case"setThemeTab":var n=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){e.currentThemeTab=n}));case"addSwatch":var a=Object(r.a)(t,4),u=a[1],l=a[2],d=a[3],f=e.currentTab;return Object(o.a)(e,(function(e){var t,n=null!==(t=e.sketch.document.sharedSwatches)&&void 0!==t?t:{_class:"swatchContainer",do_objectID:Object(i.uuid)(),objects:[]},r=e.selectedThemeTab.swatches,a=l||{_class:"color",alpha:1,red:0,green:0,blue:0},o={_class:"swatch",do_objectID:null!==d&&void 0!==d?d:Object(i.uuid)(),name:i.delimitedPath.join([r.groupName,u||"New Theme Color"]),value:a};n.objects.push(o),e.sketch.document.sharedSwatches=n,"theme"===f&&(r.ids=[o.do_objectID])}));case"addTextStyle":var h=Object(r.a)(t,3),p=h[1],j=h[2],m=Object(s.getCurrentPageIndex)(e),v=Object(s.getSelectedLayerIndexPaths)(e),g=e.currentTab;return Object(o.a)(e,(function(e){var t,n=null!==(t=e.sketch.document.layerTextStyles)&&void 0!==t?t:{_class:"sharedTextStyleContainer",do_objectID:Object(i.uuid)(),objects:[]},r=e.selectedThemeTab.textStyles,a={_class:"sharedStyle",do_objectID:Object(i.uuid)(),name:i.delimitedPath.join([r.groupName,p||"New Text Style"]),value:Object(o.a)(j||b.b.style({textStyle:b.b.textStyle()}),(function(e){return e.do_objectID=Object(i.uuid)(),e}))};n.objects.push(a),e.sketch.document.layerTextStyles=n,"theme"===g?r.ids=[a.do_objectID]:V(e,m,v).forEach((function(e){e.sharedStyleID=a.do_objectID}))}));case"addThemeStyle":var O=Object(r.a)(t,3),y=O[1],x=O[2],S=Object(s.getCurrentPageIndex)(e),C=Object(s.getSelectedLayerIndexPaths)(e),w=e.currentTab;return Object(o.a)(e,(function(e){var t,n=null!==(t=e.sketch.document.layerStyles)&&void 0!==t?t:{_class:"sharedStyleContainer",do_objectID:Object(i.uuid)(),objects:[]},r=e.selectedThemeTab.layerStyles,a={_class:"sharedStyle",do_objectID:Object(i.uuid)(),name:i.delimitedPath.join([r.groupName,y||"New Layer Style"]),value:x?Object(o.a)(x,(function(e){return e.do_objectID=Object(i.uuid)(),e})):b.b.style()};n.objects.push(a),e.sketch.document.layerStyles=n,"theme"===w?r.ids=[a.do_objectID]:V(e,S,C).forEach((function(e){e.sharedStyleID=a.do_objectID}))}));case"duplicateSwatch":var k=Object(r.a)(t,2)[1],P="string"===typeof k?[k]:k;return Object(o.a)(e,(function(e){var t,n=null!==(t=e.sketch.document.sharedSwatches)&&void 0!==t?t:{_class:"swatchContainer",do_objectID:Object(i.uuid)(),objects:[]};n.objects.forEach((function(e){if(P.includes(e.do_objectID)){var t=e.value,r={_class:"swatch",do_objectID:Object(i.uuid)(),name:Object(i.getIncrementedName)(e.name,n.objects.map((function(e){return e.name}))),value:t};n.objects.push(r)}})),e.sketch.document.sharedSwatches=n}));case"duplicateThemeStyle":var T=Object(r.a)(t,2)[1],M="string"===typeof T?[T]:T;return Object(o.a)(e,(function(e){var t,n=null!==(t=e.sketch.document.layerStyles)&&void 0!==t?t:{_class:"sharedStyleContainer",do_objectID:Object(i.uuid)(),objects:[]};n.objects.forEach((function(e){if(M.includes(e.do_objectID)){var t={_class:"sharedStyle",do_objectID:Object(i.uuid)(),name:Object(i.getIncrementedName)(e.name,n.objects.map((function(e){return e.name}))),value:Object(o.a)(e.value,(function(e){return e.do_objectID=Object(i.uuid)(),e}))};n.objects.push(t)}})),e.sketch.document.layerStyles=n}));case"duplicateTextStyle":var A=Object(r.a)(t,2)[1],F="string"===typeof A?[A]:A;return Object(o.a)(e,(function(e){var t,n=null!==(t=e.sketch.document.layerTextStyles)&&void 0!==t?t:{_class:"sharedTextStyleContainer",do_objectID:Object(i.uuid)(),objects:[]};n.objects.forEach((function(e){if(F.includes(e.do_objectID)){var t={_class:"sharedStyle",do_objectID:Object(i.uuid)(),name:Object(i.getIncrementedName)(e.name,n.objects.map((function(e){return e.name}))),value:Object(o.a)(e.value,(function(e){return e.do_objectID=Object(i.uuid)(),e}))};n.objects.push(t)}})),e.sketch.document.layerTextStyles=n}));case"selectSwatch":case"selectThemeStyle":case"selectTextStyle":case"selectSymbol":var L=Object(r.a)(t,3),R=L[1],D=L[2],_=void 0===D?"replace":D,E=e.currentThemeTab;return Object(o.a)(e,(function(e){I(e.selectedThemeTab[E].ids,R,_)}));case"setSwatchColor":var B=Object(r.a)(t,3),z=B[1],H=B[2],G="string"===typeof z?[z]:z;return Object(o.a)(e,(function(e){var t,n,r=null!==(t=null===(n=e.sketch.document.sharedSwatches)||void 0===n?void 0:n.objects)&&void 0!==t?t:[],a=e.sketch.document.layerStyles.objects;r.forEach((function(t){if(G.includes(t.do_objectID)){t.value=H;var n=function(e){e.swatchID===t.do_objectID&&(e.alpha=H.alpha,e.red=H.red,e.blue=H.blue,e.green=H.green)};e.sketch.pages.forEach((function(e){c.visit(e,(function(e){Object(s.visitLayerColors)(e,n)}))})),a.forEach((function(e){e.value&&Object(s.visitStyleColors)(e.value,n)}))}}))}));case"setSwatchOpacity":var N=Object(r.a)(t,4),W=N[1],U=N[2],Y=N[3],X=void 0===Y?"replace":Y,K="string"===typeof W?[W]:W;return Object(o.a)(e,(function(e){var t,n;(null!==(t=null===(n=e.sketch.document.sharedSwatches)||void 0===n?void 0:n.objects)&&void 0!==t?t:[]).forEach((function(e){if(K.includes(e.do_objectID)){var t="replace"===X?U:e.value.alpha+U;e.value.alpha=Math.min(Math.max(0,t),1)}}))}));case"setThemeStyleName":var q=Object(r.a)(t,3),J=q[1],Z=q[2],$="string"===typeof J?[J]:J;return Object(o.a)(e,(function(e){var t,n;Object(s.setComponentName)($,Z,null!==(t=null===(n=e.sketch.document.layerStyles)||void 0===n?void 0:n.objects)&&void 0!==t?t:[])}));case"setTextStyleName":var Q=Object(r.a)(t,3),ee=Q[1],te=Q[2],ne="string"===typeof ee?[ee]:ee;return Object(o.a)(e,(function(e){var t;Object(s.setComponentName)(ne,te,null===(t=e.sketch.document.layerTextStyles)||void 0===t?void 0:t.objects)}));case"setSwatchName":var re=Object(r.a)(t,3),ae=re[1],oe=re[2],ie="string"===typeof ae?[ae]:ae;return Object(o.a)(e,(function(e){var t,n;Object(s.setComponentName)(ie,oe,null!==(t=null===(n=e.sketch.document.sharedSwatches)||void 0===n?void 0:n.objects)&&void 0!==t?t:[])}));case"setSymbolName":var ce=Object(r.a)(t,3),se=ce[1],ue=ce[2],le="string"===typeof se?[se]:se;return Object(o.a)(e,(function(e){Object(s.setComponentName)(le,ue,Object(s.getSymbols)(e))}));case"setThemeStyle":case"setTextStyle":var de=Object(s.getCurrentPageIndex)(e),fe=Object(s.getSelectedLayerIndexPaths)(e),be=Object(r.a)(t,2)[1];return Object(o.a)(e,(function(e){V(e,de,fe).forEach((function(n){var r,a,c="setThemeStyle"===t[0]?null===(r=e.sketch.document.layerStyles)||void 0===r?void 0:r.objects.find((function(e){return e.do_objectID===be})):null===(a=e.sketch.document.layerTextStyles)||void 0===a?void 0:a.objects.find((function(e){return e.do_objectID===be}));c?(n.sharedStyleID=be,n.style=Object(o.a)(c.value,(function(e){return e.do_objectID=Object(i.uuid)(),e}))):delete n.sharedStyleID}))}));case"updateThemeStyle":case"updateTextStyle":var he=Object(r.a)(t,3),pe=he[1],je=he[2],me=Object(s.findPageLayerIndexPaths)(e,(function(e){return void 0!==e.sharedStyleID&&pe===e.sharedStyleID}));return Object(o.a)(e,(function(e){var n;je&&("updateThemeStyle"===t[0]?e.sketch.document.layerStyles.objects:null===(n=e.sketch.document.layerTextStyles)||void 0===n?void 0:n.objects).forEach((function(t){pe===t.do_objectID&&(t.value=Object(o.a)(je,(function(e){return e.do_objectID=Object(i.uuid)(),e})),me.forEach((function(t){return V(e,t.pageIndex,t.indexPaths).forEach((function(e){e.style=Object(o.a)(je,(function(e){return e.do_objectID=Object(i.uuid)(),e}))}))})))}))}));case"removeSwatch":var ve=e.selectedThemeTab.swatches.ids,ge=Object(s.findPageLayerIndexPaths)(e,(function(e){return void 0!==e.style&&void 0!==e.style.fills&&e.style.fills.some((function(e){return e.color.swatchID&&ve.includes(e.color.swatchID)}))}));return Object(o.a)(e,(function(e){var t=e.sketch.document.sharedSwatches;if(t){var n=t.objects.filter((function(e){return!ve.includes(e.do_objectID)}));t.objects=n,e.sketch.document.sharedSwatches=t,ge.forEach((function(t){return V(e,t.pageIndex,t.indexPaths).forEach((function(e){var t,n;null===(t=e.style)||void 0===t||null===(n=t.fills)||void 0===n||n.forEach((function(e){e.color.swatchID&&ve.includes(e.color.swatchID)&&delete e.color.swatchID}))}))}))}}));case"removeTextStyle":var Oe=e.selectedThemeTab.textStyles.ids;return Object(o.a)(e,(function(e){var t=e.sketch.document.layerTextStyles;if(t){var n=t.objects.filter((function(e){return!Oe.includes(e.do_objectID)}));t.objects=n,e.sketch.document.layerTextStyles=t}}));case"removeThemeStyle":var ye=e.selectedThemeTab.layerStyles.ids,xe=Object(s.findPageLayerIndexPaths)(e,(function(e){return void 0!==e.sharedStyleID&&ye.includes(e.sharedStyleID)}));return Object(o.a)(e,(function(e){var t=e.sketch.document.layerStyles;if(t){var n=t.objects.filter((function(e){return!ye.includes(e.do_objectID)}));t.objects=n,e.sketch.document.layerStyles=t,xe.forEach((function(t){return V(e,t.pageIndex,t.indexPaths).forEach((function(e){delete e.sharedStyleID}))}))}}));case"setSelectedSwatchGroup":case"setSelectedThemeStyleGroup":case"setSelectedTextStyleGroup":case"setSelectedSymbolGroup":var Se=Object(r.a)(t,2)[1],Ce=e.currentThemeTab;return Object(o.a)(e,(function(e){e.selectedThemeTab[Ce].groupName=Se}));case"groupSwatch":var we=Object(r.a)(t,3),ke=we[1],Pe=we[2],Te="string"===typeof ke?[ke]:ke;return Object(o.a)(e,(function(e){var t,n;Object(s.groupThemeComponents)(Te,Pe,null!==(t=null===(n=e.sketch.document.sharedSwatches)||void 0===n?void 0:n.objects)&&void 0!==t?t:[]),e.selectedThemeTab.swatches.groupName=""}));case"groupTextStyle":var Ie=Object(r.a)(t,3),Me=Ie[1],Ae=Ie[2],Fe="string"===typeof Me?[Me]:Me;return Object(o.a)(e,(function(e){var t;Object(s.groupThemeComponents)(Fe,Ae,null!==(t=e.sketch.document.layerTextStyles.objects)&&void 0!==t?t:[]),e.selectedThemeTab.textStyles.groupName=""}));case"groupThemeStyle":var Le=Object(r.a)(t,3),Re=Le[1],De=Le[2],_e="string"===typeof Re?[Re]:Re;return Object(o.a)(e,(function(e){var t,n;Object(s.groupThemeComponents)(_e,De,null!==(t=null===(n=e.sketch.document.layerStyles)||void 0===n?void 0:n.objects)&&void 0!==t?t:[]),e.selectedThemeTab.layerStyles.groupName=""}));case"groupSymbol":var Ee=Object(r.a)(t,3),Be=Ee[1],ze=Ee[2],He="string"===typeof Be?[Be]:Be;return Object(o.a)(e,(function(e){Object(s.groupThemeComponents)(He,ze,Object(s.getSymbols)(e)),e.selectedThemeTab.symbols.groupName=""}));case"addGradientAsset":var Ve=Object(r.a)(t,3),Ge=Ve[1],Ne=Ve[2];return Object(o.a)(e,(function(e){var t=e.sketch.document.assets,n={_class:"MSImmutableGradientAsset",do_objectID:Object(i.uuid)(),name:Ge,gradient:Ne};t.gradientAssets.push(n),t.gradients.push(Ne)}));case"removeGradientAsset":var We=Object(r.a)(t,2)[1],Ue="string"===typeof We?[We]:We;return Object(o.a)(e,(function(e){var t=e.sketch.document.assets;t.gradientAssets.flatMap((function(e,t){return Ue.includes(e.do_objectID)?[t]:[]})).reverse().forEach((function(e){t.gradients.splice(e,1),t.gradientAssets.splice(e,1)}))}));case"setGradientAssetName":var Ye=Object(r.a)(t,3),Xe=Ye[1],Ke=Ye[2],qe="string"===typeof Xe?[Xe]:Xe;return Object(o.a)(e,(function(e){e.sketch.document.assets.gradientAssets.forEach((function(e){qe.includes(e.do_objectID)&&(e.name=Ke)}))}));case"addImage":var Je=Object(r.a)(t,3),Ze=Je[1],$e=Je[2];return Object(o.a)(e,(function(e){e.sketch.images[$e]=Ze,e.sketch.document.assets.images.push({_class:"MSJSONFileReference",_ref:$e,_ref_class:"MSImageData"})}));default:return e}}(e,t)}}function V(e,t,n){return n.map((function(n){return c.access(e.sketch.pages[t],n)}))}function G(e){if(0===e.pages.length)throw new Error("Invalid Sketch file - no pages");return{currentTab:"canvas",currentThemeTab:"swatches",interactionState:Object(j.b)(),keyModifiers:{altKey:!1,ctrlKey:!1,metaKey:!1,shiftKey:!1},selectedPage:e.pages[0].do_objectID,selectedObjects:[],selectedPointLists:{},selectedControlPoint:void 0,selectedThemeTab:{swatches:{ids:[],groupName:""},layerStyles:{ids:[],groupName:""},textStyles:{ids:[],groupName:""},symbols:{ids:[],groupName:""}},sketch:e}}},,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return h})),n.d(t,"i",(function(){return p})),n.d(t,"h",(function(){return j})),n.d(t,"b",(function(){return m})),n.d(t,"g",(function(){return g})),n.d(t,"d",(function(){return O})),n.d(t,"e",(function(){return y})),n.d(t,"f",(function(){return x})),n.d(t,"k",(function(){return C})),n.d(t,"c",(function(){return w})),n.d(t,"j",(function(){return k}));var r=n(2),a=n(21),o=n(14),i=n(4),c=n(6),s=n(11),u=n(16),l=n(5),d=n(18),f=n(26),b=n(9),h=4,p=function(e,t){return Object(s.distance)(e,t)<h};function j(e){return 2===e.length&&e.every((function(e){return e.curveMode===c.a.CurveMode.Straight}))}var m=function(e,t,n){var r=Object(l.path)(e,t.map((function(e){return Object(l.encodeCurvePoint)(e,n.frame)})),n.frame,n.isClosed).computeTightBounds(),a=Object(i.a)(r,4),o=a[0],c=a[1];return{x:o,y:c,width:a[2]-o,height:a[3]-c}},v=function(e,t){var n=Object(f.a)(e),r=Object(b.getBoundingRectMap)(Object(f.a)(e),Object.keys(t),{clickThroughGroups:!0,includeArtboardLayers:!1,includeHiddenLayers:!1}),a=[];return Object(d.visit)(n,(function(e){var n=r[e.do_objectID],i=t[e.do_objectID];if(n&&i&&0!==i.length&&l.Layers.isPointsLayer(e)){var c=e.points.filter((function(e,t){return i.includes(t)}));if(0!==c.length){var s=c.map((function(e){return Object(l.decodeCurvePoint)(e,n)}));a.push.apply(a,Object(o.a)(s))}}})),a},g=function(e){return v(e,e.selectedPointLists)},O=function(e){if(e.selectedControlPoint){var t=v(e,Object(a.a)({},e.selectedControlPoint.layerId,[e.selectedControlPoint.pointIndex]));return t.length>0?t[0]:void 0}};function y(e){if(1===Object.values(e.selectedPointLists).flat().length||e.selectedControlPoint){var t=function(){if(e.selectedControlPoint)return[e.selectedControlPoint.layerId,e.selectedControlPoint.pointIndex];var t=Object.entries(e.selectedPointLists).filter((function(e){var t=Object(i.a)(e,2);t[0];return t[1].length>0})),n=Object(i.a)(t,1),r=Object(i.a)(n[0],2);return[r[0],Object(i.a)(r[1],1)[0]]}(),n=Object(i.a)(t,2),r=n[0],a=n[1],o=Object(f.a)(e),c=l.Layers.findIndexPath(o,(function(e){return e.do_objectID===r}));if(c){var s=l.Layers.access(o,c);return!s||!l.Layers.isPointsLayer(s)||s.isClosed||0!==a&&a!==s.points.length-1?void 0:{indexPath:c,pointIndex:a}}}}var x=function(e){return"editPath"===e||"maybeMovePoint"===e||"movingPoint"===e||"maybeMoveControlPoint"===e||"movingControlPoint"===e||"maybeConvertCurveMode"===e};function S(e,t,n){return void 0===n?e:"replace"===t?n:e+n}var C=function(e,t,n,a,o,i,c){var s=Object(b.getBoundingRectMap)(i,Object.keys(e),{clickThroughGroups:!0,includeArtboardLayers:!1,includeHiddenLayers:!1});t.forEach((function(t){var u=l.Layers.access(i,t);if(l.Layers.isPointsLayer(u))if(1!==u.points.length){var d=e[u.do_objectID],f=s[u.do_objectID];if(f){var b=u.points.map((function(e){return Object(l.decodeCurvePoint)(e,f)})).map((function(e,t){return d.includes(t)?(["point","curveFrom","curveTo"].forEach((function(t){e[t]={x:S(e[t].x,a,n.x),y:S(e[t].y,a,n.y)}})),e):e})),h=l.Layers.access(o,t);h.frame=Object(r.a)(Object(r.a)({},u.frame),m(c,b,u)),w(h),h.points=b.map((function(e){return Object(l.encodeCurvePoint)(e,h.frame)}))}}else{l.Layers.access(o,t).frame=Object(r.a)(Object(r.a)({},u.frame),{},{x:S(u.frame.x,a,n.x),y:S(u.frame.y,a,n.y)})}}))},w=function(e){0===e.frame.height&&(e.frame.height=1,e.points.forEach((function(e){["point","curveFrom","curveTo"].forEach((function(t){e[t]=u.a.encode({x:u.a.decode(e[t]).x,y:.5})}))})),e.frame.y-=.5),0===e.frame.width&&(e.frame.width=1,e.points.forEach((function(e){["point","curveFrom","curveTo"].forEach((function(t){e[t]=u.a.encode({x:.5,y:u.a.decode(e[t]).y})}))})),e.frame.x-=.5)},k=function(e,t,n,a,o,i,u){var d=e.layerId,f=e.pointIndex,h=e.controlPointType,p=Object(b.getBoundingRectMap)(i,[d],{clickThroughGroups:!0,includeArtboardLayers:!1,includeHiddenLayers:!1});t.forEach((function(e){var t=l.Layers.access(i,e);if(l.Layers.isPointsLayer(t)){var d=p[t.do_objectID];if(d){if(1===t.points.length){var b=l.Layers.access(o,e),j=Object(l.parsePoint)(t.points[0].curveFrom),v=Object(l.parsePoint)(t.points[0].curveTo),g={x:void 0!==n.x?-1*n.x:void 0,y:void 0!==n.y?-1*n.y:void 0};return b.points[0].curveTo=Object(l.stringifyPoint)({x:S(v.x,a,n.x),y:S(v.y,a,n.y)}),void(b.points[0].curveFrom=Object(l.stringifyPoint)({x:S(j.x,a,g.x),y:S(j.y,a,g.y)}))}var O=t.points[f].curveMode,y=t.points.map((function(e){return Object(l.decodeCurvePoint)(e,d)})),x=y[f],C="curveFrom"===h?"curveTo":"curveFrom",w=x[h],k=x[C],P=n.x?w.x+n.x:w.x,T=n.y?w.y+n.y:w.y,I=w.x-P,M=w.y-T,A=Object(s.distance)(x.point,k);switch(O){case c.a.CurveMode.Mirrored:w.x=P,w.y=T,k.x+=I,k.y+=M;break;case c.a.CurveMode.Asymmetric:w.x=P,w.y=T;var F=Math.atan2(w.y-x.point.y,w.x-x.point.x)+Math.PI,L={x:A*Math.cos(F)+x.point.x,y:A*Math.sin(F)+x.point.y};x[C]=L;break;default:w.x=P,w.y=T}var R=l.Layers.access(o,e);R.frame=Object(r.a)(Object(r.a)({},t.frame),m(u,y,t)),R.points=y.map((function(e){return Object(l.encodeCurvePoint)(e,R.frame)}))}}}))}},function(e,t,n){"use strict";n.r(t),n.d(t,"resizeRect",(function(){return d})),n.d(t,"point",(function(){return f})),n.d(t,"color",(function(){return b})),n.d(t,"rect",(function(){return h})),n.d(t,"clearColor",(function(){return p})),n.d(t,"shader",(function(){return j})),n.d(t,"fill",(function(){return m})),n.d(t,"border",(function(){return v})),n.d(t,"parsePoint",(function(){return g})),n.d(t,"stringifyPoint",(function(){return O})),n.d(t,"path",(function(){return y})),n.d(t,"textHorizontalAlignment",(function(){return x})),n.d(t,"stringAttribute",(function(){return S}));var r=n(21),a=n(4),o=n(14),i=n(2),c=n(6),s=n(11),u=n(5),l=n(70);function d(e,t,n){var r=Object(i.a)({},e);return Object(u.getCardinalDirections)(n).forEach((function(e){switch(e){case"e":r.width+=t.x;break;case"w":r.width-=t.x,r.x+=t.x;break;case"s":r.height+=t.y;break;case"n":r.height-=t.y,r.y+=t.y}})),r}function f(e){return[e.x,e.y]}function b(e,t){return e.Color4f(t.red,t.green,t.blue,t.alpha)}function h(e,t){return e.XYWHRect(t.x,t.y,t.width,t.height)}function p(e){return e.Color4f(0,0,0,0)}function j(e,t,n,r){switch(t.fillType){case c.a.FillType.Color:var a=t.color?b(e,t.color):p(e);return e.Shader.MakeColor(a,e.ColorSpace.SRGB);case c.a.FillType.Gradient:var u=[],l=[];Object(o.a)(t.gradient.stops).sort((function(e,t){return e.position-t.position})).forEach((function(t){u.push(b(e,t.color)),l.push(t.position)}));var d=g(t.gradient.from),h=g(t.gradient.to),j=s.AffineTransform.multiply(s.AffineTransform.translation(n.x,n.y),s.AffineTransform.scale(n.width,n.height));switch(t.gradient.gradientType){case c.a.GradientType.Linear:return e.Shader.MakeLinearGradient(f(d),f(h),u,l,e.TileMode.Clamp,j.float32Array);case c.a.GradientType.Radial:return e.Shader.MakeRadialGradient(f(d),Object(s.distance)(h,d),u,l,e.TileMode.Clamp,j.float32Array);case c.a.GradientType.Angular:var m=0===l[0],v=1===l[l.length-1],O=0;if(m||v)v&&!m?(u.unshift(u[u.length-1]),l.unshift(0)):m&&!v&&(u.push(u[0]),l.push(1));else{var y=l[0];l=l.map((function(e){return e-y})),u.push(u[0]),l.push(1),O=2*y*Math.PI}var x=O>0?s.AffineTransform.multiply(j,s.AffineTransform.rotation(O,.5,.5)):j;return e.Shader.MakeSweepGradient(.5,.5,u,l,e.TileMode.Clamp,x.float32Array);default:return}case c.a.FillType.Pattern:if(!r)return;var S=e.MakeImageFromEncoded(r);if(!S)return;switch(t.patternFillType){case c.a.PatternFillType.Tile:return S.makeShaderCubic(e.TileMode.Repeat,e.TileMode.Repeat,0,0,e.Matrix.multiply(e.Matrix.translated(n.x,n.y),e.Matrix.scaled(t.patternTileScale,t.patternTileScale)));case c.a.PatternFillType.Stretch:case c.a.PatternFillType.Fit:case c.a.PatternFillType.Fill:var C=Object(s.createBounds)(n),w=Object(s.resize)(Object(i.a)(Object(i.a)({},n),{},{width:S.width(),height:S.height()}),n,t.patternFillType===c.a.PatternFillType.Stretch?"scaleToFill":t.patternFillType===c.a.PatternFillType.Fit?"scaleAspectFit":"scaleAspectFill");return S.makeShaderCubic(e.TileMode.Decal,e.TileMode.Decal,0,0,e.Matrix.multiply(e.Matrix.translated(C.midX-w.width/2,C.midY-w.height/2),e.Matrix.scaled(w.width/S.width(),w.height/S.height())))}}}function m(e,t,n,r){var a=new e.Paint;switch(t.fillType){case c.a.FillType.Color:a.setColor(t.color?b(e,t.color):p(e));break;case c.a.FillType.Gradient:case c.a.FillType.Pattern:var o=j(e,t,n,r);if(!o){a.setColor(p(e));break}a.setShader(o),a.setAlphaf(t.contextSettings.opacity)}return a.setStyle(e.PaintStyle.Fill),a.setAntiAlias(!0),a}function v(e,t){var n=new e.Paint;return n.setColor(t.color?b(e,t.color):p(e)),n.setStrokeWidth(t.thickness),n.setStyle(e.PaintStyle.Stroke),n.setAntiAlias(!0),n}function g(e){var t=e.slice(1,-1).split(","),n=Object(a.a)(t,2),r=n[0],o=n[1];return{x:parseFloat(r),y:parseFloat(o)}}function O(e){var t=e.x,n=e.y;return"{".concat(t.toString(),",").concat(n.toString(),"}")}function y(e,t,n,r){return l.e(e,t,n,r)}function x(e,t){switch(t){case c.a.TextHorizontalAlignment.Left:return e.TextAlign.Left;case c.a.TextHorizontalAlignment.Centered:return e.TextAlign.Center;case c.a.TextHorizontalAlignment.Right:return e.TextAlign.Right;case c.a.TextHorizontalAlignment.Justified:return e.TextAlign.Justify;case c.a.TextHorizontalAlignment.Natural:return e.TextAlign.Start}}function S(e,t,n){var a=t.attributes.MSAttributedStringColorAttribute,o=t.attributes.MSAttributedStringFontAttribute;return new e.TextStyle(Object(i.a)(Object(i.a)({},a&&{color:b(e,a)}),{},{fontSize:o.attributes.size,letterSpacing:t.attributes.kerning},"none"===n?{}:Object(r.a)({decoration:"underline"===n?e.UnderlineDecoration:e.LineThroughDecoration},"decorationStyle",e.DecorationStyle.Solid)))}n.d(t,"scalePoint",(function(){return l.f})),n.d(t,"unscalePoint",(function(){return l.g})),n.d(t,"decodeCurvePoint",(function(){return l.a})),n.d(t,"encodeCurvePoint",(function(){return l.b})),n.d(t,"getStrokedPath",(function(){return l.d})),n.d(t,"getStrokedBorderPath",(function(){return l.c}))},function(e,t,n){"use strict";n.d(t,"e",(function(){return b})),n.d(t,"d",(function(){return h})),n.d(t,"b",(function(){return p})),n.d(t,"a",(function(){return j})),n.d(t,"f",(function(){return m})),n.d(t,"g",(function(){return v})),n.d(t,"c",(function(){return g}));var r=n(14),a=n(11),o=n(5),i=n(35),c=n(18),s=n(58),u=n(26),l=n(38);function d(e,t){return"symbolMaster"===e._class||"artboard"===e._class&&!t.includeArtboardLayers||"group"===e._class&&(e.hasClickThrough||t.clickThroughGroups)}function f(e,t,n,r){Object(c.visitReversed)(e,{onEnter:function(a,c){if(!o.Layers.isPageLayer(a)){if(!a.isVisible&&!n.includeHiddenLayers)return i.SKIP;var s=Object(l.j)(e,c,t),u=r(a,s);return u===i.STOP||d(a,n)?u:i.SKIP}}})}function b(e,t,n,r){var o=null!==r&&void 0!==r?r:{clickThroughGroups:!1,includeHiddenLayers:!1,includeArtboardLayers:!1},c=Object(u.a)(e),s=[],b=Object(l.l)(t),h=Object(a.transformRect)(n,b);return f(c,Object(l.b)(e,t),o,(function(e,t){if(!Object(a.rectsIntersect)(Object(a.transformRect)(e.frame,t),h))return i.SKIP;d(e,o)||s.push(e)})),s}function h(e,t,n,r,c){var s,b=Object(u.a)(t),h=Object(l.b)(t,n),p=Object(l.l)(n),j=null!==c&&void 0!==c?c:{clickThroughGroups:!1,includeHiddenLayers:!1,includeArtboardLayers:!1},m=p.applyTo(r);return f(b,h,j,(function(t,n){var r=a.AffineTransform.multiply(n,Object(l.g)(t)),c=Object(a.getRectCornerPoints)(t.frame).map((function(e){return r.applyTo(e)}));if(!Object(a.rotatedRectContainsPoint)(c,m))return i.SKIP;if(!d(t,j)){switch(t._class){case"rectangle":case"oval":var u=r.invert().applyTo(m);if(!o.path(e,t.points,t.frame,t.isClosed).contains(u.x,u.y))return}return s=t,i.STOP}})),s}function p(e,t,n,o){var i;o=null!==(i=o)&&void 0!==i?i:{clickThroughGroups:!1,includeHiddenLayers:!1,includeArtboardLayers:!1};var c={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};if(f(e,t,o,(function(e,t){if(n.includes(e.do_objectID)){var o=a.AffineTransform.multiply(t,Object(l.g)(e)),i=Object(a.getRectCornerPoints)(e.frame).map((function(e){return o.applyTo(e)})),s=i.map((function(e){return e.x})),u=i.map((function(e){return e.y}));c.minX=Math.min.apply(Math,[c.minX].concat(Object(r.a)(s))),c.minY=Math.min.apply(Math,[c.minY].concat(Object(r.a)(u))),c.maxX=Math.max.apply(Math,[c.maxX].concat(Object(r.a)(s))),c.maxY=Math.max.apply(Math,[c.maxY].concat(Object(r.a)(u)))}})),Object.values(c).every(isFinite))return Object(a.createRectFromBounds)(c)}function j(e,t,n,r){var o;r=null!==(o=r)&&void 0!==o?o:{clickThroughGroups:!1,includeHiddenLayers:!1,includeArtboardLayers:!1};var c=[];return f(e,t,r,(function(e,t){if(n===e.do_objectID){var r=a.AffineTransform.multiply(t,Object(l.g)(e)),o=Object(a.getRectCornerPoints)(e.frame);return c=o.map((function(e){return r.applyTo(e)})),i.STOP}})),c}function m(e,t){var n=p(Object(u.a)(e),a.AffineTransform.identity,e.selectedObjects);if(n){var r=Object(o.getRectDragHandles)(n).find((function(e){return Object(a.rectContainsPoint)(e.rect,t)}));return null===r||void 0===r?void 0:r.compassDirection}}var v=function(e){var t=Object(u.a)(e),n=Object(s.f)(e).map((function(e){return o.Layers.access(t,e).do_objectID}));return p(t,a.AffineTransform.identity,n)};function g(e,t,n){var r={};return t.forEach((function(t){if(!(t in r)){var o=p(e,a.AffineTransform.identity,[t],n);o&&(r[t]=o)}})),r}},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e;if(r.length<t)return[];if(n){r=e.slice();for(var a=0;a<t-1;a++)r.push(e[a])}for(var o=[],i=0;i<=r.length-t;i++)o.push(r.slice(i,i+t));return o}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=new Uint8Array(atob("iVBORw0KGgoAAAANSUhEUgAAABgAAAAYAQMAAADaua+7AAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAABNJREFUCNdjYOD/TxL+/4GBFAwAvMsj3bQ3H74AAAAASUVORK5CYII=").split("").map((function(e){return e.charCodeAt(0)})))},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(21),a=n(16);function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a.b.page();return{document:a.b.document(),images:{},meta:a.b.meta(),pages:[e],user:a.b.user(Object(r.a)({},e.do_objectID,{scrollOrigin:"{0, 0}",zoomValue:1}))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(19),a=n(0),o=n(77);function i(e){var t=Object(r.o)(),n=Object(a.useMemo)((function(){return e instanceof Float32Array?e:e instanceof Array?new Float32Array(e):void 0===e?e:t.parseColorString(e)}),[t,e]);return Object(o.a)(n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(63);function a(e,t){var n=new e.Path,a=Object(r.a)(t),o=a[0],i=a.slice(1);return o?(n.moveTo(o.x,o.y),i.forEach((function(e){n.lineTo(e.x,e.y)})),n.close(),n):n}},function(e,t,n){"use strict";var r=n(1),a=n(2),o=n(0),i=n(8),c=n(3),s=i.b.button((function(e){var t=e.theme,n=e.active,r=e.disabled,o=e.variant;return Object(a.a)(Object(a.a)({},t.textStyles.small),{},{flex:"0 0 auto",position:"relative",border:"0",outline:"none",minWidth:"thin"===o?void 0:"31px",textAlign:"left",borderRadius:"4px",paddingTop:"4px",paddingRight:"thin"===o?"1px":"6px",paddingBottom:"thin"===o?"0px":"4px",paddingLeft:"thin"===o?"1px":"6px",background:n?t.colors.primary:t.colors.inputBackground,color:n?"white":t.colors.text,opacity:r?.25:1,"&:focus":{boxShadow:"0 0 0 1px ".concat(t.colors.sidebar.background,", 0 0 0 3px ").concat(t.colors.primary)},display:"flex",alignItems:"center",justifyContent:"center","& *":{pointerEvents:"none"}})})),u=i.b.span((function(e){e.theme;return{minHeight:"19px",display:"flex",alignItems:"center"}})),l=Object(o.forwardRef)((function(e,t){var n=e.id,a=e.tooltip,o=e.active,i=void 0!==o&&o,l=e.disabled,d=void 0!==l&&l,f=e.variant,b=void 0===f?"normal":f,h=e.onClick,p=e.children,j=Object(r.jsx)(s,{id:n,ref:t,active:i,disabled:d,variant:b,onClick:h,children:Object(r.jsx)(u,{children:p})});return a?Object(r.jsx)(c.Tooltip,{content:a,children:j}):j}));t.a=Object(o.memo)(l)},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(14),a=n(6),o=n(3),i=function(e,t){return Object(r.a)(e).sort((function(e,t){return e.position-t.position})).map((function(e){return"".concat(Object(o.sketchColorToRgbaString)(e.color)," ").concat(e.position*t).concat(100===t?"%":"deg")})).join(", \n")};function c(e,t,n){if(t===a.a.GradientType.Angular)return"conic-gradient(".concat(i(e,360),")");var r=i(e,100),o=t===a.a.GradientType.Radial?"radial-gradient(circle":"linear-gradient(".concat(void 0!==typeof n?n:180,"deg");return"".concat(o,", ").concat(r,")")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));n(53);var r=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(1),a=n(8),o=n(90),i=Object(a.b)(o.a)({width:"100%",height:"100%"}),c=Object(a.b)(o.d)({width:"100%",height:"100%","& > div":{display:"block !important"}}),s=Object(a.b)(o.b)({display:"flex",padding:"3px",'&[data-orientation="vertical"]':{width:10}}),u=Object(a.b)(o.c)((function(e){return{flex:1,borderRadius:10,backgroundColor:e.theme.colors.scrollbar}})),l=a.b.div({flex:"1 1 0px",minHeight:0});function d(e){var t=e.children;return Object(r.jsx)(l,{children:Object(r.jsxs)(i,{children:[Object(r.jsx)(c,{children:t}),Object(r.jsx)(s,{orientation:"vertical",children:Object(r.jsx)(u,{})})]})})}},function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var r=n(4),a=n(0),o=!1,i=0;function c(e){"touch"===e.pointerType&&(o=!0,setTimeout((function(){o=!1}),50))}function s(){if("undefined"!==typeof document)return document.addEventListener("pointerup",c),i++,function(){--i>0||document.removeEventListener("pointerup",c)}}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.onHoverStart,n=e.onHoverChange,i=e.onHoverEnd,c=e.isDisabled,u=a.useState(!1),l=Object(r.a)(u,2),d=l[0],f=l[1],b=a.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1}).current;a.useEffect(s,[]);var h=a.useMemo((function(){return{onPointerEnter:function(e){o&&"mouse"===e.pointerType||function(e,r){if(!c&&"touch"!==r&&!b.isHovered){b.isHovered=!0;var a=e.target;t&&t({type:"hoverstart",target:a,pointerType:r}),n&&n(!0),f(!0)}}(e,e.pointerType)},onPointerLeave:function(e){!function(e,t){if(!c&&"touch"!==t&&b.isHovered){b.isHovered=!1;var r=e.target;i&&i({type:"hoverend",target:r,pointerType:t}),n&&n(!1),f(!1)}}(e,e.pointerType)}}}),[c,b,t,n,i]);return{hoverProps:h,isHovered:d}}},function(e,t,n){"use strict";var r=n(1),a=n(8),o=n(67),i=n(0),c=n(47),s=n(31),u=n(15),l=n(3),d=Object(a.b)(o.f)(s.d.separatorStyle),f=Object(a.b)(o.c)(s.d.itemStyle),b=Object(a.b)(o.a)(s.d.itemStyle),h=Object(a.b)(o.d)(s.d.itemIndicatorStyle),p=Object(i.memo)((function(e){var t=e.indented,n=e.checked,a=e.children,o=e.onSelect;return n?Object(r.jsxs)(b,{checked:n,onSelect:o,children:[Object(r.jsx)(h,{children:Object(r.jsx)(u.CheckIcon,{})}),a]}):Object(r.jsxs)(f,{onSelect:o,children:[t&&Object(r.jsx)(l.Spacer.Horizontal,{size:s.b-s.a}),a]})})),j=Object(a.b)(o.b)(s.d.contentStyle);function m(e){var t=e.items,n=e.children,a=e.onSelect,i=t.some((function(e){return e!==s.c&&e.checked}));return Object(r.jsxs)(o.e,{children:[Object(r.jsx)(o.g,{as:c.a,children:n}),Object(r.jsx)(j,{children:t.map((function(e,t){var n;return e===s.c?Object(r.jsx)(d,{},t):Object(r.jsx)(p,{indented:i,checked:null!==(n=e.checked)&&void 0!==n&&n,onSelect:function(){return null===a||void 0===a?void 0:a(e.value)},children:e.title},e.value)}))})]})}t.a=Object(i.memo)(m)},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(0);function a(e){return"s-".concat(e)}function o(e,t){for(var n=r.Children.toArray(e),o=n.length-1;o>0;o--){var i="function"===typeof t?t():Object(r.isValidElement)(t)?Object(r.cloneElement)(t,{key:a(o)}):t;Object(r.isValidElement)(i)&&null==i.key&&(i=Object(r.cloneElement)(i,{key:a(o)})),n.splice(o,0,i)}return n}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s}));var r=n(0),a=function(){var e=[];return{addListener:function(t){e.push(t)},removeListener:function(t){var n=e.indexOf(t);-1!==n&&e.splice(n,1)},trigger:function(){e.forEach((function(e){e()}))}}}(),o=Object(r.createContext)(a),i=(o.Provider,function(){return Object(r.useContext)(o)});function c(e){var t=i();Object(r.useEffect)((function(){return t.addListener(e),function(){t.removeListener(e)}}),[t,e])}function s(){return i().trigger}},function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return p}));var r=n(1),a=n(6),o=n(0),i=n(8);var c=n(19),s=n(103),u=n(52),l=i.b.span((function(e){return{background:e.background,position:"absolute",inset:0}})),d=Object(o.memo)((function(){var e=Object(i.c)().colors,t=e.inputBackground,n=e.placeholderDots,a=Object(o.useMemo)((function(){return['center url("data:image/svg+xml;utf8,'.concat((e=n,"\n  <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 15 15' fill='".concat(e,"'>\n    <path d='M3.625 7.5C3.625 8.12132 3.12132 8.625 2.5 8.625C1.87868 8.625 1.375 8.12132 1.375 7.5C1.375 6.87868 1.87868 6.375 2.5 6.375C3.12132 6.375 3.625 6.87868 3.625 7.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM12.5 8.625C13.1213 8.625 13.625 8.12132 13.625 7.5C13.625 6.87868 13.1213 6.375 12.5 6.375C11.8787 6.375 11.375 6.87868 11.375 7.5C11.375 8.12132 11.8787 8.625 12.5 8.625Z'></path>\n  </svg>\n")),'") no-repeat'),t].join(",");var e}),[t,n]);return Object(r.jsx)(l,{background:a})}));var f=Object(o.memo)((function(e){var t=e.fillType,n=e.tileScale,i=e.imageRef,s=function(e){var t=Object(o.useMemo)((function(){if(e instanceof Blob)return URL.createObjectURL(e);var t=e instanceof Uint8Array?e:void 0!==e?new Uint8Array(e):new Uint8Array;return URL.createObjectURL(new Blob([t]))}),[e]);return Object(o.useLayoutEffect)((function(){return function(){return URL.revokeObjectURL(t)}}),[t]),t}(Object(c.q)(i)),u=function(e,t){switch(e){case a.a.PatternFillType.Fit:return"center / contain";case a.a.PatternFillType.Tile:return"top left / ".concat(100*t,"%");case a.a.PatternFillType.Fill:return"center / cover";case a.a.PatternFillType.Stretch:return"center / 100% 100%"}}(t,n),d=Object(o.useMemo)((function(){return[u,"url(".concat(s,")"),t===a.a.PatternFillType.Tile?"repeat":"no-repeat"].join(" ")}),[t,u,s]);return Object(r.jsx)(l,{background:d})})),b=Object(o.memo)((function(e){var t=e.color,n=Object(o.useMemo)((function(){return Object(u.d)(t)}),[t]);return Object(r.jsx)(l,{background:n})})),h=Object(o.memo)((function(e){var t=e.gradient,n=Object(o.useMemo)((function(){return Object(s.a)(t.stops,t.gradientType,180)}),[t.gradientType,t.stops]);return Object(r.jsx)(l,{background:n})})),p=Object(o.memo)((function(e){var t=e.value;if(!t)return Object(r.jsx)(d,{});switch(t._class){case"color":return Object(r.jsx)(b,{color:t});case"gradient":return Object(r.jsx)(h,{gradient:t});case"pattern":return t.image?Object(r.jsx)(f,{fillType:t.patternFillType,tileScale:t.patternTileScale,imageRef:t.image}):null}}))},,,,function(e,t,n){"use strict";var r=n(0),a=n(39);t.a=Object(r.memo)((function(e){var t=Object(a.a)(e.paint),n=Object(r.useMemo)((function(){return{paint:t,path:e.path}}),[t,e.path]);return Object(r.createElement)("Path",n)}))},,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return l}));n(126);var r=n(212),a=n.n(r);function o(e){return"Group"===e.type}function i(e,t){var n={type:e,props:t};return o(n)&&(n._elements=[]),n}var c={scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,queueMicrotask:"undefined"!==typeof queueMicrotask?queueMicrotask:setTimeout,now:("undefined"!==typeof performance?performance:Date).now,supportsMutation:!1,supportsPersistence:!0,supportsHydration:!1,isPrimaryRenderer:!1,preparePortalMount:function(){},createContainerChildSet:function(e){return[]},appendChildToContainerChildSet:function(e,t){e.push(t)},replaceContainerChildren:function(e,t){e.children=t},getRootHostContext:function(e){return e.context},getChildHostContext:function(e,t,n){return e},shouldSetTextContent:function(e,t){return"Text"===e},createTextInstance:function(e,t,n,r){throw new Error("Using plain strings as elements isn't supported yet")},createInstance:function(e,t,n,r,a){return i(e,t)},appendInitialChild:function(e,t){if(!o(e))throw new Error("Bug? Trying to append a child to a parent that is not a container. ".concat(t.type));e._elements.push(t)},finalizeInitialChildren:function(e,t,n,r,a){return!1},finalizeContainerChildren:function(e,t){},prepareForCommit:function(e){return null},resetAfterCommit:function(e){try{var t=e.context,n=t.CanvasKit,r=t.canvas;e.children.forEach((function e(t){switch(t.type){case"Rect":var a=t.props,o=a.rect,i=a.cornerRadius,c=a.paint;if(i){var s=new Float32Array(12);s.set(o),s.fill(i,4),r.drawRRect(s,c)}else r.drawRect(o,c);break;case"Path":var u=t.props,l=u.path,d=u.paint;r.drawPath(l,d);break;case"Image":var f=t.props,b=f.rect,h=f.image,p=f.paint;r.drawImageRectCubic(h,n.XYWHRect(0,0,h.width(),h.height()),b,0,0,p);break;case"Text":var j=t.props,m=j.rect,v=j.paragraph;r.drawParagraph(v,m[0],m[1]);break;case"Group":var g,O,y=t.props,x=y.transform,S=y.opacity,C=y.clip,w=y.colorFilter,k=y.imageFilter,P=r.getSaveCount();if(r.save(),C)if(C.path instanceof Float32Array)r.clipRect(C.path,C.op,null===(g=C.antiAlias)||void 0===g||g);else r.clipPath(C.path,C.op,null===(O=C.antiAlias)||void 0===O||O);if(x&&r.concat(x),S<1||w||k){var T=new n.Paint;S<1&&T.setAlphaf(S),w&&T.setColorFilter(w),k&&T.setImageFilter(k),r.saveLayer(T)}t._elements.forEach(e),r.restoreToCount(P)}})),e.surface.isDeleted()||e.surface.flush()}catch(a){console.warn("noya-react-canvaskit error!",a)}},getPublicInstance:function(e){return e},prepareUpdate:function(e,t,n,r,a,o){},cloneInstance:function(e,t,n,r,a,c,s,u){var l=i(n,a);return s&&o(l)&&o(e)&&(l._elements=e._elements),l}},s=a()(c);function u(e,t,n,r){var a={CanvasKit:n,canvas:t.getCanvas()},o=function(e,t){var n=e;if(!n._container){var r={surface:e,context:t,children:[]},a=s.createContainer(r,2,!1,null);n._container=a}return n._container}(t,a);s.updateContainer(e,o,null,(function(){null===r||void 0===r||r()}))}function l(e,t){var n=e._container;s.updateContainer(null,n,null,(function(){null===t||void 0===t||t()}))}s.injectIntoDevTools({bundleType:1,version:"0.0.1",rendererPackageName:"react-canvaskit"})},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(22),a=n.n(r),o=n(25);function i(e){return new Promise((function(t){function n(e,n){t(n())}n.amd=!0,window.define=n;var r=e();"function"===typeof r&&t(r)}))}function c(e){return s.apply(this,arguments)}function s(){return(s=Object(o.a)(a.a.mark((function e(t){var r;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i((function(){return n(247)}));case 2:return r=e.sent,e.abrupt("return",r(t));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}},,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"decodeName",(function(){return o})),n.d(t,"encodeName",(function(){return i})),n.d(t,"isValidProperty",(function(){return c})),n.d(t,"getLayerOverride",(function(){return s})),n.d(t,"canOverrideProperty",(function(){return u})),n.d(t,"getOverrideValue",(function(){return l}));var r=n(4),a=n(5);function o(e){var t=e.split("_"),n=Object(r.a)(t,2),a=n[0],o=n[1];return{layerIdPath:a.split("/"),propertyType:o}}function i(e,t){return[e.join("/"),t].join("_")}function c(e,t){switch(e){case"stringValue":case"symbolID":case"layerStyle":case"textStyle":return"string"===typeof t;case"image":return"string"!==typeof t;default:return!1}}function s(e,t,n){switch(t){case"stringValue":if(!a.Layers.isTextLayer(e)||!c(t,n))return;return{type:t,value:n,layer:e};case"symbolID":if(!a.Layers.isSymbolInstance(e)||!c(t,n))return;return{type:t,value:n,layer:e};case"image":if(!a.Layers.isBitmapLayer(e)||!c(t,n))return;return{type:t,value:n,layer:e};case"textStyle":if(!a.Layers.isTextLayer(e)||!c(t,n))return;return{type:t,value:n,layer:e};case"layerStyle":if(!c(t,n))return;return{type:t,value:n,layer:e}}}function u(e,t,n){var a,o;return null===(a=null===(o=e.find((function(e){var a=e.overrideName.split("_"),o=Object(r.a)(a,2),i=o[0],c=o[1];return i===n&&c===t})))||void 0===o?void 0:o.canOverride)||void 0===a||a}function l(e,t,n){var a,o=null===(a=e.find((function(e){var a=e.overrideName.split("_"),o=Object(r.a)(a,2),i=o[0],c=o[1];return i===n&&c===t})))||void 0===a?void 0:a.value;return void 0!==o&&c(t,o)?o:void 0}},,,,,,,function(e,t,n){"use strict";n.r(t),n.d(t,"isInferredLayout",(function(){return r}));var r=function(e){return"MSImmutableInferredGroupLayout"===e._class}},function(e,t,n){"use strict";n.r(t),n.d(t,"parseScale",(function(){return a})),n.d(t,"getScaleUnits",(function(){return o}));var r=n(6);function a(e){var t=function(e){var t=parseFloat(e);return isNaN(t)?(t=parseFloat(e.slice(0,-1)),isNaN(t)?void 0:t):t}(e);if(!(void 0===t||t<=0))return{size:t,visibleScaleType:"w"===e[e.length-1]?r.a.VisibleScaleType.Width:"h"===e[e.length-1]?r.a.VisibleScaleType.Height:r.a.VisibleScaleType.Scale}}function o(e){switch(e){case r.a.VisibleScaleType.Scale:return"x";case r.a.VisibleScaleType.Height:return"h";case r.a.VisibleScaleType.Width:return"w"}}},function(e,t){},function(e,t,n){"use strict";function r(e){return e*Math.PI/180}function a(e){return 180*e/Math.PI}n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a}))},function(e,t,n){"use strict";function r(e,t){var n=e.x,r=e.y,a=t.x-n,o=t.y-r;return Math.sqrt(a*a+o*o)}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"k",(function(){return i})),n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return u})),n.d(t,"j",(function(){return d})),n.d(t,"b",(function(){return f})),n.d(t,"h",(function(){return b})),n.d(t,"i",(function(){return h})),n.d(t,"g",(function(){return p})),n.d(t,"f",(function(){return j})),n.d(t,"l",(function(){return m})),n.d(t,"a",(function(){return v}));var r=n(14),a=n(4),o=n(10);function i(e,t){var n=f(e);return c(t.applyTo({x:n.minX,y:n.minY}),t.applyTo({x:n.maxX,y:n.maxY}))}function c(e,t){return{width:Math.abs(t.x-e.x),height:Math.abs(t.y-e.y),x:Math.min(t.x,e.x),y:Math.min(t.y,e.y)}}function s(e){return{x:e.minX,y:e.minY,width:e.maxX-e.minX,height:e.maxY-e.minY}}function u(e){return[{x:e.x,y:e.y},{x:e.x+e.width,y:e.y},{x:e.x+e.width,y:e.y+e.height},{x:e.x,y:e.y+e.height}]}function l(e,t,n){var r=e.x,a=e.y,o=t.x,i=t.y,c=n.x,s=n.y;return Math.abs(r*i+o*s+c*a-a*o-i*c-s*r)/2}function d(e,t){var n=Object(a.a)(e,4),r=n[0],i=n[1],c=n[2],s=n[3],u=l(r,t,s)+l(s,t,c)+l(c,t,i)+l(i,t,r),d=l(r,i,c)+l(r,c,s);return!!Object(o.isNumberEqual)(u,d)||!(u>d)}function f(e){var t=Math.min(e.x,e.x+e.width),n=Math.min(e.y,e.y+e.height),r=Math.max(e.x,e.x+e.width),a=Math.max(e.y,e.y+e.height);return{minX:t,midX:(r+t)/2,maxX:r,minY:n,midY:(a+n)/2,maxY:a}}function b(e,t){return e.x<=t.x&&t.x<=e.x+e.width&&e.y<=t.y&&t.y<=e.y+e.height}function h(e,t){var n=Math.max(e.x,t.x),r=Math.min(e.x+e.width,t.x+t.width),a=Math.max(e.y,t.y),o=Math.min(e.y+e.height,t.y+t.height);return n<r&&a<o}function p(e){return{x:Math.min(e.x+e.width,e.x),y:Math.min(e.y+e.height,e.y),width:Math.abs(e.width),height:Math.abs(e.height)}}function j(e,t,n){return{x:e.x+t,y:e.y+n,width:e.width-2*t,height:e.height-2*n}}function m(){function e(e,t){return s({minX:Math.min(e.x,t.x),minY:Math.min(e.y,t.y),maxX:Math.max(e.x+e.width,t.x+t.width),maxY:Math.max(e.y+e.height,t.y+t.height)})}for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 0===n.length?(console.error("No rects to union"),{x:0,y:0,width:0,height:0}):n.reduce((function(t,n){return e(t,n)}),n[0])}function v(e){var t=Math.min.apply(Math,Object(r.a)(e.map((function(e){return e.x})))),n=Math.min.apply(Math,Object(r.a)(e.map((function(e){return e.y}))));return{x:t,y:n,width:Math.max.apply(Math,Object(r.a)(e.map((function(e){return e.x}))))-t,height:Math.max.apply(Math,Object(r.a)(e.map((function(e){return e.y}))))-n}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(78);function a(e,t){return Object(r.a)(e,t,!1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(78);function a(e,t){return Object(r.a)(e,t,!0)}},function(e,t,n){"use strict";function r(e,t){return Math.abs(e-t)<1e-6}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o}));var r=n(14);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var a=Math.min.apply(Math,Object(r.a)(t.map((function(e){return e.length})))),o=[],i=0;i<a;i++){o[i]=[];for(var c=0;c<t.length;c++)o[i][c]=t[c][i]}return o}function o(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),o=1;o<t;o++)n[o-1]=arguments[o];var i=Math.max.apply(Math,Object(r.a)(n.map((function(e){return e.length})))),c=n.map((function(t){var n=Object(r.a)(t);return n.length=i,n.fill(e,t.length),n}));return a.apply(void 0,Object(r.a)(c))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return e>n?n:e<t?t:e}},function(e,t,n){"use strict";function r(e){for(var t=0,n=0;n<e.length;n++)t+=e[n];return t}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=Math.pow(10,t);return Math.round((e+Number.EPSILON)*n)/n}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14);function a(e,t){return Object(r.a)(e).sort((function(e,n){var r=e[t].toUpperCase(),a=n[t].toUpperCase();return r>a?1:r<a?-1:0}))}},function(e,t,n){"use strict";function r(e,t){if(0===e.length)return[];for(var n=[],r=0,a=e.length,o=r+1;o<a;o++){t(e[o-1],e[o])||(n.push(e.slice(r,o)),r=o)}return n.push(e.slice(r,a)),n}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";function r(e,t){var n={};return e.forEach((function(e){var r=t(e);r in n?n[r].push(e):n[r]=[e]})),n}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(14),a=n(4),o=/(.*?)(\s\d+)?$/;function i(e,t){var n=e.match(o)||[],i=Object(a.a)(n,2)[1],c=[e].concat(Object(r.a)(t)).filter((function(e){return e.startsWith(i)})).map((function(e){var t=e.match(o)||[],n=Object(a.a)(t,3)[2];return n?parseInt(n):1})).sort(),s=c[c.length-1];return"".concat(i," ").concat(s+1)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(4),a=n(97);function o(e,t){var n,o=t.inputRange,i=t.outputRange;if(o.length!==i.length)throw new Error("interpolate(): `inputRange` and `outputRange` must have the same length");if(0===o.length||0===i.length)throw new Error("interpolate(): `inputRange` and `outputRange` must not be empty");if(o.some(isNaN)||i.some(isNaN))throw new Error("interpolate(): `inputRange` and `outputRange` must not contain NaN");if(n=o,!Object(a.a)(n,2).every((function(e){var t=Object(r.a)(e,2);return t[0]<=t[1]})))throw new Error("interpolate(): `inputRange` must be an array of increasing numbers");var c=function(e,t){for(var n=e.length-1;n>=0;n--)if(t(e[n],n,e))return n;return-1}(o,(function(t){return e>t}));if(-1===c)return i[0];if(c===o.length-1)return i[c];var s=(e-o[c])/(o[c+1]-o[c]);return function(e,t,n){return e*(1-n)+t*n}(i[c],i[c+1],s)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(14);function a(e,t){var n=t%e.length;return n<0&&(n+=e.length),e.length<2||0===n?e:[].concat(Object(r.a)(e.slice(n)),Object(r.a)(e.slice(0,n)))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(4);function a(e){return Object.fromEntries(Object.entries(e).map((function(e){var t=Object(r.a)(e,2),n=t[0];return[t[1],n]})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={encode:function(e){for(var t=new Uint8Array(e),n="",r=t.byteLength,a=0;a<r;a++)n+=String.fromCharCode(t[a]);return window.btoa(n)},decode:function(e){return new Uint8Array(atob(e).split("").map((function(e){return e.charCodeAt(0)})))}}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r={toUTF8:function(e){return(new TextEncoder).encode(e)}}},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d}));var r=n(14),a=n(10),o=n(78),i={"image/png":"png","image/jpeg":"jpg","image/webp":"webp","image/svg+xml":"svg","application/pdf":"pdf","application/zip":"zip"},c=Object(a.invert)(i);function s(e){return i[e]}function u(e){return c[e]}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Object(o.b)(Object(r.a)(new Uint8Array(e).slice(n,n+t.length)),t,!1)}function d(e){return function(e){return l(e,[137,80,78,71,13,10,26,10])}(e)?"image/png":function(e){return l(e,[255,216,255])}(e)?"image/jpeg":function(e){return l(e,[87,69,66,80],8)}(e)?"image/webp":function(e){return l(e,[37,80,68,70])}(e)?"application/pdf":void 0}},function(e,t,n){"use strict";function r(e){var t=new Map,n=new Map,r=0;return function(){for(var a="",o=arguments.length,i=new Array(o),c=0;c<o;c++)i[c]=arguments[c];for(var s=0,u=i;s<u.length;s++){var l=u[s];t.has(l)||t.set(l,"".concat(r++)),a+=t.get(l)+":"}return n.has(a)||n.set(a,e.apply(void 0,i)),n.get(a)}}n.d(t,"a",(function(){return r}))},function(e,t,n){"use strict";n.r(t),n.d(t,"sep",(function(){return r})),n.d(t,"basename",(function(){return a})),n.d(t,"dirname",(function(){return o})),n.d(t,"join",(function(){return i}));var r="/";function a(e){return e.slice(e.lastIndexOf(r)+1)}function o(e){var t=a(e);return e.slice(0,-(t.length+1))}function i(e){return e.filter((function(e){return!!e})).join(r)}},function(e,t){},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(44),a=n(54),o=function(){function e(t){var n=this;Object(r.a)(this,e),this.suspendedPromise=void 0,this.promiseState={type:"pending"},this.suspendedPromise=t.then((function(e){n.promiseState={type:"success",value:e}})).catch((function(e){n.promiseState={type:"failure",value:e}}))}return Object(a.a)(e,[{key:"getValueOrThrow",value:function(){switch(this.promiseState.type){case"pending":throw this.suspendedPromise;case"failure":throw this.promiseState.value;case"success":return this.promiseState.value}}}]),e}()},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return i}));var r=n(2);function a(e,t){return{x:(t.width-e.width)/2,y:(t.height-e.height)/2,width:e.width,height:e.height}}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"scaleAspectFit",o=Object(r.a)({},t),i=e.height/e.width,c=t.height/t.width,s=i<c;switch(n){case"scaleAspectFit":s?o.height=t.width*i:o.width=t.height/i;break;case"scaleAspectFill":s?o.width=t.height/i:o.height=t.width*i}return a(o,t)}function i(e,t){return e.width<=t.width&&e.height<=t.height?a(e,t):o(e,t,"scaleAspectFit")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(4),a=n(44),o=n(54),i=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[0,0,0,0,0,0],o=Object(r.a)(n,6),i=o[0],c=o[1],s=o[2],u=o[3],l=o[4],d=o[5];Object(a.a)(this,e),this.m00=void 0,this.m01=void 0,this.m02=void 0,this.m10=void 0,this.m11=void 0,this.m12=void 0,this.rotation=function(){return t.transform(e.rotation.apply(e,arguments))},this.scale=function(){return t.transform(e.scale.apply(e,arguments))},this.translate=function(){return t.transform(e.translation.apply(e,arguments))},this.m00=i,this.m01=c,this.m02=s,this.m10=u,this.m11=l,this.m12=d}return Object(o.a)(e,[{key:"applyTo",value:function(e){var t=e.x,n=e.y;return{x:this.m00*t+this.m01*n+this.m02,y:this.m10*t+this.m11*n+this.m12}}},{key:"transform",value:function(t){return new e([this.m00*t.m00+this.m01*t.m10,this.m00*t.m01+this.m01*t.m11,this.m00*t.m02+this.m01*t.m12+this.m02,this.m10*t.m00+this.m11*t.m10,this.m10*t.m01+this.m11*t.m11,this.m10*t.m02+this.m11*t.m12+this.m12])}},{key:"invert",value:function(){var t=this.determinant;return new e([this.m11/t,-this.m01/t,(this.m01*this.m12-this.m11*this.m02)/t,-this.m10/t,this.m00/t,(this.m10*this.m02-this.m00*this.m12)/t])}},{key:"determinant",get:function(){return this.m00*this.m11-this.m01*this.m10}},{key:"isInvertible",get:function(){var e=this.determinant;return isFinite(e)&&isFinite(this.m02)&&isFinite(this.m12)&&0!==e}},{key:"array",get:function(){return[this.m00,this.m01,this.m02,this.m10,this.m11,this.m12,0,0,1]}},{key:"float32Array",get:function(){return new Float32Array(this.array)}}],[{key:"rotation",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=new e([Math.cos(t),-Math.sin(t),0,Math.sin(t),Math.cos(t),0]);return 0!==n||0!==r?e.multiply(e.translation(n,r),a,e.translation(-n,-r)):a}},{key:"scale",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;return new e([t,0,0,0,n,0])}},{key:"translation",value:function(t,n){return new e([1,0,t,0,1,n])}},{key:"multiply",value:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var a=n[0],o=n.slice(1);return a?o.reduce((function(e,t){return e.transform(t)}),a):e.identity}},{key:"identity",get:function(){return new e([1,0,0,0,1,0])}}]),e}()},function(e,t,n){"use strict";n.d(t,"b",(function(){return s})),n.d(t,"a",(function(){return u}));var r=n(2),a=n(4),o=n(7),i=n(99),c=n(71);function s(e,t,n){switch(t[0]){case"newFile":return Object(o.a)(e,(function(e){e.fileHandle=void 0,e.history=Object(c.a)(Object(i.a)())}));case"setFile":var s=Object(a.a)(t,3),u=s[1],l=s[2];return Object(o.a)(e,(function(e){e.fileHandle=l,e.history=Object(c.a)(u)}));case"setFileHandle":var d=Object(a.a)(t,2)[1];return Object(o.a)(e,(function(e){e.fileHandle=d}));case"setCanvasSize":var f=Object(a.a)(t,3),b=f[1],h=f[2];return b.width===e.canvasSize.width&&b.height===e.canvasSize.height&&h.left===e.canvasInsets.left&&h.right===e.canvasInsets.right?e:Object(o.a)(e,(function(e){e.canvasSize=b,e.canvasInsets=h}));case"setShowRulers":var p=Object(a.a)(t,2)[1];return Object(o.a)(e,(function(e){e.preferences.showRulers=p}));case"highlightLayer":var j=Object(a.a)(t,2)[1];return Object(o.a)(e,(function(e){e.highlightedLayer=j?Object(r.a)({},j):void 0}));default:return Object(o.a)(e,(function(r){r.history=Object(c.b)(e.history,t,n)}))}}function u(e){return{history:Object(c.a)(e),highlightedLayer:void 0,canvasSize:{width:0,height:0},canvasInsets:{left:0,right:0},preferences:{showRulers:!1}}}},function(e,t){},function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"a",(function(){return i}));var r=n(5),a={n:{x:.5,y:0},ne:{x:1,y:0},e:{x:1,y:.5},se:{x:1,y:1},s:{x:.5,y:1},sw:{x:0,y:1},w:{x:0,y:.5},nw:{x:0,y:0}};function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:7;return r.compassDirections.map((function(n){var r=a[n];return{rect:{x:e.x+e.width*r.x-t/2,y:e.y+e.height*r.y-t/2,width:t,height:t},compassDirection:n}}))}function i(e,t,n){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:7,o=r.Selectors.getLayerFlipTransform(n);return t.map((function(t){return Object(r.decodeCurvePoint)(t,e)})).map((function(e){var t=o.applyTo(e.point);return{rect:{x:t.x-a/2,y:t.y-a/2,width:a,height:a},compassDirection:"n"}}))}},,,function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n(19),a=n(0),o=n(60);function i(e){var t=Object(r.o)(),n=Object(a.useMemo)((function(){return t.MaskFilter.MakeBlur(e.style,e.sigma,e.respectCTM)}),[t.MaskFilter,e.respectCTM,e.sigma,e.style]);return Object(o.a)(n)}},function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return s}));var r=n(2),a=n(19),o=n(0),i=n(39);function c(e){var t=Object(a.o)(),n=Object(o.useMemo)((function(){return Object(r.a)(Object(r.a)({},e),{},{style:t.PaintStyle.Fill})}),[t.PaintStyle.Fill,e]);return Object(i.a)(n)}function s(e){var t=Object(a.o)(),n=Object(o.useMemo)((function(){return{color:e,style:t.PaintStyle.Fill}}),[t.PaintStyle.Fill,e]);return Object(i.a)(n)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(2),a=n(19),o=n(0),i=n(39);function c(e){var t=Object(a.o)(),n=Object(o.useMemo)((function(){return Object(r.a)(Object(r.a)({},e),{},{style:t.PaintStyle.Stroke})}),[t.PaintStyle.Stroke,e]);return Object(i.a)(n)}},function(e,t){},function(e,t){},function(e,t,n){"use strict";n.r(t),n.d(t,"colors",(function(){return o})),n.d(t,"textStyles",(function(){return i})),n.d(t,"fonts",(function(){return c})),n.d(t,"sizes",(function(){return s}));var r=n(7),a=n(75),o=Object(r.a)(a.colors,(function(e){e.text="rgb(248,248,250)",e.textMuted="rgb(180,180,180)",e.textDisabled="rgb(100,100,100)",e.inputBackground="rgb(50,50,52)",e.divider="rgba(255,255,255,0.1)",e.dividerStrong="rgba(0,0,0,1)",e.canvas.background="rgb(19,20,21)",e.sidebar.background="rgba(40,40,40,0.85)",e.popover.background="rgb(40,40,40)",e.listView.raisedBackground="rgba(255,255,255,0.1)",e.slider.background="#BBB",e.mask="rgb(102,187,106)",e.transparentChecker="rgba(255,255,255,0.3)",e.scrollbar="rgba(199,199,199,0.2)",e.placeholderDots="rgba(255,255,255,0.3)",e.dragOutline="white"})),i=a.textStyles,c=a.fonts,s=a.sizes},function(e,t,n){"use strict";n.r(t),n.d(t,"Label",(function(){return d})),n.d(t,"Root",(function(){return f}));var r=n(1),a=n(2),o=n(0),i=n(8),c=n(41),s=i.b.label((function(e){var t=e.theme;return Object(a.a)(Object(a.a)({},t.textStyles.small),{},{color:t.colors.textMuted,fontSize:"11px",flex:"0 0 auto",minWidth:"0",letterSpacing:"0.4px",whiteSpace:"pre"})})),u=i.b.span((function(e){e.theme;return{flex:"0 0 auto",position:"relative",border:"0",outline:"none",minWidth:"0",textAlign:"left",display:"flex",flexDirection:"column",alignItems:"center"}}));function l(e){var t=e.label,n=e.children;return Object(r.jsxs)(u,{children:[n,t&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(c.Vertical,{size:2}),Object(r.jsx)(s,{children:t})]})]})}var d=Object(o.memo)(s),f=Object(o.memo)(l)},function(e,t,n){"use strict";var r=n(1),a=n(2),o=n(0),i=n(8),c=i.b.select((function(e){var t=e.theme;return Object(a.a)(Object(a.a)({appearance:"none"},t.textStyles.small),{},{color:t.colors.text,width:"0px",flex:"1 1 0px",position:"relative",border:"0",outline:"none",minWidth:"0",textAlign:"left",alignSelf:"stretch",borderRadius:"4px",paddingTop:"4px",paddingBottom:"4px",paddingLeft:"8px",paddingRight:"23px",background:['calc(100% - 6px) / 15px url("data:image/svg+xml;utf8,'.concat("\n  <svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 15 15' fill='white'>\n    <path d='M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z'></path>\n  </svg>\n",'") no-repeat'),t.colors.inputBackground].join(","),"&:focus":{boxShadow:"0 0 0 2px ".concat(t.colors.primary)}})}));function s(e){var t=e.id,n=e.value,a=e.onChange,i=e.options,s=e.getTitle,u=Object(o.useMemo)((function(){return i.map((function(e){var t;return Object(r.jsx)("option",{value:e,children:null!==(t=null===s||void 0===s?void 0:s(e))&&void 0!==t?t:e},e)}))}),[i,s]);return Object(r.jsx)(c,{id:t,value:n,onChange:Object(o.useCallback)((function(e){var t=e.target.value;a(t)}),[a]),children:u})}t.a=Object(o.memo)(s)},function(e,t,n){"use strict";var r=n(2),a=n(1),o=n(13),i=n(0),c=n(8),s=n(110),u=c.b.button((function(e){var t=e.theme;return{outline:"none",padding:0,width:"40px",height:"27px",borderRadius:"4px",overflow:"hidden",border:"none",boxShadow:"0 0 0 1px ".concat(t.colors.divider," inset"),background:"transparent","&:focus":{boxShadow:"0 0 0 1px ".concat(t.colors.sidebar.background,", 0 0 0 3px ").concat(t.colors.primary)},position:"relative"}}));t.a=Object(i.memo)(Object(i.forwardRef)((function(e,t){var n=e.id,i=e.value,c=Object(o.a)(e,["id","value"]);return Object(a.jsx)(u,Object(r.a)(Object(r.a)({ref:t,id:n},c),{},{children:Object(a.jsx)(s.a,{value:i})}))})))},function(e,t,n){"use strict";var r=n(1),a=n(4),o=n(0),i=n(8),c=n(64),s=n(55),u=n(53),l=n(34),d=n(51),f=n(50),b=i.b.div((function(e){var t=e.colorFrom,n=e.colorTo;return{position:"relative",height:"8px",borderRadius:"8px",boxShadow:"0 0 0 1px rgba(0,0,0,0.2) inset",backgroundColor:"#fff",backgroundImage:['url(\'data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="8" height="8" fill-opacity=".05"><rect x="4" width="4" height="4"/><rect y="4" width="4" height="4"/></svg>\')',"linear-gradient(90deg, ".concat(t,", ").concat(n,")")].join(", "),zIndex:2}}));t.a=Object(o.memo)((function(){var e=Object(c.b)(),t=Object(a.a)(e,2),n=t[0],o=t[1],i=Object(u.d)(Object.assign({},n,{a:0})),h=Object(u.d)(Object.assign({},n,{a:1}));return Object(r.jsx)(b,{colorFrom:i,colorTo:h,children:Object(r.jsx)(d.a,{onMove:function(e){o({a:e.left})},onKey:function(e){e&&o({a:Object(s.a)(n.a+e.left)})},"aria-label":"Alpha","aria-valuetext":"".concat(Object(l.a)(100*n.a),"%"),children:Object(r.jsx)(f.a,{left:n.a})})})}))},function(e,t,n){"use strict";var r=n(1),a=n(4),o=n(0),i=n(8),c=n(64),s=n(55),u=n(34),l=n(51),d=n(50),f=i.b.div((function(){return{position:"relative",height:"8px",borderRadius:"8px",boxShadow:"0 0 0 1px rgba(0,0,0,0.2) inset",background:"linear-gradient(\n    to right,\n    #f00 0%,\n    #ff0 17%,\n    #0f0 33%,\n    #0ff 50%,\n    #00f 67%,\n    #f0f 83%,\n    #f00 100%\n  )",zIndex:2}}));t.a=Object(o.memo)((function(){var e=Object(c.b)(),t=Object(a.a)(e,2),n=t[0].h,o=t[1];return Object(r.jsx)(f,{children:Object(r.jsx)(l.a,{onMove:function(e){o({h:360*e.left})},onKey:function(e){e&&o({h:Object(s.a)(n+360*e.left,0,360)})},"aria-label":"Hue","aria-valuetext":Object(u.a)(n),children:Object(r.jsx)(d.a,{left:n/360})})})}))},function(e,t,n){"use strict";var r=n(1),a=n(4),o=n(0),i=n(8),c=n(64),s=n(55),u=n(53),l=n(34),d=n(51),f=n(50),b=i.b.div((function(e){return{position:"relative",flexGrow:1,borderRadius:"3px",backgroundColor:e.backgroundColor,backgroundImage:["linear-gradient(to top, #000, rgba(0, 0, 0, 0))","linear-gradient(to right, #fff, rgba(255, 255, 255, 0))"].join(", "),boxShadow:"0 0 0 1px rgba(0,0,0,0.2) inset",overflow:"hidden",minHeight:"150px"}}));t.a=Object(o.memo)((function(){var e=Object(c.b)(),t=Object(a.a)(e,2),n=t[0],o=t[1];return Object(r.jsx)(b,{backgroundColor:Object(u.c)({h:n.h,s:100,v:100,a:1}),children:Object(r.jsx)(d.a,{onMove:function(e){o({s:100*e.left,v:100-100*e.top})},onKey:function(e){e&&o({s:Object(s.a)(n.s+100*e.left,0,100),v:Object(s.a)(n.v-100*e.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation ".concat(Object(l.a)(n.s),"%, Brightness ").concat(Object(l.a)(n.v),"%"),children:Object(r.jsx)(f.a,{top:1-n.v/100,left:n.s/100})})})}))},function(e,t){},function(e,t,n){"use strict";var r=n(1),a=n(4),o=n(36),i=n(0),c=n(8),s=c.b.div((function(e){e.theme;return{display:"flex",flex:"1",flexDirection:"column",position:"relative"}})),u=c.b.div((function(e){e.theme;return{display:"flex",flex:"1",alignItems:"center"}})),l=c.b.div((function(e){e.theme;return{height:"var(--height)",position:"relative",overflow:"hidden",userSelect:"none"}}));t.a=Object(i.memo)((function(e){var t=e.children,n=e.renderLabel,c=i.Children.toArray(t).flatMap((function(e){return Object(i.isValidElement)(e)&&e.type===i.Fragment?e.props.children:[e]})).map((function(e){return Object(i.isValidElement)(e)&&"id"in e.props?e.props.id:null})).filter((function(e){return!!e})).join(","),d=Object(i.useRef)(null),f=Object(i.useMemo)((function(){return Object.fromEntries(c.split(",").map((function(e){return[e,Object(i.createRef)()]})))}),[c]),b=Object(i.useMemo)((function(){return c.split(",").map((function(e,t){return Object(r.jsx)("span",{ref:f[e],style:{position:"absolute",left:"var(--x-offset)"},children:n({id:e,index:t})},e)}))}),[f,c,n]);return Object(i.useLayoutEffect)((function(){if(d.current){var e=d.current.getBoundingClientRect(),t=new o.d,n=[],r=[];Object.entries(f).forEach((function(i,c,s){var u=Object(a.a)(i,2),l=u[0],d=u[1];if(d.current){var f=document.getElementById(l),b=f.getBoundingClientRect();b.x=f.offsetLeft;var h=d.current.getBoundingClientRect();h.x=d.current.offsetLeft,r.push(h.height);var p=b.x+b.width/2,j=new o.f;t.addEditVariable(j,o.e.weak),t.addConstraint(new o.a(new o.b(j),o.c.Eq,new o.b(p),o.e.strong)),0===c&&t.addConstraint(new o.a(new o.b(j),o.c.Ge,new o.b(h.width/2),o.e.required)),c===s.length-1&&t.addConstraint(new o.a(new o.b(j),o.c.Le,new o.b(e.width-h.width/2),o.e.required)),t.suggestValue(j,h.x+h.width/2),n.push(j)}})),t.updateVariables(),Object.entries(f).forEach((function(e,t){var r=Object(a.a)(e,2),o=(r[0],r[1]);if(o.current){var i=o.current.getBoundingClientRect();o.current.style.setProperty("--x-offset","".concat(n[t].value()-i.width/2,"px"))}})),d.current.style.setProperty("--height","".concat(Math.max.apply(Math,r),"px"))}}),[f,b]),Object(r.jsxs)(s,{ref:d,children:[Object(r.jsx)(u,{children:t}),Object(r.jsx)(l,{children:b})]})}))},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(1),a=n(91),o=n(0),i=n(8),c=Object(i.b)(a.b)({flex:"1",position:"relative",display:"flex",alignItems:"center",userSelect:"none",touchAction:"none",height:"16px"}),s=Object(i.b)(a.d)((function(e){return{backgroundColor:e.theme.colors.divider,position:"relative",flexGrow:1,height:"2px"}})),u=Object(i.b)(a.a)((function(e){return{position:"absolute",backgroundColor:e.theme.colors.primary,borderRadius:"9999px",height:"100%"}})),l=Object(i.b)(a.c)((function(e){var t=e.theme;return{display:"block",width:"12px",height:"12px",backgroundColor:t.colors.slider.background,border:"1px solid ".concat(t.colors.slider.border),borderRadius:"20px",":focus":{outline:"none"}}}));function d(e){var t=e.id,n=e.value,a=e.onValueChange,i=e.min,d=e.max,f=Object(o.useMemo)((function(){return[Math.min(Math.max(n,i),d)]}),[n,i,d]),b=Object(o.useCallback)((function(e){a(e[0])}),[a]);return Object(r.jsxs)(c,{min:i,max:d,id:t,value:f,onValueChange:b,children:[Object(r.jsx)(s,{children:Object(r.jsx)(u,{})}),Object(r.jsx)(l,{})]})}},function(e,t,n){"use strict";n.r(t),n.d(t,"Root",(function(){return b})),n.d(t,"RowTitle",(function(){return h})),n.d(t,"Row",(function(){return p}));var r=n(2),a=n(1),o=n(13),i=n(15),c=n(0),s=n(8),u=n(72),l=n(41),d=s.b.span({display:"flex",alignItems:"center"}),f=Object(c.forwardRef)((function(e,t){var n=e.icon,s=e.expanded,f=e.onClickChevron,b=e.children,h=Object(o.a)(e,["icon","expanded","onClickChevron","children"]),p=Object(c.useContext)(u.ListRowContext).expandable,j=Object(c.useCallback)((function(e){e.stopPropagation(),null===f||void 0===f||f()}),[f]);return Object(a.jsxs)(u.Row,Object(r.a)(Object(r.a)({ref:t},h),{},{children:[p&&Object(a.jsxs)(a.Fragment,{children:[void 0===s?Object(a.jsx)(l.Horizontal,{size:15}):Object(a.jsx)(d,{onClick:j,children:s?Object(a.jsx)(i.ChevronDownIcon,{}):Object(a.jsx)(i.ChevronRightIcon,{})}),Object(a.jsx)(l.Horizontal,{size:6})]}),n&&Object(a.jsxs)(a.Fragment,{children:[n,Object(a.jsx)(l.Horizontal,{size:10})]}),b]}))})),b=u.Root,h=u.RowTitle,p=Object(c.memo)(f)},function(e,t,n){"use strict";var r=n(1),a=n(0),o=n(8).b.div((function(e){return{height:"1px",minHeight:"1px",background:e.theme.colors.divider}}));function i(e){return Object(r.jsx)(o,{})}t.a=Object(a.memo)(i)},function(e,t,n){"use strict";var r=n(1),a=n(32),o=n(0),i=n(41),c=n(52),s={defaultColor:{r:0,g:0,b:0,a:1},toHsva:a.rgbaToHsva,fromHsva:a.hsvaToRgba,equal:a.equalColorObjects};t.a=Object(o.memo)((function(e){var t=e.value,n=(e.gradients,e.onChange),u=Object(o.useMemo)((function(){return Object(c.c)(t)}),[t]),l=Object(o.useCallback)((function(e){n(Object(c.a)(e))}),[n]);return Object(r.jsxs)(a.ColorPicker,{colorModel:s,color:u,onChange:l,children:[Object(r.jsx)(a.Saturation,{}),Object(r.jsx)(i.Vertical,{size:12}),Object(r.jsx)(a.Hue,{}),Object(r.jsx)(i.Vertical,{size:5}),Object(r.jsx)(a.Alpha,{})]})}))},function(e,t,n){"use strict";var r=n(1),a=n(32),o=n(0),i=n(41),c=n(52),s={defaultColor:{r:0,g:0,b:0,a:1},toHsva:a.rgbaToHsva,fromHsva:a.hsvaToRgba,equal:a.equalColorObjects};t.a=Object(o.memo)((function(e){var t=e.value,n=e.selectedStop,u=e.onChangeColor,l=e.onChangePosition,d=e.onAdd,f=e.onDelete,b=e.onSelectStop,h=Object(o.useCallback)((function(e){u(Object(c.a)(e))}),[u]),p=Object(o.useCallback)((function(e,t){d(Object(c.a)(e),t)}),[d]);return Object(r.jsxs)(a.ColorPicker,{colorModel:s,color:s.defaultColor,onChange:h,children:[Object(r.jsx)(a.Gradient,{gradients:t,selectedStop:n,onSelectStop:b,onChangePosition:l,onAdd:p,onDelete:f}),Object(r.jsx)(i.Vertical,{size:10}),Object(r.jsx)(a.Saturation,{}),Object(r.jsx)(i.Vertical,{size:12}),Object(r.jsx)(a.Hue,{}),Object(r.jsx)(i.Vertical,{size:5}),Object(r.jsx)(a.Alpha,{})]})}))},function(e,t,n){"use strict";n.r(t),n.d(t,"Root",(function(){return y})),n.d(t,"Item",(function(){return x})),n.d(t,"Section",(function(){return S})),n.d(t,"SectionHeader",(function(){return C}));var r=n(1),a=n(2),o=n(0),i=n(8),c=n(3),s=n(108),u=i.b.div((function(e){return{color:e.theme.colors.text,display:"grid",gridTemplateColumns:"repeat(auto-fill, 250px)",gridAutoRows:"170px",justifyContent:"space-between",gap:"20px",padding:"20px"}})),l=i.b.div((function(e){e.theme;return{flex:"1",display:"flex",flexDirection:"column"}})),d=i.b.div((function(e){var t=e.theme,n=e.selected;return{display:"flex",flex:"1",backgroundColor:t.colors.sidebar.background,alignItems:"center",justifyContent:"center",borderRadius:"12px",cursor:"pointer",border:"2px solid ".concat(n?t.colors.primary:"transparent"),overflow:"hidden"}})),f=i.b.div((function(e){e.theme;return{display:"flex",flexDirection:"column"}})),b=i.b.span((function(e){var t=e.theme;return Object(a.a)(Object(a.a)({},t.textStyles.small),{},{color:t.colors.text,fontWeight:500,userSelect:"none",whiteSpace:"pre",overflow:"hidden",textOverflow:"ellipsis"})})),h=i.b.span((function(e){var t=e.theme;return Object(a.a)(Object(a.a)({},t.textStyles.small),{},{color:t.colors.textMuted,userSelect:"none",whiteSpace:"pre",overflow:"hidden",textOverflow:"ellipsis"})})),p=i.b.span((function(e){var t=e.theme,n=e.last,r=void 0!==n&&n;return Object(a.a)(Object(a.a)({},t.textStyles.body),{},{color:r?t.colors.text:t.colors.textMuted,fontWeight:500,userSelect:"none",whiteSpace:"pre",overflow:"hidden",textOverflow:"ellipsis"})})),j=i.b.div((function(e){e.theme;return{padding:"0 20px"}})),m=Object(o.forwardRef)((function(e,t){var n=e.id,a=e.title,i=e.subtitle,s=e.selected,u=e.onClick,l=e.children,p=e.menuItems,j=e.onSelectMenuItem,m=e.onContextMenu,v=Object(o.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),null===u||void 0===u||u(e)}),[u]),g=Object(r.jsxs)(f,{id:n,ref:t,children:[Object(r.jsx)(d,{selected:s,onClick:v,onContextMenu:m,children:l}),Object(r.jsx)(c.Spacer.Vertical,{size:8}),Object(r.jsx)(b,{children:a||" "}),Object(r.jsx)(h,{children:i||" "})]});return p?Object(r.jsx)(c.ContextMenu,{items:p,onSelect:j,children:g}):g}));function v(e){var t=e.children,n=e.onClick,a=Object(o.useCallback)((function(e){e.stopPropagation(),e.preventDefault(),null===n||void 0===n||n()}),[n]);return Object(r.jsx)(l,{onClick:a,children:Object(r.jsx)(c.ScrollArea,{children:t})})}function g(e){var t=e.children;return Object(r.jsx)(u,{children:t})}function O(e){var t=e.title.split("/");return Object(r.jsxs)(j,{children:[Object(s.a)(t.map((function(e,n){return Object(r.jsx)(p,{last:n===t.length-1,children:e})})),Object(r.jsx)(p,{children:" / "})),Object(r.jsx)(c.Spacer.Vertical,{size:8}),Object(r.jsx)(c.Divider,{})]})}var y=Object(o.memo)(v),x=Object(o.memo)(m),S=Object(o.memo)(g),C=Object(o.memo)(O)},function(e,t,n){"use strict";n.r(t),n.d(t,"Root",(function(){return b})),n.d(t,"Item",(function(){return h}));var r=n(1),a=n(122),o=n(0),i=n(8),c=n(3),s=Object(i.b)(a.c)((function(e){var t=e.theme;return{appearance:"none",width:"0px",flex:"1 1 0px",position:"relative",border:"0",outline:"none",minWidth:"0",textAlign:"left",alignSelf:"stretch",borderRadius:"4px",background:t.colors.inputBackground,"&:focus":{boxShadow:"0 0 0 1px ".concat(t.colors.sidebar.background,", 0 0 0 3px ").concat(t.colors.primary)},display:"flex",alignItems:"stretch",minHeight:"27px"}})),u=Object(i.b)(a.b)((function(e){var t=e.theme;return{position:"relative",flex:"1 1 0",appearance:"none",border:"none",background:"none",color:"rgb(139, 139, 139)",padding:0,margin:0,borderRadius:"4px",display:"inline-flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle","&:focus":{outline:"none",boxShadow:"0 0 0 1px ".concat(t.colors.sidebar.background,", 0 0 0 3px ").concat(t.colors.primary)}}})),l=Object(i.b)(a.a)((function(e){return{flex:1,backgroundColor:e.theme.colors.primary,height:"100%",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"middle",color:"white"}})),d=i.b.div({position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",alignItems:"stretch",justifyContent:"center"});function f(e){var t=e.value,n=e.tooltip,a=e.children,o=e.disabled,i=void 0!==o&&o,s=Object(r.jsxs)(u,{value:t,disabled:i,children:[a,Object(r.jsx)(d,{children:Object(r.jsx)(l,{children:a})})]});return n?Object(r.jsx)(c.Tooltip,{content:n,children:s}):s}var b=s,h=Object(o.memo)(f)},function(e,t,n){"use strict";var r=n(1),a=n(2),o=n(8),i=n(123),c=n(47),s=n(0),u=Object(o.b)(i.a)((function(e){var t=e.theme;return Object(a.a)(Object(a.a)({},t.textStyles.small),{},{color:t.colors.text,borderRadius:3,padding:"".concat(t.sizes.spacing.small,"px ").concat(t.sizes.spacing.medium,"px"),backgroundColor:t.colors.popover.background,boxShadow:"0 2px 4px rgba(0,0,0,0.2), 0 0 12px rgba(0,0,0,0.1)",border:"1px solid ".concat(t.colors.dividerStrong)})}));t.a=Object(s.memo)((function(e){var t=e.children,n=e.content;return Object(r.jsxs)(i.b,{children:[Object(r.jsx)(i.c,{as:c.a,children:t}),Object(r.jsx)(u,{side:"bottom",align:"center",sideOffset:2,children:n})]})}))},function(e,t,n){"use strict";var r=n(1),a=n(0),o=n(8),i=n(66),c=n(31),s=n(15),u=n(3),l=Object(o.b)(i.f)(c.d.separatorStyle),d=Object(o.b)(i.c)(c.d.itemStyle),f=Object(o.b)(i.a)(c.d.itemStyle),b=Object(o.b)(i.d)(c.d.itemIndicatorStyle),h=Object(a.memo)((function(e){var t=e.indented,n=e.checked,a=e.children,o=e.onSelect;return n?Object(r.jsxs)(f,{checked:n,onSelect:o,children:[Object(r.jsx)(b,{children:Object(r.jsx)(s.CheckIcon,{})}),a]}):Object(r.jsxs)(d,{onSelect:o,children:[t&&Object(r.jsx)(u.Spacer.Horizontal,{size:c.b-c.a}),a]})})),p=Object(o.b)(i.b)(c.d.contentStyle);function j(e){var t=e.items,n=e.children,a=e.onSelect,o=t.some((function(e){return e!==c.c&&e.checked}));return Object(r.jsxs)(i.e,{children:[Object(r.jsx)(i.g,{as:"span",children:n}),Object(r.jsx)(p,{sideOffset:4,children:t.map((function(e,t){var n;return e===c.c?Object(r.jsx)(l,{},t):Object(r.jsx)(h,{indented:o,checked:null!==(n=e.checked)&&void 0!==n&&n,onSelect:function(){return null===a||void 0===a?void 0:a(e.value)},children:e.title},e.value)}))})]})}t.a=Object(a.memo)(j)},function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n(14),a=n(23);function o(e){return Object(r.a)(new Set(e))}function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],o=t.slice(1);return o.reduce((function(e,t){return Object(a.a)(e,t)}),r)}function c(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var a=o(t.map(Object.keys).flat());return Object.fromEntries(a.map((function(e){var n=t.flatMap((function(t){var n=t[e];return n?[n]:[]}));return[e,i.apply(void 0,Object(r.a)(n))]})))}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n(31);function a(e,t){for(var n=[],r=0;r<e.length;r++)n.push(e[r]),r!==e.length-1&&n.push(t);return n}function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var o=t.flatMap((function(e){return e?[e]:[]})).map((function(e){return e.flatMap((function(e){return e?[e]:[]}))})).filter((function(e){return e.length>0}));return a(o,[r.c]).flat()}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=["image/png","image/jpeg","image/webp","application/pdf","image/svg+xml"]},function(e,t,n){"use strict";n.r(t),n.d(t,"Input",(function(){return w})),n.d(t,"NumberInput",(function(){return k})),n.d(t,"Label",(function(){return P})),n.d(t,"DropdownMenu",(function(){return T})),n.d(t,"Root",(function(){return I}));var r=n(1),a=n(2),o=n(15),i=n(0),c=n(8);var s=n(4),u=n(109);function l(e){var t=e.id,n=e.style,a=e.className,o=e.placeholder,c=e.disabled,s=e.onKeyDown,u=e.value,l=e.onChange,d=Object(i.useCallback)((function(e){null===s||void 0===s||s(e)}),[s]),f=Object(i.useCallback)((function(e){l(e.target.value)}),[l]);return Object(r.jsx)("input",{id:t,style:n,className:a,type:"text",disabled:null!==c&&void 0!==c&&c,value:u,placeholder:o,onKeyDown:d,onChange:f})}function d(e){var t=e.id,n=e.style,a=e.className,o=e.placeholder,c=e.onKeyDown,l=e.value,d=e.disabled,f=e.onSubmit,b=Object(i.useState)(""),h=Object(s.a)(b,2),p=h[0],j=h[1],m=Object(i.useState)(void 0),v=Object(s.a)(m,2),g=v[0],O=v[1];Object(i.useEffect)((function(){j(l)}),[l]);var y=Object(i.useCallback)((function(){if(g!==p){var e=!1;f(p,(function(){e=!0,j(l)})),e||O(p)}}),[f,p,g,l]);Object(u.a)(y);var x=Object(i.useCallback)((function(e){"Enter"===e.key?(y(),e.preventDefault(),e.stopPropagation()):null===c||void 0===c||c(e)}),[c,y]),S=Object(i.useCallback)((function(e){j(e.target.value)}),[]),C=Object(i.useCallback)((function(){O(p)}),[p]);return Object(r.jsx)("input",{id:t,style:n,className:a,type:"text",disabled:null!==d&&void 0!==d&&d,value:p,placeholder:o,onKeyDown:x,onChange:S,onBlur:y,onFocus:C})}var f=n(3),b=n(102),h=Object(i.createContext)({labelPosition:"end",labelSize:6,hasLabel:!1,hasDropdown:!1}),p=c.b.label((function(e){var t=e.theme,n=e.labelPosition,r=e.hasDropdown;return Object(a.a)({color:t.colors.textMuted,position:"absolute",top:0,right:0,bottom:0,left:0,display:"flex",alignItems:"center",pointerEvents:"none",fontWeight:"bold",fontSize:"60%",opacity:.5,userSelect:"none"},"start"===n?{justifyContent:"flex-start",paddingLeft:"6px"}:{justifyContent:"flex-end",paddingRight:r?"16px":"6px"})}));function j(e){var t=e.children,n=void 0!==t&&t,a=Object(i.useContext)(h),o=a.labelPosition,c=a.hasDropdown;return Object(r.jsx)(p,{labelPosition:o,hasDropdown:c,children:n})}var m=c.b.span((function(e){e.theme;return{position:"absolute",right:0}}));function v(e){var t=e.items,n=e.buttonId,a=e.onSelect;return Object(r.jsx)(m,{children:Object(r.jsx)(f.DropdownMenu,{items:t,onSelect:a,children:Object(r.jsx)(b.a,{id:n,variant:"thin",children:Object(r.jsx)(o.CaretDownIcon,{})})})})}var g=Object(c.b)((function(e){return"onChange"in e?Object(r.jsx)(l,Object(a.a)({},e)):Object(r.jsx)(d,Object(a.a)({},e))}))((function(e){var t=e.theme,n=e.labelPosition,r=e.labelSize,o=e.hasDropdown,i=e.textAlign,c=e.disabled,s=e.hasLabel;return Object(a.a)(Object(a.a)({},t.textStyles.small),{},{color:c?t.colors.textDisabled:t.colors.text,width:"0px",flex:"1 1 0px",position:"relative",border:"0",outline:"none",minWidth:"0",textAlign:null!==i&&void 0!==i?i:"left",alignSelf:"stretch",borderRadius:"4px",paddingTop:"4px",paddingBottom:"4px",paddingLeft:6+(s&&"start"===n?6+r:0)+"px",paddingRight:6+(s&&"end"===n?6+r:0)+(o?11:0)+"px",background:t.colors.inputBackground,"&:focus":{boxShadow:"0 0 0 2px ".concat(t.colors.primary)}})}));function O(e){var t=Object(i.useContext)(h),n=t.labelPosition,o=t.labelSize,c=t.hasDropdown,s=t.hasLabel;return Object(r.jsx)(g,Object(a.a)({labelPosition:n,labelSize:o,hasLabel:s,hasDropdown:c,disabled:e.disabled},e))}function y(e){return e?Number(e):NaN}function x(e){var t=e.value,n=e.placeholder,o=e.onNudge,c="onSubmit"in e?e.onSubmit:void 0,s="onChange"in e?e.onChange:void 0,u=Object(i.useCallback)((function(e,t){var n=y(e);isNaN(n)?t():null===c||void 0===c||c(n,t)}),[c]),l=Object(i.useCallback)((function(e){var t=function(e){var t=!1,n=0;switch(e.key){case"ArrowUp":n=1,t=!0;break;case"ArrowDown":n=-1,t=!0}if(t)return e.shiftKey?n*=10:e.altKey&&(n*=.1),t?n:void 0}(e);t&&(null===o||void 0===o||o(t),e.preventDefault(),e.stopPropagation())}),[o]),d=Object(i.useCallback)((function(e){null===s||void 0===s||s(y(e))}),[s]);return Object(r.jsx)(O,Object(a.a)(Object(a.a)({},e),{},{value:void 0===t?"":String(t),placeholder:n,onKeyDown:l},"onChange"in e?{onChange:d}:{onSubmit:u}))}var S=c.b.div((function(e){e.theme;var t=e.size;return{flex:"1",display:"flex",flexDirection:"row",position:"relative",maxWidth:"number"===typeof t?"".concat(t,"px"):void 0}}));function C(e){var t=e.id,n=e.children,a=e.size,o=e.labelPosition,c=void 0===o?"end":o,s=e.labelSize,u=void 0===s?6:s,l=i.Children.toArray(n),d=l.some((function(e){return Object(i.isValidElement)(e)&&e.type===T})),f=l.some((function(e){return Object(i.isValidElement)(e)&&e.type===P})),b=Object(i.useMemo)((function(){return{labelPosition:c,labelSize:u,hasDropdown:d,hasLabel:f}}),[c,u,d,f]);return Object(r.jsx)(h.Provider,{value:b,children:Object(r.jsx)(S,{id:t,size:a,children:n})})}var w=Object(i.memo)(O),k=Object(i.memo)(x),P=Object(i.memo)(j),T=Object(i.memo)(v),I=Object(i.memo)(C)},function(e,t,n){"use strict";n.r(t),n.d(t,"getTextStyleAttributes",(function(){return j}));var r=n(6);function a(e){if(0===e.length)return!1;var t=e[0];return e.every((function(e){return e===t}))}function o(e){var t;return null!==(t=null===e||void 0===e?void 0:e.MSAttributedStringColorAttribute)&&void 0!==t?t:{_class:"color",red:.5,blue:.5,green:.5,alpha:.5}}function i(e){var t;return null!==(t=null===e||void 0===e?void 0:e.MSAttributedStringFontAttribute.attributes.name)&&void 0!==t?t:"Helvetica"}function c(e,t,n){return a(e.map((function(e){return null===e||void 0===e?void 0:e.MSAttributedStringFontAttribute.attributes.size})))&&a(n.map((function(e){return e.attributes.MSAttributedStringFontAttribute.attributes.size})))?null===t||void 0===t?void 0:t.MSAttributedStringFontAttribute.attributes.size:void 0}function s(e,t,n){var r;return a(e.map((function(e){var t;return null===e||void 0===e||null===(t=e.paragraphStyle)||void 0===t?void 0:t.maximumLineHeight})))&&a(n.map((function(e){var t;return null===(t=e.attributes.paragraphStyle)||void 0===t?void 0:t.maximumLineHeight})))?null!==(r=null===t||void 0===t?void 0:t.maximumLineHeight)&&void 0!==r?r:22:void 0}function u(e,t,n){var o;return a(e.map((function(e){var t;return null===e||void 0===e||null===(t=e.paragraphStyle)||void 0===t?void 0:t.alignment})))&&a(n.map((function(e){var t;return null===(t=e.attributes.paragraphStyle)||void 0===t?void 0:t.alignment})))?null!==(o=null===t||void 0===t?void 0:t.alignment)&&void 0!==o?o:r.a.TextHorizontalAlignment.Left:void 0}function l(e,t){var n;return a(e.map((function(e){return null===e||void 0===e?void 0:e.MSAttributedStringTextTransformAttribute})))?null!==(n=null===t||void 0===t?void 0:t.MSAttributedStringTextTransformAttribute)&&void 0!==n?n:r.a.TextTransform.None:void 0}function d(e){return(null===e||void 0===e?void 0:e.underlineStyle)?"underline":(null===e||void 0===e?void 0:e.strikethroughStyle)?"strikethrough":"none"}function f(e,t,n){return a(e.map((function(e){return null===e||void 0===e?void 0:e.kerning})))&&a(n.map((function(e){return e.attributes.kerning})))?(null===t||void 0===t?void 0:t.kerning)||0:void 0}function b(e,t,n){return a(e.map((function(e){var t;return null===e||void 0===e||null===(t=e.paragraphStyle)||void 0===t?void 0:t.paragraphSpacing})))&&a(n.map((function(e){var t;return null===(t=e.attributes.paragraphStyle)||void 0===t?void 0:t.paragraphSpacing})))?(null===t||void 0===t?void 0:t.paragraphSpacing)||0:void 0}function h(e,t){var n;return a(e.map((function(e){return null===e||void 0===e?void 0:e.textStyleVerticalAlignmentKey})))?null!==(n=null===t||void 0===t?void 0:t.textStyleVerticalAlignmentKey)&&void 0!==n?n:r.a.TextVerticalAlignment.Top:void 0}function p(e){var t,n;return a(e.map((function(e){return null===e||void 0===e?void 0:e.textBehaviour})))?null!==(t=null===(n=e[0])||void 0===n?void 0:n.textBehaviour)&&void 0!==t?t:0:void 0}var j=function(e){var t,n=e[0],r="text"===n._class?null===(t=n.style)||void 0===t?void 0:t.textStyle:n.textStyle,a=null===r||void 0===r?void 0:r.encodedAttributes,j=null===a||void 0===a?void 0:a.paragraphStyle,m="text"===n._class?n.attributedString.attributes:[],v=e.map((function(e){var t,n,r;return"text"===e._class?null===(t=e.style)||void 0===t||null===(n=t.textStyle)||void 0===n?void 0:n.encodedAttributes:null===(r=e.textStyle)||void 0===r?void 0:r.encodedAttributes}));return{fontColor:o(a),fontFamily:i(a),fontSize:c(v,a,m),lineHeight:s(v,j,m),horizontalAlignment:u(v,j,m),textTransform:l(v,a),textDecoration:d(a),letterSpacing:f(v,a,m),paragraphSpacing:b(v,j,m),verticalAlignment:h(v,a),fontAlignment:p(e.flatMap((function(e){return"text"===e._class?[e]:[]})))}}},function(e,t,n){"use strict";var r=n(1),a=n(6),o=n(3),i=n(0),c=n(8),s=n(14),u=n(10),l=["r","g","b","a"];var d=n(51),f=n(50),b=c.b.div((function(e){return{position:"relative",height:"8px",borderRadius:"8px",boxShadow:"0 0 0 1px rgba(0,0,0,0.2) inset",background:e.background,zIndex:2}}));t.a=Object(i.memo)((function(e){var t=e.gradients,n=e.selectedStop,c=e.onSelectStop,h=e.onChangePosition,p=e.onAdd,j=e.onDelete,m=Object(i.useMemo)((function(){return Object(o.getGradientBackground)(t,a.a.GradientType.Linear,90)}),[t]);return Object(r.jsx)(b,{background:m,children:Object(r.jsx)(d.a,{onMove:function(e){h(e.left)},onKey:function(e){e||j()},onClick:function(e){if("number"!==typeof e){var n=function(e,t){var n={r:0,g:0,b:0,a:1};if(0===e.length)return n;var r=Object(s.a)(e).sort((function(e,t){return e.position-t.position}));return l.forEach((function(e){var a=r.map((function(e){return e.position})),o=r.map((function(t){return t.color[e]}));n[e]=Object(u.interpolate)(t,{inputRange:a,outputRange:o})})),n}(t.map((function(e,t){return{color:Object(o.sketchColorToRgba)(e.color),position:e.position}})),e.left);p(n,e.left)}else c(e)},onDelete:j,onClickPointer:c,"aria-label":"Gradient",children:t.map((function(e,t){return Object(r.jsx)(f.a,{index:t,selected:t===n,left:e.position},"gradients-point-".concat(t))}))})})}))},function(e,t,n){"use strict";n(2),n(1),n(4),n(13),n(0),n(56)},function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n(1),a=n(0),o=n(8),i=n(64),c=n(4),s=n(104),u=n(56);var l=o.b.div({position:"relative",display:"flex",flexDirection:"column",userSelect:"none",cursor:"default"});function d(e){var t=e.colorModel,n=e.color,o=void 0===n?t.defaultColor:n,d=e.onChange,f=e.children,b=function(e,t,n){var r=Object(u.a)(n),o=Object(a.useState)((function(){return e.toHsva(t)})),i=Object(c.a)(o,2),l=i[0],d=i[1],f=Object(a.useRef)({color:t,hsva:l});Object(a.useEffect)((function(){if(!e.equal(t,f.current.color)){var n=e.toHsva(t);f.current={hsva:n,color:t},d(n)}}),[t,e]),Object(a.useEffect)((function(){var t;Object(s.a)(l,f.current.hsva)||e.equal(t=e.fromHsva(l),f.current.color)||(f.current={hsva:l,color:t},r(t))}),[l,e,r]);var b=Object(a.useCallback)((function(e){d((function(t){return Object.assign({},t,e)}))}),[]);return[l,b]}(t,o,d);return Object(r.jsx)(i.a,{value:b,children:Object(r.jsx)(l,{children:f})})}},function(e,t,n){"use strict";var r=n(0);t.a=Object(r.memo)((function(e){var t=Object(r.useMemo)((function(){return e.transform?e.transform.float32Array:void 0}),[e.transform]),n=Object(r.useMemo)((function(){var n;return{transform:t,children:e.children,opacity:null!==(n=e.opacity)&&void 0!==n?n:1,clip:e.clip,colorFilter:e.colorFilter,imageFilter:e.imageFilter}}),[t,e.children,e.opacity,e.clip,e.colorFilter,e.imageFilter]);return Object(r.createElement)("Group",n)}))},function(e,t,n){"use strict";var r=n(19),a=n(0),o=n(10),i=n(39),c=n(61),s=Object(o.memoize)((function(e,t){return e.MakeImageFromEncoded(t)}));t.a=Object(a.memo)((function(e){var t=Object(r.o)(),n=Object(c.a)(e.rect),o=Object(i.a)(e.paint),u=Object(a.useMemo)((function(){return e.image instanceof ArrayBuffer?s(t,e.image):e.image}),[t,e.image]),l=Object(a.useMemo)((function(){return u?{rect:n,paint:o,image:u}:void 0}),[n,o,u]);return l?Object(a.createElement)("Image",l):null}))},function(e,t,n){"use strict";var r=n(1),a=n(19),o=n(0),i=n(60),c=n(39),s=n(101),u=n(114);t.a=Object(o.memo)((function(e){var t=Object(a.o)(),n=Object(c.a)(e.paint),l=Object(o.useMemo)((function(){return Object(s.a)(t,e.points)}),[t,e.points]);return Object(i.a)(l),Object(r.jsx)(u.a,{paint:n,path:l})}))},function(e,t,n){"use strict";var r=n(0),a=n(39),o=n(61);t.a=Object(r.memo)((function(e){var t=Object(o.a)(e.rect),n=Object(a.a)(e.paint),i=Object(r.useMemo)((function(){return{rect:t,paint:n,cornerRadius:e.cornerRadius}}),[t,n,e.cornerRadius]);return Object(r.createElement)("Rect",i)}))},function(e,t,n){"use strict";var r=n(0),a=n(61);t.a=Object(r.memo)((function(e){var t=Object(a.a)(e.rect),n=Object(r.useMemo)((function(){return{paragraph:e.paragraph,rect:t}}),[e.paragraph,t]);return Object(r.createElement)("Text",n)}))},,,,,function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return c}));var r=n(4),a=n(0),o=n(217),i="(prefers-color-scheme: dark)";function c(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,n=Object(o.a)((function(){return t.matchMedia(i)})),c=Object(a.useState)(n.matches?"dark":"light"),s=Object(r.a)(c,2),u=s[0],l=s[1];return Object(a.useEffect)((function(){var e=function(e){var t=e.matches;l(t?"dark":"light")};return n.addEventListener("change",e),function(){n.removeEventListener("change",e)}}),[n]),u}}).call(this,n(68))},function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=n(0);function a(e){var t=Object(r.useRef)(!1),n=Object(r.useRef)(void 0);return t.current||(t.current=!0,n.current=e()),n.current}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.r(t),function(e,t,r,a,o){var i=n(43),c=function(){var o="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return o=o||e,function(e){var c,s,u,l;e=e||{},c||(c="undefined"!==typeof e?e:{}),c.ready=new Promise((function(e,t){s=e,u=t})),(l=c).Wd=l.Wd||[],l.Wd.push((function(){l.MakeSWCanvasSurface=function(e){var t=e;if("CANVAS"!==t.tagName&&!(t=document.getElementById(e)))throw"Canvas with id "+e+" was not found";return(e=l.MakeSurface(t.width,t.height))&&(e.Sd=t),e},l.MakeCanvasSurface||(l.MakeCanvasSurface=l.MakeSWCanvasSurface),l.MakeSurface=function(e,t){var n={width:e,height:t,colorType:l.ColorType.RGBA_8888,alphaType:l.AlphaType.Unpremul,colorSpace:l.ColorSpace.SRGB},r=e*t*4,a=l._malloc(r);return(n=l.Surface._makeRasterDirect(n,a,4*e))&&(n.Sd=null,n.Kf=e,n.Hf=t,n.Jf=r,n.lf=a,n.getCanvas().clear(l.TRANSPARENT)),n},l.MakeRasterDirectSurface=function(e,t,n){return l.Surface._makeRasterDirect(e,t.byteOffset,n)},l.Surface.prototype.flush=function(e){if(this._flush(),this.Sd){var t=new Uint8ClampedArray(l.HEAPU8.buffer,this.lf,this.Jf);t=new ImageData(t,this.Kf,this.Hf),e?this.Sd.getContext("2d").putImageData(t,0,0,e[0],e[1],e[2]-e[0],e[3]-e[1]):this.Sd.getContext("2d").putImageData(t,0,0)}},l.Surface.prototype.dispose=function(){this.lf&&l._free(this.lf),this.delete()},l.currentContext=l.currentContext||function(){},l.setCurrentContext=l.setCurrentContext||function(){}})),function(e){e.Wd=e.Wd||[],e.Wd.push((function(){function t(e,t,n){return e&&e.hasOwnProperty(t)?e[t]:n}e.GetWebGLContext=function(e,n){if(!e)throw"null canvas passed into makeWebGLContext";var r={alpha:t(n,"alpha",1),depth:t(n,"depth",1),stencil:t(n,"stencil",8),antialias:t(n,"antialias",0),premultipliedAlpha:t(n,"premultipliedAlpha",1),preserveDrawingBuffer:t(n,"preserveDrawingBuffer",0),preferLowPowerToHighPerformance:t(n,"preferLowPowerToHighPerformance",0),failIfMajorPerformanceCaveat:t(n,"failIfMajorPerformanceCaveat",0),enableExtensionsByDefault:t(n,"enableExtensionsByDefault",1),explicitSwapControl:t(n,"explicitSwapControl",0),renderViaOffscreenBackBuffer:t(n,"renderViaOffscreenBackBuffer",0)};if(r.majorVersion=n&&n.majorVersion?n.majorVersion:"undefined"!==typeof WebGL2RenderingContext?2:1,r.explicitSwapControl)throw"explicitSwapControl is not supported";return(e=function(e,t){e.Cf||(e.Cf=e.getContext,e.getContext=function(t,n){return"webgl"==t==(n=e.Cf(t,n))instanceof WebGLRenderingContext?n:null});var n=1<t.majorVersion?e.getContext("webgl2",t):e.getContext("webgl",t);return n?function(e,t){var n=Nt(_t),r={bg:n,attributes:t,version:t.majorVersion,Ne:e};return e.canvas&&(e.canvas.vf=r),_t[n]=r,("undefined"===typeof t.Rf||t.Rf)&&function(e){if(e||(e=Yt),!e.eg){e.eg=!0;var t=e.Ne;!function(e){var t=e.getExtension("ANGLE_instanced_arrays");t&&(e.vertexAttribDivisor=function(e,n){t.vertexAttribDivisorANGLE(e,n)},e.drawArraysInstanced=function(e,n,r,a){t.drawArraysInstancedANGLE(e,n,r,a)},e.drawElementsInstanced=function(e,n,r,a,o){t.drawElementsInstancedANGLE(e,n,r,a,o)})}(t),function(e){var t=e.getExtension("OES_vertex_array_object");t&&(e.createVertexArray=function(){return t.createVertexArrayOES()},e.deleteVertexArray=function(e){t.deleteVertexArrayOES(e)},e.bindVertexArray=function(e){t.bindVertexArrayOES(e)},e.isVertexArray=function(e){return t.isVertexArrayOES(e)})}(t),function(e){var t=e.getExtension("WEBGL_draw_buffers");t&&(e.drawBuffers=function(e,n){t.drawBuffersWEBGL(e,n)})}(t),t.zf=t.getExtension("WEBGL_draw_instanced_base_vertex_base_instance"),t.Df=t.getExtension("WEBGL_multi_draw_instanced_base_vertex_base_instance"),2<=e.version&&(t.Af=t.getExtension("EXT_disjoint_timer_query_webgl2")),(2>e.version||!t.Af)&&(t.Af=t.getExtension("EXT_disjoint_timer_query")),t.Kg=t.getExtension("WEBGL_multi_draw"),(t.getSupportedExtensions()||[]).forEach((function(e){e.includes("lose_context")||e.includes("debug")||t.getExtension(e)}))}}(r),n}(n,t):0}(e,r))?(Wt(e),e):0},e.deleteContext=function(e){Yt===_t[e]&&(Yt=null),"object"===typeof JSEvents&&JSEvents.Ng(_t[e].Ne.canvas),_t[e]&&_t[e].Ne.canvas&&(_t[e].Ne.canvas.vf=void 0),_t[e]=null},e.MakeWebGLCanvasSurface=function(t,n,r){n=n||null;var a=t,o="undefined"!==typeof OffscreenCanvas&&a instanceof OffscreenCanvas;if(!("undefined"!==typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||o||(a=document.getElementById(t),a)))throw"Canvas with id "+t+" was not found";if(!(t=this.GetWebGLContext(a,r))||0>t)throw"failed to create webgl context: err "+t;return r=this.MakeGrContext(t),(n=this.MakeOnScreenGLSurface(r,a.width,a.height,n))?(n.se=t,n.grContext=r,n.openGLversion=a.vf.version,n):(n=a.cloneNode(!0),a.parentNode.replaceChild(n,a),n.classList.add("ck-replaced"),e.MakeSWCanvasSurface(n))},e.MakeCanvasSurface=e.MakeWebGLCanvasSurface}))}(c),function(e){function n(e,t,n,r,a){for(var o=0;o<e.length;o++)t[o*n+(o*a+r+n)%n]=e[o];return t}function r(e){for(var t=e*e,n=Array(t);t--;)n[t]=0===t%(e+1)?1:0;return n}function a(e){return!!e&&(e.constructor===Float32Array&&4===e.length)}function o(e){return(l(255*e[3])<<24|l(255*e[0])<<16|l(255*e[1])<<8|l(255*e[2])<<0)>>>0}function s(e){if(e instanceof Float32Array){for(var t=Math.floor(e.length/4),n=new Uint32Array(t),r=0;r<t;r++)n[r]=o(e.slice(4*r,4*(r+1)));return n}return e instanceof Uint32Array?e:e instanceof Array&&e[0]instanceof Float32Array?e.map(o):void 0}function u(e){if(void 0===e)return 1;var t=parseFloat(e);return e&&-1!==e.indexOf("%")?t/100:t}function l(e){return Math.round(Math.max(0,Math.min(e||0,255)))}function d(t,n){n&&!n._ck&&e._free(t)}function f(t,n,r){if(!t||!t.length)return q;if(t._ck)return t.byteOffset;var a=e[n].BYTES_PER_ELEMENT;return r||(r=e._malloc(t.length*a)),e[n].set(t,r/a),r}function b(t){var n={he:q,count:t.length,Ue:e.ColorType.RGBA_F32};if(t instanceof Float32Array)n.he=f(t,"HEAPF32"),n.count=t.length/4;else if(t instanceof Uint32Array)n.he=f(t,"HEAPU32"),n.Ue=e.ColorType.RGBA_8888;else{if(!(t instanceof Array))throw"Invalid argument to copyFlexibleColorArray, Not a color array "+typeof t;if(t&&t.length){for(var r=e._malloc(16*t.length),a=0,o=r/4,i=0;i<t.length;i++)for(var c=0;4>c;c++)e.HEAPF32[o+a]=t[i][c],a++;t=r}else t=q;n.he=t}return n}function h(t){if(!t)return q;if(t.length){if(6===t.length||9===t.length)return f(t,"HEAPF32",R),6===t.length&&e.HEAPF32.set(X,6+R/4),R;if(16===t.length){var n=C.toTypedArray();return n[0]=t[0],n[1]=t[1],n[2]=t[3],n[3]=t[4],n[4]=t[5],n[5]=t[7],n[6]=t[12],n[7]=t[13],n[8]=t[15],R}throw"invalid matrix size"}return(n=C.toTypedArray())[0]=t.m11,n[1]=t.m21,n[2]=t.m41,n[3]=t.m12,n[4]=t.m22,n[5]=t.m42,n[6]=t.m14,n[7]=t.m24,n[8]=t.m44,R}function p(t){for(var n=Array(16),r=0;16>r;r++)n[r]=e.HEAPF32[t/4+r];return n}function j(e,t){return f(e,"HEAPF32",t||B)}function m(e,t,n,r){var a=k.toTypedArray();return a[0]=e,a[1]=t,a[2]=n,a[3]=r,B}function v(t){for(var n=new Float32Array(4),r=0;4>r;r++)n[r]=e.HEAPF32[t/4+r];return n}function g(e,t){return f(e,"HEAPF32",t||z)}function O(e,t){return f(e,"HEAPF32",t||U)}function y(){for(var e=0,t=0;t<arguments.length-1;t+=2)e+=arguments[t]*arguments[t+1];return e}function x(e,t,n){for(var r=Array(e.length),a=0;a<n;a++)for(var o=0;o<n;o++){for(var i=0,c=0;c<n;c++)i+=e[n*a+c]*t[n*c+o];r[a*n+o]=i}return r}function S(e,t){for(var n=x(t[0],t[1],e),r=2;r<t.length;)n=x(n,t[r],e),r++;return n}e.Color=function(t,n,r,a){return void 0===a&&(a=1),e.Color4f(l(t)/255,l(n)/255,l(r)/255,a)},e.ColorAsInt=function(e,t,n,r){return void 0===r&&(r=255),(l(r)<<24|l(e)<<16|l(t)<<8|l(n)<<0&268435455)>>>0},e.Color4f=function(e,t,n,r){return void 0===r&&(r=1),Float32Array.of(e,t,n,r)},Object.defineProperty(e,"TRANSPARENT",{get:function(){return e.Color4f(0,0,0,0)}}),Object.defineProperty(e,"BLACK",{get:function(){return e.Color4f(0,0,0,1)}}),Object.defineProperty(e,"WHITE",{get:function(){return e.Color4f(1,1,1,1)}}),Object.defineProperty(e,"RED",{get:function(){return e.Color4f(1,0,0,1)}}),Object.defineProperty(e,"GREEN",{get:function(){return e.Color4f(0,1,0,1)}}),Object.defineProperty(e,"BLUE",{get:function(){return e.Color4f(0,0,1,1)}}),Object.defineProperty(e,"YELLOW",{get:function(){return e.Color4f(1,1,0,1)}}),Object.defineProperty(e,"CYAN",{get:function(){return e.Color4f(0,1,1,1)}}),Object.defineProperty(e,"MAGENTA",{get:function(){return e.Color4f(1,0,1,1)}}),e.getColorComponents=function(e){return[Math.floor(255*e[0]),Math.floor(255*e[1]),Math.floor(255*e[2]),e[3]]},e.parseColorString=function(t,n){if((t=t.toLowerCase()).startsWith("#")){switch(n=255,t.length){case 9:n=parseInt(t.slice(7,9),16);case 7:var r=parseInt(t.slice(1,3),16),a=parseInt(t.slice(3,5),16),o=parseInt(t.slice(5,7),16);break;case 5:n=17*parseInt(t.slice(4,5),16);case 4:r=17*parseInt(t.slice(1,2),16),a=17*parseInt(t.slice(2,3),16),o=17*parseInt(t.slice(3,4),16)}return e.Color(r,a,o,n/255)}return t.startsWith("rgba")?(t=(t=t.slice(5,-1)).split(","),e.Color(+t[0],+t[1],+t[2],u(t[3]))):t.startsWith("rgb")?(t=(t=t.slice(4,-1)).split(","),e.Color(+t[0],+t[1],+t[2],u(t[3]))):t.startsWith("gray(")||t.startsWith("hsl")||!n||void 0===(t=n[t])?e.BLACK:t},e.multiplyByAlpha=function(e,t){return(e=e.slice())[3]=Math.max(0,Math.min(e[3]*t,1)),e},e.Malloc=function(t,n){var r=e._malloc(n*t.BYTES_PER_ELEMENT);return{_ck:!0,length:n,byteOffset:r,ue:null,subarray:function(e,t){return(e=this.toTypedArray().subarray(e,t))._ck=!0,e},toTypedArray:function(){return this.ue&&this.ue.length||(this.ue=new t(e.HEAPU8.buffer,r,n),this.ue._ck=!0),this.ue}}},e.Free=function(t){e._free(t.byteOffset),t.byteOffset=q,t.toTypedArray=null,t.ue=null};var C,w,k,P,T,I,M,A,F,L,R=q,D=q,B=q,z=q,V=q,G=q,N=q,W=q,U=q,Y=q,X=Float32Array.of(0,0,1),K={};e.ve=function(){this.re=[],this.$d=null,Object.defineProperty(this,"length",{enumerable:!0,get:function(){return this.re.length/4}})},e.ve.prototype.push=function(e,t,n,r){this.$d||this.re.push(e,t,n,r)},e.ve.prototype.set=function(t,n,r,a,o){0>t||t>=this.re.length/4||(t*=4,this.$d?(t=this.$d/4+t,e.HEAPF32[t]=n,e.HEAPF32[t+1]=r,e.HEAPF32[t+2]=a,e.HEAPF32[t+3]=o):(this.re[t]=n,this.re[t+1]=r,this.re[t+2]=a,this.re[t+3]=o))},e.ve.prototype.build=function(){return this.$d?this.$d:this.$d=f(this.re,"HEAPF32")},e.ve.prototype.delete=function(){this.$d&&(e._free(this.$d),this.$d=null)},e.Oe=function(){this.Te=[],this.$d=null,Object.defineProperty(this,"length",{enumerable:!0,get:function(){return this.Te.length}})},e.Oe.prototype.push=function(e){this.$d||this.Te.push(e)},e.Oe.prototype.set=function(t,n){0>t||t>=this.Te.length||(t*=4,this.$d?e.HEAPU32[this.$d/4+t]=n:this.Te[t]=n)},e.Oe.prototype.build=function(){return this.$d?this.$d:this.$d=f(this.Te,"HEAPU32")},e.Oe.prototype.delete=function(){this.$d&&(e._free(this.$d),this.$d=null)},e.RectBuilder=e.ve,e.RSXFormBuilder=e.ve,e.ColorBuilder=e.Oe;var q=0;e.onRuntimeInitialized=function(){function t(t,n,r,a,o,i){i||(i=4*a.width,a.colorType===e.ColorType.RGBA_F16?i*=2:a.colorType===e.ColorType.RGBA_F32&&(i*=4));var c=i*a.height,s=o?o.byteOffset:e._malloc(c);if(!t._readPixels(a,s,i,n,r))return o||e._free(s),null;if(o)return o.toTypedArray();switch(a.colorType){case e.ColorType.RGBA_8888:case e.ColorType.RGBA_F16:t=new Uint8Array(e.HEAPU8.buffer,s,c).slice();break;case e.ColorType.RGBA_F32:t=new Float32Array(e.HEAPU8.buffer,s,c).slice();break;default:return null}return e._free(s),t}k=e.Malloc(Float32Array,4),B=k.byteOffset,w=e.Malloc(Float32Array,16),D=w.byteOffset,C=e.Malloc(Float32Array,9),R=C.byteOffset,F=e.Malloc(Float32Array,12),U=F.byteOffset,L=e.Malloc(Float32Array,12),Y=L.byteOffset,P=e.Malloc(Float32Array,4),z=P.byteOffset,T=e.Malloc(Float32Array,4),V=T.byteOffset,I=e.Malloc(Float32Array,3),G=I.byteOffset,M=e.Malloc(Float32Array,3),N=M.byteOffset,A=e.Malloc(Int32Array,4),W=A.byteOffset,e.ColorSpace.SRGB=e.ColorSpace._MakeSRGB(),e.ColorSpace.DISPLAY_P3=e.ColorSpace._MakeDisplayP3(),e.ColorSpace.ADOBE_RGB=e.ColorSpace._MakeAdobeRGB(),e.GlyphRunFlags={IsWhiteSpace:e._GlyphRunFlags_isWhiteSpace},e.Path.MakeFromCmds=function(t){for(var n=0,r=0;r<t.length;r++)n+=t[r].length;if(K[n])var a=K[n];else a=new Float32Array(n),K[n]=a;var o=0;for(r=0;r<t.length;r++)for(var i=0;i<t[r].length;i++)a[o]=t[r][i],o++;return t=[f(a,"HEAPF32"),n],n=e.Path._MakeFromCmds(t[0],t[1]),e._free(t[0]),n},e.Path.MakeFromVerbsPointsWeights=function(t,n,r){var a=f(t,"HEAPU8"),o=f(n,"HEAPF32"),i=f(r,"HEAPF32"),c=e.Path._MakeFromVerbsPointsWeights(a,t.length,o,n.length,i,r&&r.length||0);return d(a,t),d(o,n),d(i,r),c},e.Path.prototype.addArc=function(e,t,n){return e=g(e),this._addArc(e,t,n),this},e.Path.prototype.addOval=function(e,t,n){return void 0===n&&(n=1),e=g(e),this._addOval(e,!!t,n),this},e.Path.prototype.addPath=function(){var e=Array.prototype.slice.call(arguments),t=e[0],n=!1;if("boolean"===typeof e[e.length-1]&&(n=e.pop()),1===e.length)this._addPath(t,1,0,0,0,1,0,0,0,1,n);else if(2===e.length)e=e[1],this._addPath(t,e[0],e[1],e[2],e[3],e[4],e[5],e[6]||0,e[7]||0,e[8]||1,n);else{if(7!==e.length&&10!==e.length)return null;this._addPath(t,e[1],e[2],e[3],e[4],e[5],e[6],e[7]||0,e[8]||0,e[9]||1,n)}return this},e.Path.prototype.addPoly=function(e,t){var n=f(e,"HEAPF32");return this._addPoly(n,e.length/2,t),d(n,e),this},e.Path.prototype.addRect=function(e,t){return e=g(e),this._addRect(e,!!t),this},e.Path.prototype.addRRect=function(e,t){return e=O(e),this._addRRect(e,!!t),this},e.Path.prototype.addVerbsPointsWeights=function(e,t,n){var r=f(e,"HEAPU8"),a=f(t,"HEAPF32"),o=f(n,"HEAPF32");this._addVerbsPointsWeights(r,e.length,a,t.length,o,n&&n.length||0),d(r,e),d(a,t),d(o,n)},e.Path.prototype.arc=function(t,n,r,a,o,i){return t=e.LTRBRect(t-r,n-r,t+r,n+r),o=(o-a)/Math.PI*180-360*!!i,(i=new e.Path).addArc(t,a/Math.PI*180,o),this.addPath(i,!0),i.delete(),this},e.Path.prototype.arcToOval=function(e,t,n,r){return e=g(e),this._arcToOval(e,t,n,r),this},e.Path.prototype.arcToRotated=function(e,t,n,r,a,o,i){return this._arcToRotated(e,t,n,!!r,!!a,o,i),this},e.Path.prototype.arcToTangent=function(e,t,n,r,a){return this._arcToTangent(e,t,n,r,a),this},e.Path.prototype.close=function(){return this._close(),this},e.Path.prototype.conicTo=function(e,t,n,r,a){return this._conicTo(e,t,n,r,a),this},e.Path.prototype.computeTightBounds=function(e){this._computeTightBounds(z);var t=P.toTypedArray();return e?(e.set(t),e):t.slice()},e.Path.prototype.cubicTo=function(e,t,n,r,a,o){return this._cubicTo(e,t,n,r,a,o),this},e.Path.prototype.dash=function(e,t,n){return this._dash(e,t,n)?this:null},e.Path.prototype.getBounds=function(e){this._getBounds(z);var t=P.toTypedArray();return e?(e.set(t),e):t.slice()},e.Path.prototype.lineTo=function(e,t){return this._lineTo(e,t),this},e.Path.prototype.moveTo=function(e,t){return this._moveTo(e,t),this},e.Path.prototype.offset=function(e,t){return this._transform(1,0,e,0,1,t,0,0,1),this},e.Path.prototype.quadTo=function(e,t,n,r){return this._quadTo(e,t,n,r),this},e.Path.prototype.rArcTo=function(e,t,n,r,a,o,i){return this._rArcTo(e,t,n,r,a,o,i),this},e.Path.prototype.rConicTo=function(e,t,n,r,a){return this._rConicTo(e,t,n,r,a),this},e.Path.prototype.rCubicTo=function(e,t,n,r,a,o){return this._rCubicTo(e,t,n,r,a,o),this},e.Path.prototype.rLineTo=function(e,t){return this._rLineTo(e,t),this},e.Path.prototype.rMoveTo=function(e,t){return this._rMoveTo(e,t),this},e.Path.prototype.rQuadTo=function(e,t,n,r){return this._rQuadTo(e,t,n,r),this},e.Path.prototype.stroke=function(t){return(t=t||{}).width=t.width||1,t.miter_limit=t.miter_limit||4,t.cap=t.cap||e.StrokeCap.Butt,t.join=t.join||e.StrokeJoin.Miter,t.precision=t.precision||1,this._stroke(t)?this:null},e.Path.prototype.transform=function(){if(1===arguments.length){var e=arguments[0];this._transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6]||0,e[7]||0,e[8]||1)}else{if(6!==arguments.length&&9!==arguments.length)throw"transform expected to take 1 or 9 arguments. Got "+arguments.length;e=arguments,this._transform(e[0],e[1],e[2],e[3],e[4],e[5],e[6]||0,e[7]||0,e[8]||1)}return this},e.Path.prototype.trim=function(e,t,n){return this._trim(e,t,!!n)?this:null},e.Image.prototype.makeShaderCubic=function(e,t,n,r,a){return a=h(a),this._makeShaderCubic(e,t,n,r,a)},e.Image.prototype.makeShaderOptions=function(e,t,n,r,a){return a=h(a),this._makeShaderOptions(e,t,n,r,a)},e.Image.prototype.readPixels=function(e,n,r,a,o){return t(this,e,n,r,a,o)},e.Canvas.prototype.clear=function(e){e=j(e),this._clear(e)},e.Canvas.prototype.clipRRect=function(e,t,n){e=O(e),this._clipRRect(e,t,n)},e.Canvas.prototype.clipRect=function(e,t,n){e=g(e),this._clipRect(e,t,n)},e.Canvas.prototype.concat=function(e){e=function(e){if(!e)return q;var t=w.toTypedArray();if(e.length){if(16!==e.length&&6!==e.length&&9!==e.length)throw"invalid matrix size";return 16===e.length?f(e,"HEAPF32",D):(t.fill(0),t[0]=e[0],t[1]=e[1],t[3]=e[2],t[4]=e[3],t[5]=e[4],t[7]=e[5],t[12]=e[6],t[13]=e[7],t[15]=e[8],6===e.length&&(t[12]=0,t[13]=0,t[15]=1),D)}return t[0]=e.m11,t[1]=e.m21,t[2]=e.m31,t[3]=e.m41,t[4]=e.m12,t[5]=e.m22,t[6]=e.m32,t[7]=e.m42,t[8]=e.m13,t[9]=e.m23,t[10]=e.m33,t[11]=e.m43,t[12]=e.m14,t[13]=e.m24,t[14]=e.m34,t[15]=e.m44,D}(e),this._concat(e)},e.Canvas.prototype.drawArc=function(e,t,n,r,a){e=g(e),this._drawArc(e,t,n,r,a)},e.Canvas.prototype.drawAtlas=function(t,n,r,a,o,i,c){if(t&&a&&n&&r&&n.length===r.length){o||(o=e.BlendMode.SrcOver);var u=n.build?n.build():f(n,"HEAPF32");if(r.build)var l=r.build(),b=r.length;else l=f(r,"HEAPF32"),b=r.length/4;var h=q;if(i&&(h=i.build?i.build():f(s(i),"HEAPU32")),c&&"B"in c&&"C"in c)this._drawAtlasCubic(t,l,u,h,b,o,c.B,c.C,a);else{var p=e.FilterMode.Linear,j=e.MipmapMode.None;c&&(p=c.filter,"mipmap"in c&&(j=c.mipmap)),this._drawAtlasOptions(t,l,u,h,b,o,p,j,a)}u&&!n.build&&d(u,n),l&&!r.build&&d(l,r),h&&!i.build&&d(h,i)}},e.Canvas.prototype.drawColor=function(e,t){e=j(e),void 0!==t?this._drawColor(e,t):this._drawColor(e)},e.Canvas.prototype.drawColorComponents=function(e,t,n,r,a){e=m(e,t,n,r),void 0!==a?this._drawColor(e,a):this._drawColor(e)},e.Canvas.prototype.drawDRRect=function(e,t,n){e=O(e,U),t=O(t,Y),this._drawDRRect(e,t,n)},e.Canvas.prototype.drawGlyphs=function(e,t,n,r,a,o){if(!(2*e.length<=t.length))throw"Not enough positions for the array of gyphs";var i=f(e,"HEAPU16"),c=f(t,"HEAPF32");this._drawGlyphs(e.length,i,c,n,r,a,o),d(c,t),d(i,e)},e.Canvas.prototype.drawImageNine=function(e,t,n,r,a){t=f(t,"HEAP32",W),n=g(n),this._drawImageNine(e,t,n,r,a||null)},e.Canvas.prototype.drawImageRect=function(e,t,n,r,a){g(t,z),g(n,V),this._drawImageRect(e,z,V,r,!!a)},e.Canvas.prototype.drawImageRectCubic=function(e,t,n,r,a,o){g(t,z),g(n,V),this._drawImageRectCubic(e,z,V,r,a,o||null)},e.Canvas.prototype.drawImageRectOptions=function(e,t,n,r,a,o){g(t,z),g(n,V),this._drawImageRectOptions(e,z,V,r,a,o||null)},e.Canvas.prototype.drawOval=function(e,t){e=g(e),this._drawOval(e,t)},e.Canvas.prototype.drawPatch=function(t,n,r,a,o){if(24>t.length)throw"Need 12 cubic points";if(n&&4>n.length)throw"Need 4 colors";if(r&&8>r.length)throw"Need 4 shader coordinates";var i=f(t,"HEAPF32"),c=n?f(s(n),"HEAPU32"):q,u=r?f(r,"HEAPF32"):q;a||(a=e.BlendMode.Modulate),this._drawPatch(i,c,u,a,o),d(u,r),d(c,n),d(i,t)},e.Canvas.prototype.drawPoints=function(e,t,n){var r=f(t,"HEAPF32");this._drawPoints(e,r,t.length/2,n),d(r,t)},e.Canvas.prototype.drawRRect=function(e,t){e=O(e),this._drawRRect(e,t)},e.Canvas.prototype.drawRect=function(e,t){e=g(e),this._drawRect(e,t)},e.Canvas.prototype.drawShadow=function(e,t,n,r,a,o,i){var c=f(a,"HEAPF32"),s=f(o,"HEAPF32");t=f(t,"HEAPF32",G),n=f(n,"HEAPF32",N),this._drawShadow(e,t,n,r,c,s,i),d(c,a),d(s,o)},e.getShadowLocalBounds=function(e,t,n,r,a,o,i){return e=h(e),n=f(n,"HEAPF32",G),r=f(r,"HEAPF32",N),this._getShadowLocalBounds(e,t,n,r,a,o,z)?(t=P.toTypedArray(),i?(i.set(t),i):t.slice()):null},e.Canvas.prototype.getLocalToDevice=function(){return this._getLocalToDevice(D),p(D)},e.Canvas.prototype.findMarkedCTM=function(e){return this._findMarkedCTM(e,D)?p(D):null},e.Canvas.prototype.getTotalMatrix=function(){this._getTotalMatrix(R);for(var t=Array(9),n=0;9>n;n++)t[n]=e.HEAPF32[R/4+n];return t},e.Canvas.prototype.readPixels=function(e,n,r,a,o){return t(this,e,n,r,a,o)},e.Canvas.prototype.saveLayer=function(e,t,n,r){return t=g(t),this._saveLayer(e||null,t,n||null,r||0)},e.Canvas.prototype.writePixels=function(t,n,r,a,o,i,c,s){if(t.byteLength%(n*r))throw"pixels length must be a multiple of the srcWidth * srcHeight";var u=t.byteLength/(n*r);i=i||e.AlphaType.Unpremul,c=c||e.ColorType.RGBA_8888,s=s||e.ColorSpace.SRGB;var l=u*n;return u=f(t,"HEAPU8"),n=this._writePixels({width:n,height:r,colorType:c,alphaType:i,colorSpace:s},u,l,a,o),d(u,t),n},e.ColorFilter.MakeBlend=function(t,n){return t=j(t),e.ColorFilter._MakeBlend(t,n)},e.ColorFilter.MakeMatrix=function(t){if(!t||20!==t.length)throw"invalid color matrix";var n=f(t,"HEAPF32"),r=e.ColorFilter._makeMatrix(n);return d(n,t),r},e.ContourMeasure.prototype.getPosTan=function(e,t){return this._getPosTan(e,z),e=P.toTypedArray(),t?(t.set(e),t):e.slice()},e.ImageFilter.MakeDropShadow=function(t,n,r,a,o,i){return o=j(o),e.ImageFilter._MakeDropShadow(t,n,r,a,o,i)},e.ImageFilter.MakeDropShadowOnly=function(t,n,r,a,o,i){return o=j(o),e.ImageFilter._MakeDropShadowOnly(t,n,r,a,o,i)},e.ImageFilter.MakeMatrixTransform=function(t,n,r){return t=h(t),e.ImageFilter._MakeMatrixTransform(t,n,r)},e.Paint.prototype.getColor=function(){return this._getColor(B),v(B)},e.Paint.prototype.setColor=function(e,t){t=t||null,e=j(e),this._setColor(e,t)},e.Paint.prototype.setColorComponents=function(e,t,n,r,a){a=a||null,e=m(e,t,n,r),this._setColor(e,a)},e.Path.prototype.getPoint=function(e,t){return this._getPoint(e,z),e=P.toTypedArray(),t?(t[0]=e[0],t[1]=e[1],t):e.slice(0,2)},e.PictureRecorder.prototype.beginRecording=function(e){return e=g(e),this._beginRecording(e)},e.Surface.prototype.makeImageSnapshot=function(e){return e=f(e,"HEAP32",W),this._makeImageSnapshot(e)},e.Surface.prototype.requestAnimationFrame=function(t,n){this.Pe||(this.Pe=this.getCanvas()),requestAnimationFrame(function(){void 0!==this.se&&e.setCurrentContext(this.se),t(this.Pe),this.flush(n)}.bind(this))},e.Surface.prototype.drawOnce=function(t,n){this.Pe||(this.Pe=this.getCanvas()),requestAnimationFrame(function(){void 0!==this.se&&e.setCurrentContext(this.se),t(this.Pe),this.flush(n),this.dispose()}.bind(this))},e.PathEffect.MakeDash=function(t,n){if(n||(n=0),!t.length||1===t.length%2)throw"Intervals array must have even length";var r=f(t,"HEAPF32");return n=e.PathEffect._MakeDash(r,t.length,n),d(r,t),n},e.Shader.MakeColor=function(t,n){return n=n||null,t=j(t),e.Shader._MakeColor(t,n)},e.Shader.Blend=e.Shader.MakeBlend,e.Shader.Color=e.Shader.MakeColor,e.Shader.Lerp=e.Shader.MakeLerp,e.Shader.MakeLinearGradient=function(t,n,r,a,o,i,c,s){s=s||null;var u=b(r),l=f(a,"HEAPF32");c=c||0,i=h(i);var p=P.toTypedArray();return p.set(t),p.set(n,2),t=e.Shader._MakeLinearGradient(z,u.he,u.Ue,l,u.count,o,c,i,s),d(u.he,r),a&&d(l,a),t},e.Shader.MakeRadialGradient=function(t,n,r,a,o,i,c,s){s=s||null;var u=b(r),l=f(a,"HEAPF32");return c=c||0,i=h(i),t=e.Shader._MakeRadialGradient(t[0],t[1],n,u.he,u.Ue,l,u.count,o,c,i,s),d(u.he,r),a&&d(l,a),t},e.Shader.MakeSweepGradient=function(t,n,r,a,o,i,c,s,u,l){l=l||null;var p=b(r),j=f(a,"HEAPF32");return c=c||0,s=s||0,u=u||360,i=h(i),t=e.Shader._MakeSweepGradient(t,n,p.he,p.Ue,j,p.count,o,s,u,c,i,l),d(p.he,r),a&&d(j,a),t},e.Shader.MakeTwoPointConicalGradient=function(t,n,r,a,o,i,c,s,u,l){l=l||null;var p=b(o),j=f(i,"HEAPF32");u=u||0,s=h(s);var m=P.toTypedArray();return m.set(t),m.set(r,2),t=e.Shader._MakeTwoPointConicalGradient(z,n,a,p.he,p.Ue,j,p.count,c,u,s,l),d(p.he,o),i&&d(j,i),t},e.Vertices.prototype.bounds=function(e){this._bounds(z);var t=P.toTypedArray();return e?(e.set(t),e):t.slice()},e.Wd&&e.Wd.forEach((function(e){e()}))},e.computeTonalColors=function(e){var t=f(e.ambient,"HEAPF32"),n=f(e.spot,"HEAPF32");this._computeTonalColors(t,n);var r={ambient:v(t),spot:v(n)};return d(t,e.ambient),d(n,e.spot),r},e.LTRBRect=function(e,t,n,r){return Float32Array.of(e,t,n,r)},e.XYWHRect=function(e,t,n,r){return Float32Array.of(e,t,e+n,t+r)},e.LTRBiRect=function(e,t,n,r){return Int32Array.of(e,t,n,r)},e.XYWHiRect=function(e,t,n,r){return Int32Array.of(e,t,e+n,t+r)},e.RRectXY=function(e,t,n){return Float32Array.of(e[0],e[1],e[2],e[3],t,n,t,n,t,n,t,n)},e.MakeAnimatedImageFromEncoded=function(t){t=new Uint8Array(t);var n=e._malloc(t.byteLength);return e.HEAPU8.set(t,n),(t=e._decodeAnimatedImage(n,t.byteLength))?t:null},e.MakeImageFromEncoded=function(t){t=new Uint8Array(t);var n=e._malloc(t.byteLength);return e.HEAPU8.set(t,n),(t=e._decodeImage(n,t.byteLength))?t:null};var J=null;e.MakeImageFromCanvasImageSource=function(t){var n=t.width,r=t.height;J||(J=document.createElement("canvas")),J.width=n,J.height=r;var a=J.getContext("2d");return a.drawImage(t,0,0),t=a.getImageData(0,0,n,r),e.MakeImage({width:n,height:r,alphaType:e.AlphaType.Unpremul,colorType:e.ColorType.RGBA_8888,colorSpace:e.ColorSpace.SRGB},t.data,4*n)},e.MakeImage=function(t,n,r){var a=e._malloc(n.length);return e.HEAPU8.set(n,a),e._MakeImage(t,a,n.length,r)},e.MakeVertices=function(t,n,r,a,o,i){var c=o&&o.length||0,u=0;if(r&&r.length&&(u|=1),a&&a.length&&(u|=2),void 0===i||i||(u|=4),f(n,"HEAPF32",(t=new e._VerticesBuilder(t,n.length/2,c,u)).positions()),t.texCoords()&&f(r,"HEAPF32",t.texCoords()),t.colors()){if(a.build)throw"Color builder not accepted by MakeVertices, use array of ints";f(s(a),"HEAPU32",t.colors())}return t.indices()&&f(o,"HEAPU16",t.indices()),t.detach()},e.Matrix={},e.Matrix.identity=function(){return r(3)},e.Matrix.invert=function(e){var t=e[0]*e[4]*e[8]+e[1]*e[5]*e[6]+e[2]*e[3]*e[7]-e[2]*e[4]*e[6]-e[1]*e[3]*e[8]-e[0]*e[5]*e[7];return t?[(e[4]*e[8]-e[5]*e[7])/t,(e[2]*e[7]-e[1]*e[8])/t,(e[1]*e[5]-e[2]*e[4])/t,(e[5]*e[6]-e[3]*e[8])/t,(e[0]*e[8]-e[2]*e[6])/t,(e[2]*e[3]-e[0]*e[5])/t,(e[3]*e[7]-e[4]*e[6])/t,(e[1]*e[6]-e[0]*e[7])/t,(e[0]*e[4]-e[1]*e[3])/t]:null},e.Matrix.mapPoints=function(e,t){for(var n=0;n<t.length;n+=2){var r=t[n],a=t[n+1],o=e[6]*r+e[7]*a+e[8],i=e[3]*r+e[4]*a+e[5];t[n]=(e[0]*r+e[1]*a+e[2])/o,t[n+1]=i/o}return t},e.Matrix.multiply=function(){return S(3,arguments)},e.Matrix.rotated=function(e,t,n){t=t||0,n=n||0;var r=Math.sin(e);return[e=Math.cos(e),-r,y(r,n,1-e,t),r,e,y(-r,t,1-e,n),0,0,1]},e.Matrix.scaled=function(e,t,a,o){a=a||0,o=o||0;var i=n([e,t],r(3),3,0,1);return n([a-e*a,o-t*o],i,3,2,0)},e.Matrix.skewed=function(e,t,a,o){a=a||0,o=o||0;var i=n([e,t],r(3),3,1,-1);return n([-e*a,-t*o],i,3,2,0)},e.Matrix.translated=function(e,t){return n(arguments,r(3),3,2,0)},e.Vector={},e.Vector.dot=function(e,t){return e.map((function(e,n){return e*t[n]})).reduce((function(e,t){return e+t}))},e.Vector.lengthSquared=function(t){return e.Vector.dot(t,t)},e.Vector.length=function(t){return Math.sqrt(e.Vector.lengthSquared(t))},e.Vector.mulScalar=function(e,t){return e.map((function(e){return e*t}))},e.Vector.add=function(e,t){return e.map((function(e,n){return e+t[n]}))},e.Vector.sub=function(e,t){return e.map((function(e,n){return e-t[n]}))},e.Vector.dist=function(t,n){return e.Vector.length(e.Vector.sub(t,n))},e.Vector.normalize=function(t){return e.Vector.mulScalar(t,1/e.Vector.length(t))},e.Vector.cross=function(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]},e.M44={},e.M44.identity=function(){return r(4)},e.M44.translated=function(e){return n(e,r(4),4,3,0)},e.M44.scaled=function(e){return n(e,r(4),4,0,1)},e.M44.rotated=function(t,n){return e.M44.rotatedUnitSinCos(e.Vector.normalize(t),Math.sin(n),Math.cos(n))},e.M44.rotatedUnitSinCos=function(e,t,n){var r=e[0],a=e[1],o=1-n;return[o*r*r+n,o*r*a-t*(e=e[2]),o*r*e+t*a,0,o*r*a+t*e,o*a*a+n,o*a*e-t*r,0,o*r*e-t*a,o*a*e+t*r,o*e*e+n,0,0,0,0,1]},e.M44.lookat=function(t,r,a){r=e.Vector.normalize(e.Vector.sub(r,t)),a=e.Vector.normalize(a),a=e.Vector.normalize(e.Vector.cross(r,a));var o=e.M44.identity();return n(a,o,4,0,0),n(e.Vector.cross(a,r),o,4,1,0),n(e.Vector.mulScalar(r,-1),o,4,2,0),n(t,o,4,3,0),null===(t=e.M44.invert(o))?e.M44.identity():t},e.M44.perspective=function(e,t,n){var r=1/(t-e);return n/=2,[n=Math.cos(n)/Math.sin(n),0,0,0,0,n,0,0,0,0,(t+e)*r,2*t*e*r,0,0,-1,1]},e.M44.rc=function(e,t,n){return e[4*t+n]},e.M44.multiply=function(){return S(4,arguments)},e.M44.invert=function(e){var t=e[0],n=e[4],r=e[8],a=e[12],o=e[1],i=e[5],c=e[9],s=e[13],u=e[2],l=e[6],d=e[10],f=e[14],b=e[3],h=e[7],p=e[11],j=t*i-n*o,m=t*c-r*o,v=t*s-a*o,g=n*c-r*i,O=n*s-a*i,y=r*s-a*c,x=u*h-l*b,S=u*p-d*b,C=u*(e=e[15])-f*b,w=l*p-d*h,k=l*e-f*h,P=d*e-f*p,T=j*P-m*k+v*w+g*C-O*S+y*x,I=1/T;return 0===T||1/0===I?null:(t=[i*(P*=I)-c*(k*=I)+s*(w*=I),c*(C*=I)-o*P-s*(S*=I),o*k-i*C+s*(x*=I),i*S-o*w-c*x,r*k-n*P-a*w,t*P-r*C+a*S,n*C-t*k-a*x,t*w-n*S+r*x,h*(y*=I)-p*(O*=I)+e*(g*=I),p*(v*=I)-b*y-e*(m*=I),b*O-h*v+e*(j*=I),h*m-b*g-p*j,d*O-l*y-f*g,u*y-d*v+f*m,l*v-u*O-f*j,u*g-l*m+d*j]).every((function(e){return!isNaN(e)&&1/0!==e&&-1/0!==e}))?t:null},e.M44.transpose=function(e){return[e[0],e[4],e[8],e[12],e[1],e[5],e[9],e[13],e[2],e[6],e[10],e[14],e[3],e[7],e[11],e[15]]},e.M44.mustInvert=function(t){if(null===(t=e.M44.invert(t)))throw"Matrix not invertible";return t},e.M44.setupCamera=function(t,n,r){var a=e.M44.lookat(r.eye,r.coa,r.up);return r=e.M44.perspective(r.near,r.far,r.angle),n=[(t[2]-t[0])/2,(t[3]-t[1])/2,n],t=e.M44.multiply(e.M44.translated([(t[0]+t[2])/2,(t[1]+t[3])/2,0]),e.M44.scaled(n)),e.M44.multiply(t,r,a,e.M44.mustInvert(t))},e.ColorMatrix={},e.ColorMatrix.identity=function(){var e=new Float32Array(20);return e[0]=1,e[6]=1,e[12]=1,e[18]=1,e},e.ColorMatrix.scaled=function(e,t,n,r){var a=new Float32Array(20);return a[0]=e,a[6]=t,a[12]=n,a[18]=r,a};var Z,$=[[6,7,11,12],[0,10,2,12],[0,1,5,6]];e.ColorMatrix.rotated=function(t,n,r){var a=e.ColorMatrix.identity();return a[(t=$[t])[0]]=r,a[t[1]]=n,a[t[2]]=-n,a[t[3]]=r,a},e.ColorMatrix.postTranslate=function(e,t,n,r,a){return e[4]+=t,e[9]+=n,e[14]+=r,e[19]+=a,e},e.ColorMatrix.concat=function(e,t){for(var n=new Float32Array(20),r=0,a=0;20>a;a+=5){for(var o=0;4>o;o++)n[r++]=e[a]*t[o]+e[a+1]*t[o+5]+e[a+2]*t[o+10]+e[a+3]*t[o+15];n[r++]=e[a]*t[4]+e[a+1]*t[9]+e[a+2]*t[14]+e[a+3]*t[19]+e[a+4]}return n},(Z=c).Wd=Z.Wd||[],Z.Wd.push((function(){function e(e){if(!e||!e.length)return[];for(var t=[],n=0;n<e.length;n+=5){var r=Z.LTRBRect(e[n],e[n+1],e[n+2],e[n+3]);r.direction=0===e[n+4]?Z.TextDirection.RTL:Z.TextDirection.LTR,t.push(r)}return Z._free(e.byteOffset),t}function t(e){return void 0===(e=e||{}).weight&&(e.weight=Z.FontWeight.Normal),e.width=e.width||Z.FontWidth.Normal,e.slant=e.slant||Z.FontSlant.Upright,e}function n(e){if(!e||!e.length)return q;for(var t=[],n=0;n<e.length;n++){var a=r(e[n]);t.push(a)}return f(t,"HEAPU32")}function r(e){if(c[e])return c[e];var t=E(e)+1,n=Z._malloc(t);return _(e,H,n,t),c[e]=n}function a(e){e._colorPtr=j(e.color),e._foregroundColorPtr=q,e._backgroundColorPtr=q,e._decorationColorPtr=q,e.foregroundColor&&(e._foregroundColorPtr=j(e.foregroundColor,s)),e.backgroundColor&&(e._backgroundColorPtr=j(e.backgroundColor,u)),e.decorationColor&&(e._decorationColorPtr=j(e.decorationColor,l)),Array.isArray(e.fontFamilies)&&e.fontFamilies.length?(e._fontFamiliesPtr=n(e.fontFamilies),e._fontFamiliesLen=e.fontFamilies.length):(e._fontFamiliesPtr=q,e._fontFamiliesLen=0)}function o(e){Z._free(e._fontFamiliesPtr)}Z.Paragraph.prototype.getRectsForRange=function(t,n,r,a){return e(t=this._getRectsForRange(t,n,r,a))},Z.Paragraph.prototype.getRectsForPlaceholders=function(){return e(this._getRectsForPlaceholders())},Z.TypefaceFontProvider.prototype.registerFont=function(e,t){if(!(e=Z.FontMgr.RefDefault().MakeTypefaceFromData(e)))return null;t=r(t),this._registerFont(e,t)},Z.ParagraphStyle=function(e){if(e.disableHinting=e.disableHinting||!1,e.ellipsis){var a=e.ellipsis;e._ellipsisPtr=r(a),e._ellipsisLen=E(a)+1}else e._ellipsisPtr=q,e._ellipsisLen=0;return e.heightMultiplier=e.heightMultiplier||0,e.maxLines=e.maxLines||0,(a=(a=e.strutStyle)||{}).strutEnabled=a.strutEnabled||!1,a.strutEnabled&&Array.isArray(a.fontFamilies)&&a.fontFamilies.length?(a._fontFamiliesPtr=n(a.fontFamilies),a._fontFamiliesLen=a.fontFamilies.length):(a._fontFamiliesPtr=q,a._fontFamiliesLen=0),a.fontStyle=t(a.fontStyle),a.fontSize=a.fontSize||0,a.heightMultiplier=a.heightMultiplier||0,a.halfLeading=a.halfLeading||!1,a.leading=a.leading||0,a.forceStrutHeight=a.forceStrutHeight||!1,e.strutStyle=a,e.textAlign=e.textAlign||Z.TextAlign.Start,e.textDirection=e.textDirection||Z.TextDirection.LTR,e.textHeightBehavior=e.textHeightBehavior||Z.TextHeightBehavior.All,e.textStyle=Z.TextStyle(e.textStyle),e},Z.TextStyle=function(e){if(e.color||(e.color=Z.BLACK),e.decoration=e.decoration||0,e.decorationThickness=e.decorationThickness||0,e.decorationStyle=e.decorationStyle||Z.DecorationStyle.Solid,e.textBaseline=e.textBaseline||Z.TextBaseline.Alphabetic,e.fontSize=e.fontSize||0,e.letterSpacing=e.letterSpacing||0,e.wordSpacing=e.wordSpacing||0,e.heightMultiplier=e.heightMultiplier||0,e.halfLeading=e.halfLeading||!1,e.locale){var a=e.locale;e._localePtr=r(a),e._localeLen=E(a)+1}else e._localePtr=q,e._localeLen=0;if(e.fontStyle=t(e.fontStyle),e.shadows){var o=(a=e.shadows).map((function(e){return e.color||Z.BLACK})),i=a.map((function(e){return e.blurRadius||0}));e._shadowLen=a.length;for(var c=Z._malloc(2*a.length,"HEAPF32"),s=c/4,u=0;u<a.length;u++){var l=a[u].offset||[0,0];Z.HEAPF32[s]=l[0],Z.HEAPF32[s+1]=l[1],s+=2}e._shadowColorsPtr=b(o).he,e._shadowOffsetsPtr=c,e._shadowBlurRadiiPtr=f(i,"HEAPF32")}else e._shadowLen=0,e._shadowColorsPtr=q,e._shadowOffsetsPtr=q,e._shadowBlurRadiiPtr=q;return e.fontFeatures?(o=(a=e.fontFeatures).map((function(e){return e.name})),i=a.map((function(e){return e.value})),e._fontFeatureLen=a.length,e._fontFeatureNamesPtr=n(o),e._fontFeatureValuesPtr=f(i,"HEAPU32")):(e._fontFeatureLen=0,e._fontFeatureNamesPtr=q,e._fontFeatureValuesPtr=q),e};var c={},s=Z._malloc(16),u=Z._malloc(16),l=Z._malloc(16);Z.ParagraphBuilder.Make=function(e,t){return a(e.textStyle),t=Z.ParagraphBuilder._Make(e,t),o(e.textStyle),t},Z.ParagraphBuilder.MakeFromFontProvider=function(e,t){return a(e.textStyle),t=Z.ParagraphBuilder._MakeFromFontProvider(e,t),o(e.textStyle),t},Z.ParagraphBuilder.ShapeText=function(e,t,n){var r,a=0,o=Object(i.a)(t);try{for(o.s();!(r=o.n()).done;)a+=r.value.length}catch(c){o.e(c)}finally{o.f()}if(a!==e.length)throw"Accumulated block lengths must equal text.length";return Z.ParagraphBuilder._ShapeText(e,t,n)},Z.ParagraphBuilder.prototype.pushStyle=function(e){a(e),this._pushStyle(e),o(e)},Z.ParagraphBuilder.prototype.pushPaintStyle=function(e,t,n){a(e),this._pushPaintStyle(e,t,n),o(e)},Z.ParagraphBuilder.prototype.addPlaceholder=function(e,t,n,r,a){n=n||Z.PlaceholderAlignment.Baseline,r=r||Z.TextBaseline.Alphabetic,this._addPlaceholder(e||0,t||0,n,r,a||0)}})),e.MakeManagedAnimation=function(t,n,r,a,o){if(!e._MakeManagedAnimation)throw"Not compiled with MakeManagedAnimation";if(r||(r=""),!n)return e._MakeManagedAnimation(t,0,q,q,q,r,a,o);for(var i=[],c=[],s=[],u=Object.keys(n||{}),l=0;l<u.length;l++){var d=u[l],b=new Uint8Array(n[d]),h=e._malloc(b.byteLength);e.HEAPU8.set(b,h),c.push(h),s.push(b.byteLength),b=E(d)+1,h=e._malloc(b),_(d,H,h,b),i.push(h)}return n=f(i,"HEAPU32"),c=f(c,"HEAPU32"),s=f(s,"HEAPU32"),t=e._MakeManagedAnimation(t,u.length,n,c,s,r,a,o),e._free(n),e._free(c),e._free(s),t},function(e){e.Wd=e.Wd||[],e.Wd.push((function(){e.Animation.prototype.render=function(e,t){g(t,z),this._render(e,z)},e.Animation.prototype.size=function(e){this._size(z);var t=P.toTypedArray();return e?(e[0]=t[0],e[1]=t[1],e):t.slice(0,2)},e.ManagedAnimation&&(e.ManagedAnimation.prototype.render=function(e,t){g(t,z),this._render(e,z)},e.ManagedAnimation.prototype.seek=function(e,t){return this._seek(e,z),e=P.toTypedArray(),t?(t.set(e),t):e.slice()},e.ManagedAnimation.prototype.seekFrame=function(e,t){return this._seekFrame(e,z),e=P.toTypedArray(),t?(t.set(e),t):e.slice()},e.ManagedAnimation.prototype.setColor=function(e,t){return t=j(t),this._setColor(e,t)},e.ManagedAnimation.prototype.size=function(e){this._size(z);var t=P.toTypedArray();return e?(e[0]=t[0],e[1]=t[1],e):t.slice(0,2)})}))}(c),e.MakeParticles=function(t,n){if(!e._MakeParticles)throw"Not compiled with MakeParticles";if(!n)return e._MakeParticles(t,0,q,q,q);for(var r=[],a=[],o=[],i=Object.keys(n||{}),c=0;c<i.length;c++){var s=i[c],u=new Uint8Array(n[s]),l=e._malloc(u.byteLength);e.HEAPU8.set(u,l),a.push(l),o.push(u.byteLength),u=E(s)+1,l=e._malloc(u),_(s,H,l,u),r.push(l)}return n=f(r,"HEAPU32"),a=f(a,"HEAPU32"),o=f(o,"HEAPU32"),t=e._MakeParticles(t,i.length,n,a,o),e._free(n),e._free(a),e._free(o),t},e.Wd=e.Wd||[],e.Wd.push((function(){e.ParticleEffect.prototype.uniforms=function(){var t=this._uniformPtr(),n=this.getUniformFloatCount();return!t||0>=n?new Float32Array:new Float32Array(e.HEAPU8.buffer,t,n)},e.ParticleEffect.prototype.setPosition=function(e){this._setPosition(e[0],e[1])}})),e.Wd=e.Wd||[],e.Wd.push((function(){e.Path.prototype.op=function(e,t){return this._op(e,t)?this:null},e.Path.prototype.simplify=function(){return this._simplify()?this:null}})),e.Wd=e.Wd||[],e.Wd.push((function(){e.Canvas.prototype.drawText=function(t,n,r,a,o){var i=E(t),c=e._malloc(i+1);_(t,H,c,i+1),this._drawSimpleText(c,i,n,r,o,a),e._free(c)},e.Font.prototype.getGlyphBounds=function(t,n,r){var a=f(t,"HEAPU16"),o=e._malloc(16*t.length);return this._getGlyphWidthBounds(a,t.length,q,o,n||null),n=new Float32Array(e.HEAPU8.buffer,o,4*t.length),d(a,t),r?(r.set(n),e._free(o),r):(t=Float32Array.from(n),e._free(o),t)},e.Font.prototype.getGlyphIDs=function(t,n,r){n||(n=t.length);var a=E(t)+1,o=e._malloc(a);return _(t,H,o,a),t=e._malloc(2*n),n=this._getGlyphIDs(o,a-1,n,t),e._free(o),0>n?(e._free(t),null):(o=new Uint16Array(e.HEAPU8.buffer,t,n),r?(r.set(o),e._free(t),r):(r=Uint16Array.from(o),e._free(t),r))},e.Font.prototype.getGlyphWidths=function(t,n,r){var a=f(t,"HEAPU16"),o=e._malloc(4*t.length);return this._getGlyphWidthBounds(a,t.length,o,q,n||null),n=new Float32Array(e.HEAPU8.buffer,o,t.length),d(a,t),r?(r.set(n),e._free(o),r):(t=Float32Array.from(n),e._free(o),t)},e.FontMgr.FromData=function(){if(!arguments.length)return null;var t=arguments;if(1===t.length&&Array.isArray(t[0])&&(t=arguments[0]),!t.length)return null;for(var n=[],r=[],a=0;a<t.length;a++){var o=new Uint8Array(t[a]),i=f(o,"HEAPU8");n.push(i),r.push(o.byteLength)}return n=f(n,"HEAPU32"),r=f(r,"HEAPU32"),t=e.FontMgr._fromData(n,r,t.length),e._free(n),e._free(r),t},e.FontMgr.prototype.MakeTypefaceFromData=function(e){var t=f(e=new Uint8Array(e),"HEAPU8");return(e=this._makeTypefaceFromData(t,e.byteLength))?e:null},e.TextBlob.MakeOnPath=function(t,n,r,a){if(t&&t.length&&n&&n.countPoints()){if(1===n.countPoints())return this.MakeFromText(t,r);a||(a=0);var o=r.getGlyphIDs(t),i=r.getGlyphWidths(o);o=new e.RSXFormBuilder;for(var c=(n=new e.ContourMeasureIter(n,!1,1)).next(),s=new Float32Array(4),u=0;u<t.length&&c;u++){var l=i[u];if((a+=l/2)>c.length()){if(c.delete(),!(c=n.next())){t=t.substring(0,u);break}a=l/2}c.getPosTan(a,s);var d=s[2],f=s[3];o.push(d,f,s[0]-l/2*d,s[1]-l/2*f),a+=l/2}return t=this.MakeFromRSXform(t,o,r),o.delete(),c&&c.delete(),n.delete(),t}},e.TextBlob.MakeFromRSXform=function(t,n,r){var a=E(t)+1,o=e._malloc(a);return _(t,H,o,a),t=n.build?n.build():f(n,"HEAPF32"),r=e.TextBlob._MakeFromRSXform(o,a-1,t,r),e._free(o),r||null},e.TextBlob.MakeFromRSXformGlyphs=function(t,n,r){var a=f(t,"HEAPU16");return n=n.build?n.build():f(n,"HEAPF32"),r=e.TextBlob._MakeFromRSXformGlyphs(a,2*t.length,n,r),d(a,t),r||null},e.TextBlob.MakeFromGlyphs=function(t,n){var r=f(t,"HEAPU16");return n=e.TextBlob._MakeFromGlyphs(r,2*t.length,n),d(r,t),n||null},e.TextBlob.MakeFromText=function(t,n){var r=E(t)+1,a=e._malloc(r);return _(t,H,a,r),t=e.TextBlob._MakeFromText(a,r-1,n),e._free(a),t||null},e.MallocGlyphIDs=function(t){return e.Malloc(Uint16Array,t)}})),e.Wd=e.Wd||[],e.Wd.push((function(){e.MakePicture=function(t){t=new Uint8Array(t);var n=e._malloc(t.byteLength);return e.HEAPU8.set(t,n),(t=e._MakePicture(n,t.byteLength))?t:null}})),e.Wd=e.Wd||[],e.Wd.push((function(){e.RuntimeEffect.Make=function(t,n){return e.RuntimeEffect._Make(t,{onError:n||function(e){console.log("RuntimeEffect error",e)}})},e.RuntimeEffect.prototype.makeShader=function(e,t,n){var r=f(e,"HEAPF32");return n=h(n),this._makeShader(r,4*e.length,!!t,n)},e.RuntimeEffect.prototype.makeShaderWithChildren=function(e,t,n,r){var a=f(e,"HEAPF32");r=h(r);for(var o=[],i=0;i<n.length;i++)o.push(n[i].Rd.Vd);return n=f(o,"HEAPU32"),this._makeShaderWithChildren(a,4*e.length,!!t,n,o.length,r)}})),function(){function n(e){for(var t=0;t<e.length;t++)if(void 0!==e[t]&&!Number.isFinite(e[t]))return!1;return!0}function r(t){var n=e.getColorComponents(t);t=n[0];var r=n[1],a=n[2];return 1===(n=n[3])?(t=t.toString(16).toLowerCase(),r=r.toString(16).toLowerCase(),a=a.toString(16).toLowerCase(),"#"+(t=1===t.length?"0"+t:t)+(r=1===r.length?"0"+r:r)+(a=1===a.length?"0"+a:a)):"rgba("+t+", "+r+", "+a+", "+(n=0===n||1===n?n:n.toFixed(8))+")"}function o(t){return e.parseColorString(t,g)}function i(e){if(!(e=O.exec(e)))return null;var t=parseFloat(e[4]),n=16;switch(e[5]){case"em":case"rem":n=16*t;break;case"pt":n=4*t/3;break;case"px":n=t;break;case"pc":n=16*t;break;case"in":n=96*t;break;case"cm":n=96*t/2.54;break;case"mm":n=96/25.4*t;break;case"q":n=96/25.4/4*t;break;case"%":n=16/75*t}return{style:e[1],variant:e[2],weight:e[3],sizePx:n,family:e[6].trim()}}function c(t){this.Sd=t,this.Ud=new e.Paint,this.Ud.setAntiAlias(!0),this.Ud.setStrokeMiter(10),this.Ud.setStrokeCap(e.StrokeCap.Butt),this.Ud.setStrokeJoin(e.StrokeJoin.Miter),this.Ze="10px monospace",this.ye=new e.Font(null,10),this.ye.setSubpixel(!0),this.ge=this.me=e.BLACK,this.Be=0,this.Re=e.TRANSPARENT,this.De=this.Ce=0,this.Se=this.oe=1,this.Qe=0,this.Ae=[],this.Td=e.BlendMode.SrcOver,this.Ud.setStrokeWidth(this.Se),this.Ud.setBlendMode(this.Td),this.Yd=new e.Path,this.Zd=e.Matrix.identity(),this.wf=[],this.He=[],this.qe=function(){this.Yd.delete(),this.Ud.delete(),this.ye.delete(),this.He.forEach((function(e){e.qe()}))},Object.defineProperty(this,"currentTransform",{enumerable:!0,get:function(){return{a:this.Zd[0],c:this.Zd[1],e:this.Zd[2],b:this.Zd[3],d:this.Zd[4],f:this.Zd[5]}},set:function(e){e.a&&this.setTransform(e.a,e.b,e.c,e.d,e.e,e.f)}}),Object.defineProperty(this,"fillStyle",{enumerable:!0,get:function(){return a(this.ge)?r(this.ge):this.ge},set:function(e){"string"===typeof e?this.ge=o(e):e.ze&&(this.ge=e)}}),Object.defineProperty(this,"font",{enumerable:!0,get:function(){return this.Ze},set:function(e){var t=i(e),n=t.family;t.typeface=y[n]?y[n][(t.style||"normal")+"|"+(t.variant||"normal")+"|"+(t.weight||"normal")]||y[n]["*"]:null,t&&(this.ye.setSize(t.sizePx),this.ye.setTypeface(t.typeface),this.Ze=e)}}),Object.defineProperty(this,"globalAlpha",{enumerable:!0,get:function(){return this.oe},set:function(e){!isFinite(e)||0>e||1<e||(this.oe=e)}}),Object.defineProperty(this,"globalCompositeOperation",{enumerable:!0,get:function(){switch(this.Td){case e.BlendMode.SrcOver:return"source-over";case e.BlendMode.DstOver:return"destination-over";case e.BlendMode.Src:return"copy";case e.BlendMode.Dst:return"destination";case e.BlendMode.Clear:return"clear";case e.BlendMode.SrcIn:return"source-in";case e.BlendMode.DstIn:return"destination-in";case e.BlendMode.SrcOut:return"source-out";case e.BlendMode.DstOut:return"destination-out";case e.BlendMode.SrcATop:return"source-atop";case e.BlendMode.DstATop:return"destination-atop";case e.BlendMode.Xor:return"xor";case e.BlendMode.Plus:return"lighter";case e.BlendMode.Multiply:return"multiply";case e.BlendMode.Screen:return"screen";case e.BlendMode.Overlay:return"overlay";case e.BlendMode.Darken:return"darken";case e.BlendMode.Lighten:return"lighten";case e.BlendMode.ColorDodge:return"color-dodge";case e.BlendMode.ColorBurn:return"color-burn";case e.BlendMode.HardLight:return"hard-light";case e.BlendMode.SoftLight:return"soft-light";case e.BlendMode.Difference:return"difference";case e.BlendMode.Exclusion:return"exclusion";case e.BlendMode.Hue:return"hue";case e.BlendMode.Saturation:return"saturation";case e.BlendMode.Color:return"color";case e.BlendMode.Luminosity:return"luminosity"}},set:function(t){switch(t){case"source-over":this.Td=e.BlendMode.SrcOver;break;case"destination-over":this.Td=e.BlendMode.DstOver;break;case"copy":this.Td=e.BlendMode.Src;break;case"destination":this.Td=e.BlendMode.Dst;break;case"clear":this.Td=e.BlendMode.Clear;break;case"source-in":this.Td=e.BlendMode.SrcIn;break;case"destination-in":this.Td=e.BlendMode.DstIn;break;case"source-out":this.Td=e.BlendMode.SrcOut;break;case"destination-out":this.Td=e.BlendMode.DstOut;break;case"source-atop":this.Td=e.BlendMode.SrcATop;break;case"destination-atop":this.Td=e.BlendMode.DstATop;break;case"xor":this.Td=e.BlendMode.Xor;break;case"lighter":case"plus-lighter":this.Td=e.BlendMode.Plus;break;case"plus-darker":throw"plus-darker is not supported";case"multiply":this.Td=e.BlendMode.Multiply;break;case"screen":this.Td=e.BlendMode.Screen;break;case"overlay":this.Td=e.BlendMode.Overlay;break;case"darken":this.Td=e.BlendMode.Darken;break;case"lighten":this.Td=e.BlendMode.Lighten;break;case"color-dodge":this.Td=e.BlendMode.ColorDodge;break;case"color-burn":this.Td=e.BlendMode.ColorBurn;break;case"hard-light":this.Td=e.BlendMode.HardLight;break;case"soft-light":this.Td=e.BlendMode.SoftLight;break;case"difference":this.Td=e.BlendMode.Difference;break;case"exclusion":this.Td=e.BlendMode.Exclusion;break;case"hue":this.Td=e.BlendMode.Hue;break;case"saturation":this.Td=e.BlendMode.Saturation;break;case"color":this.Td=e.BlendMode.Color;break;case"luminosity":this.Td=e.BlendMode.Luminosity;break;default:return}this.Ud.setBlendMode(this.Td)}}),Object.defineProperty(this,"imageSmoothingEnabled",{enumerable:!0,get:function(){return!0},set:function(){}}),Object.defineProperty(this,"imageSmoothingQuality",{enumerable:!0,get:function(){return"high"},set:function(){}}),Object.defineProperty(this,"lineCap",{enumerable:!0,get:function(){switch(this.Ud.getStrokeCap()){case e.StrokeCap.Butt:return"butt";case e.StrokeCap.Round:return"round";case e.StrokeCap.Square:return"square"}},set:function(t){switch(t){case"butt":this.Ud.setStrokeCap(e.StrokeCap.Butt);break;case"round":this.Ud.setStrokeCap(e.StrokeCap.Round);break;case"square":this.Ud.setStrokeCap(e.StrokeCap.Square)}}}),Object.defineProperty(this,"lineDashOffset",{enumerable:!0,get:function(){return this.Qe},set:function(e){isFinite(e)&&(this.Qe=e)}}),Object.defineProperty(this,"lineJoin",{enumerable:!0,get:function(){switch(this.Ud.getStrokeJoin()){case e.StrokeJoin.Miter:return"miter";case e.StrokeJoin.Round:return"round";case e.StrokeJoin.Bevel:return"bevel"}},set:function(t){switch(t){case"miter":this.Ud.setStrokeJoin(e.StrokeJoin.Miter);break;case"round":this.Ud.setStrokeJoin(e.StrokeJoin.Round);break;case"bevel":this.Ud.setStrokeJoin(e.StrokeJoin.Bevel)}}}),Object.defineProperty(this,"lineWidth",{enumerable:!0,get:function(){return this.Ud.getStrokeWidth()},set:function(e){0>=e||!e||(this.Se=e,this.Ud.setStrokeWidth(e))}}),Object.defineProperty(this,"miterLimit",{enumerable:!0,get:function(){return this.Ud.getStrokeMiter()},set:function(e){0>=e||!e||this.Ud.setStrokeMiter(e)}}),Object.defineProperty(this,"shadowBlur",{enumerable:!0,get:function(){return this.Be},set:function(e){0>e||!isFinite(e)||(this.Be=e)}}),Object.defineProperty(this,"shadowColor",{enumerable:!0,get:function(){return r(this.Re)},set:function(e){this.Re=o(e)}}),Object.defineProperty(this,"shadowOffsetX",{enumerable:!0,get:function(){return this.Ce},set:function(e){isFinite(e)&&(this.Ce=e)}}),Object.defineProperty(this,"shadowOffsetY",{enumerable:!0,get:function(){return this.De},set:function(e){isFinite(e)&&(this.De=e)}}),Object.defineProperty(this,"strokeStyle",{enumerable:!0,get:function(){return r(this.me)},set:function(e){"string"===typeof e?this.me=o(e):e.ze&&(this.me=e)}}),this.arc=function(e,t,n,r,a,o){h(this.Yd,e,t,n,n,0,r,a,o)},this.arcTo=function(e,t,n,r,a){d(this.Yd,e,t,n,r,a)},this.beginPath=function(){this.Yd.delete(),this.Yd=new e.Path},this.bezierCurveTo=function(e,t,r,a,o,i){var c=this.Yd;n([e,t,r,a,o,i])&&(c.isEmpty()&&c.moveTo(e,t),c.cubicTo(e,t,r,a,o,i))},this.clearRect=function(t,n,r,a){this.Ud.setStyle(e.PaintStyle.Fill),this.Ud.setBlendMode(e.BlendMode.Clear),this.Sd.drawRect(e.XYWHRect(t,n,r,a),this.Ud),this.Ud.setBlendMode(this.Td)},this.clip=function(t,n){"string"===typeof t?(n=t,t=this.Yd):t&&t.kf&&(t=t.ae),t||(t=this.Yd),t=t.copy(),n&&"evenodd"===n.toLowerCase()?t.setFillType(e.FillType.EvenOdd):t.setFillType(e.FillType.Winding),this.Sd.clipPath(t,e.ClipOp.Intersect,!0),t.delete()},this.closePath=function(){f(this.Yd)},this.createImageData=function(){if(1===arguments.length){var e=arguments[0];return new u(new Uint8ClampedArray(4*e.width*e.height),e.width,e.height)}if(2===arguments.length){e=arguments[0];var t=arguments[1];return new u(new Uint8ClampedArray(4*e*t),e,t)}throw"createImageData expects 1 or 2 arguments, got "+arguments.length},this.createLinearGradient=function(e,t,r,a){if(n(arguments)){var o=new l(e,t,r,a);return this.He.push(o),o}},this.createPattern=function(e,t){return e=new m(e,t),this.He.push(e),e},this.createRadialGradient=function(e,t,r,a,o,i){if(n(arguments)){var c=new v(e,t,r,a,o,i);return this.He.push(c),c}},this.drawImage=function(t){var n=this.Ye();if(3===arguments.length||5===arguments.length)var r=e.XYWHRect(arguments[1],arguments[2],arguments[3]||t.width(),arguments[4]||t.height()),a=e.XYWHRect(0,0,t.width(),t.height());else{if(9!==arguments.length)throw"invalid number of args for drawImage, need 3, 5, or 9; got "+arguments.length;r=e.XYWHRect(arguments[5],arguments[6],arguments[7],arguments[8]),a=e.XYWHRect(arguments[1],arguments[2],arguments[3],arguments[4])}this.Sd.drawImageRect(t,a,r,n,!1),n.dispose()},this.ellipse=function(e,t,n,r,a,o,i,c){h(this.Yd,e,t,n,r,a,o,i,c)},this.Ye=function(){var t=this.Ud.copy();if(t.setStyle(e.PaintStyle.Fill),a(this.ge)){var n=e.multiplyByAlpha(this.ge,this.oe);t.setColor(n)}else n=this.ge.ze(this.Zd),t.setColor(e.Color(0,0,0,this.oe)),t.setShader(n);return t.dispose=function(){this.delete()},t},this.fill=function(t,n){if("string"===typeof t?(n=t,t=this.Yd):t&&t.kf&&(t=t.ae),"evenodd"===n)this.Yd.setFillType(e.FillType.EvenOdd);else{if("nonzero"!==n&&n)throw"invalid fill rule";this.Yd.setFillType(e.FillType.Winding)}t||(t=this.Yd),n=this.Ye();var r=this.Ee(n);r&&(this.Sd.save(),this.we(),this.Sd.drawPath(t,r),this.Sd.restore(),r.dispose()),this.Sd.drawPath(t,n),n.dispose()},this.fillRect=function(t,n,r,a){var o=this.Ye(),i=this.Ee(o);i&&(this.Sd.save(),this.we(),this.Sd.drawRect(e.XYWHRect(t,n,r,a),i),this.Sd.restore(),i.dispose()),this.Sd.drawRect(e.XYWHRect(t,n,r,a),o),o.dispose()},this.fillText=function(t,n,r){var a=this.Ye();t=e.TextBlob.MakeFromText(t,this.ye);var o=this.Ee(a);o&&(this.Sd.save(),this.we(),this.Sd.drawTextBlob(t,n,r,o),this.Sd.restore(),o.dispose()),this.Sd.drawTextBlob(t,n,r,a),t.delete(),a.dispose()},this.getImageData=function(t,n,r,a){return(t=this.Sd.readPixels(t,n,{width:r,height:a,colorType:e.ColorType.RGBA_8888,alphaType:e.AlphaType.Unpremul,colorSpace:e.ColorSpace.SRGB}))?new u(new Uint8ClampedArray(t.buffer),r,a):null},this.getLineDash=function(){return this.Ae.slice()},this.xf=function(t){var n=e.Matrix.invert(this.Zd);return e.Matrix.mapPoints(n,t),t},this.isPointInPath=function(t,n,r){var a=arguments;if(3===a.length)var o=this.Yd;else{if(4!==a.length)throw"invalid arg count, need 3 or 4, got "+a.length;o=a[0],t=a[1],n=a[2],r=a[3]}return!(!isFinite(t)||!isFinite(n))&&(("nonzero"===(r=r||"nonzero")||"evenodd"===r)&&(t=(a=this.xf([t,n]))[0],n=a[1],o.setFillType("nonzero"===r?e.FillType.Winding:e.FillType.EvenOdd),o.contains(t,n)))},this.isPointInStroke=function(t,n){var r=arguments;if(2===r.length)var a=this.Yd;else{if(3!==r.length)throw"invalid arg count, need 2 or 3, got "+r.length;a=r[0],t=r[1],n=r[2]}return!(!isFinite(t)||!isFinite(n))&&(t=(r=this.xf([t,n]))[0],n=r[1],(a=a.copy()).setFillType(e.FillType.Winding),a.stroke({width:this.lineWidth,miter_limit:this.miterLimit,cap:this.Ud.getStrokeCap(),join:this.Ud.getStrokeJoin(),precision:.3}),r=a.contains(t,n),a.delete(),r)},this.lineTo=function(e,t){p(this.Yd,e,t)},this.measureText=function(){throw Error("Clients wishing to properly measure text should use the Paragraph API")},this.moveTo=function(e,t){var r=this.Yd;n([e,t])&&r.moveTo(e,t)},this.putImageData=function(t,r,a,o,i,c,s){if(n([r,a,o,i,c,s]))if(void 0===o)this.Sd.writePixels(t.data,t.width,t.height,r,a);else if(o=o||0,i=i||0,c=c||t.width,s=s||t.height,0>c&&(o+=c,c=Math.abs(c)),0>s&&(i+=s,s=Math.abs(s)),0>o&&(c+=o,o=0),0>i&&(s+=i,i=0),!(0>=c||0>=s)){t=e.MakeImage({width:t.width,height:t.height,alphaType:e.AlphaType.Unpremul,colorType:e.ColorType.RGBA_8888,colorSpace:e.ColorSpace.SRGB},t.data,4*t.width);var u=e.XYWHRect(o,i,c,s);r=e.XYWHRect(r+o,a+i,c,s),a=e.Matrix.invert(this.Zd),this.Sd.save(),this.Sd.concat(a),this.Sd.drawImageRect(t,u,r,null,!1),this.Sd.restore(),t.delete()}},this.quadraticCurveTo=function(e,t,r,a){var o=this.Yd;n([e,t,r,a])&&(o.isEmpty()&&o.moveTo(e,t),o.quadTo(e,t,r,a))},this.rect=function(t,r,a,o){var i=this.Yd;n(t=e.XYWHRect(t,r,a,o))&&i.addRect(t)},this.resetTransform=function(){this.Yd.transform(this.Zd);var t=e.Matrix.invert(this.Zd);this.Sd.concat(t),this.Zd=this.Sd.getTotalMatrix()},this.restore=function(){var t=this.wf.pop();if(t){var n=e.Matrix.multiply(this.Zd,e.Matrix.invert(t.Nf));this.Yd.transform(n),this.Ud.delete(),this.Ud=t.kg,this.Ae=t.gg,this.Se=t.Cg,this.me=t.Bg,this.ge=t.fs,this.Ce=t.zg,this.De=t.Ag,this.Be=t.og,this.Re=t.yg,this.oe=t.Uf,this.Td=t.Vf,this.Qe=t.hg,this.Ze=t.Tf,this.Sd.restore(),this.Zd=this.Sd.getTotalMatrix()}},this.rotate=function(t){if(isFinite(t)){var n=e.Matrix.rotated(-t);this.Yd.transform(n),this.Sd.rotate(t/Math.PI*180,0,0),this.Zd=this.Sd.getTotalMatrix()}},this.save=function(){if(this.ge.xe){var e=this.ge.xe();this.He.push(e)}else e=this.ge;if(this.me.xe){var t=this.me.xe();this.He.push(t)}else t=this.me;this.wf.push({Nf:this.Zd.slice(),gg:this.Ae.slice(),Cg:this.Se,Bg:t,fs:e,zg:this.Ce,Ag:this.De,og:this.Be,yg:this.Re,Uf:this.oe,hg:this.Qe,Vf:this.Td,kg:this.Ud.copy(),Tf:this.Ze}),this.Sd.save()},this.scale=function(t,r){if(n(arguments)){var a=e.Matrix.scaled(1/t,1/r);this.Yd.transform(a),this.Sd.scale(t,r),this.Zd=this.Sd.getTotalMatrix()}},this.setLineDash=function(e){for(var t=0;t<e.length;t++)if(!isFinite(e[t])||0>e[t])return;1===e.length%2&&Array.prototype.push.apply(e,e),this.Ae=e},this.setTransform=function(e,t,r,a,o,i){n(arguments)&&(this.resetTransform(),this.transform(e,t,r,a,o,i))},this.we=function(){var t=e.Matrix.invert(this.Zd);this.Sd.concat(t),this.Sd.concat(e.Matrix.translated(this.Ce,this.De)),this.Sd.concat(this.Zd)},this.Ee=function(t){var n=e.multiplyByAlpha(this.Re,this.oe);if(!e.getColorComponents(n)[3]||!(this.Be||this.De||this.Ce))return null;(t=t.copy()).setColor(n);var r=e.MaskFilter.MakeBlur(e.BlurStyle.Normal,this.Be/2,!1);return t.setMaskFilter(r),t.dispose=function(){r.delete(),this.delete()},t},this.mf=function(){var t=this.Ud.copy();if(t.setStyle(e.PaintStyle.Stroke),a(this.me)){var n=e.multiplyByAlpha(this.me,this.oe);t.setColor(n)}else n=this.me.ze(this.Zd),t.setColor(e.Color(0,0,0,this.oe)),t.setShader(n);if(t.setStrokeWidth(this.Se),this.Ae.length){var r=e.PathEffect.MakeDash(this.Ae,this.Qe);t.setPathEffect(r)}return t.dispose=function(){r&&r.delete(),this.delete()},t},this.stroke=function(e){e=e?e.ae:this.Yd;var t=this.mf(),n=this.Ee(t);n&&(this.Sd.save(),this.we(),this.Sd.drawPath(e,n),this.Sd.restore(),n.dispose()),this.Sd.drawPath(e,t),t.dispose()},this.strokeRect=function(t,n,r,a){var o=this.mf(),i=this.Ee(o);i&&(this.Sd.save(),this.we(),this.Sd.drawRect(e.XYWHRect(t,n,r,a),i),this.Sd.restore(),i.dispose()),this.Sd.drawRect(e.XYWHRect(t,n,r,a),o),o.dispose()},this.strokeText=function(t,n,r){var a=this.mf();t=e.TextBlob.MakeFromText(t,this.ye);var o=this.Ee(a);o&&(this.Sd.save(),this.we(),this.Sd.drawTextBlob(t,n,r,o),this.Sd.restore(),o.dispose()),this.Sd.drawTextBlob(t,n,r,a),t.delete(),a.dispose()},this.translate=function(t,r){if(n(arguments)){var a=e.Matrix.translated(-t,-r);this.Yd.transform(a),this.Sd.translate(t,r),this.Zd=this.Sd.getTotalMatrix()}},this.transform=function(t,n,r,a,o,i){t=[t,r,o,n,a,i,0,0,1],n=e.Matrix.invert(t),this.Yd.transform(n),this.Sd.concat(t),this.Zd=this.Sd.getTotalMatrix()},this.addHitRegion=function(){},this.clearHitRegions=function(){},this.drawFocusIfNeeded=function(){},this.removeHitRegion=function(){},this.scrollPathIntoView=function(){},Object.defineProperty(this,"canvas",{value:null,writable:!1})}function s(n){this.nf=n,this.se=new c(n.getCanvas()),this.$e=[],this.Gf=e.FontMgr.RefDefault(),this.decodeImage=function(t){if(!(t=e.MakeImageFromEncoded(t)))throw"Invalid input";return this.$e.push(t),t},this.loadFont=function(e,t){if(!(e=this.Gf.MakeTypefaceFromData(e)))return null;this.$e.push(e);var n=(t.style||"normal")+"|"+(t.variant||"normal")+"|"+(t.weight||"normal");t=t.family,y[t]||(y[t]={"*":e}),y[t][n]=e},this.makePath2D=function(e){return e=new j(e),this.$e.push(e.ae),e},this.getContext=function(e){return"2d"===e?this.se:null},this.toDataURL=function(n,r){this.nf.flush();var a=this.nf.makeImageSnapshot();if(a){n=n||"image/png";var o=e.ImageFormat.PNG;if("image/jpeg"===n&&(o=e.ImageFormat.JPEG),r=a.encodeToBytes(o,r||.92)){if(a.delete(),n="data:"+n+";base64,","undefined"!==typeof t)r=t.from(r).toString("base64");else{a=0,o=r.length;for(var i,c="";a<o;)i=r.slice(a,Math.min(a+32768,o)),c+=String.fromCharCode.apply(null,i),a+=32768;r=btoa(c)}return n+r}}},this.dispose=function(){this.se.qe(),this.$e.forEach((function(e){e.delete()})),this.nf.dispose()}}function u(e,t,n){if(!t||0===n)throw"invalid dimensions, width and height must be non-zero";if(e.length%4)throw"arr must be a multiple of 4";n=n||e.length/(4*t),Object.defineProperty(this,"data",{value:e,writable:!1}),Object.defineProperty(this,"height",{value:n,writable:!1}),Object.defineProperty(this,"width",{value:t,writable:!1})}function l(t,n,r,a){this.ce=null,this.je=[],this.ee=[],this.addColorStop=function(e,t){if(0>e||1<e||!isFinite(e))throw"offset must be between 0 and 1 inclusively";t=o(t);var n=this.ee.indexOf(e);if(-1!==n)this.je[n]=t;else{for(n=0;n<this.ee.length&&!(this.ee[n]>e);n++);this.ee.splice(n,0,e),this.je.splice(n,0,t)}},this.xe=function(){var e=new l(t,n,r,a);return e.je=this.je.slice(),e.ee=this.ee.slice(),e},this.qe=function(){this.ce&&(this.ce.delete(),this.ce=null)},this.ze=function(o){var i=[t,n,r,a];e.Matrix.mapPoints(o,i),o=i[0];var c=i[1],s=i[2];return i=i[3],this.qe(),this.ce=e.Shader.MakeLinearGradient([o,c],[s,i],this.je,this.ee,e.TileMode.Clamp)}}function d(e,t,r,a,o,i){if(n([t,r,a,o,i])){if(0>i)throw"radii cannot be negative";e.isEmpty()&&e.moveTo(t,r),e.arcToTangent(t,r,a,o,i)}}function f(e){if(!e.isEmpty()){var t=e.getBounds();(t[3]-t[1]||t[2]-t[0])&&e.close()}}function b(t,n,r,a,o,i,c){c=(c-i)/Math.PI*180,i=i/Math.PI*180,n=e.LTRBRect(n-a,r-o,n+a,r+o),1e-5>Math.abs(Math.abs(c)-360)?(r=c/2,t.arcToOval(n,i,r,!1),t.arcToOval(n,i+r,r,!1)):t.arcToOval(n,i,c,!1)}function h(t,r,a,o,i,c,s,u,l){if(n([r,a,o,i,c,s,u])){if(0>o||0>i)throw"radii cannot be negative";var d=2*Math.PI,f=s%d;0>f&&(f+=d);var h=f-s;s=f,u+=h,!l&&u-s>=d?u=s+d:l&&s-u>=d?u=s-d:!l&&s>u?u=s+(d-(s-u)%d):l&&s<u&&(u=s-(d-(u-s)%d)),c?(l=e.Matrix.rotated(c,r,a),c=e.Matrix.rotated(-c,r,a),t.transform(c),b(t,r,a,o,i,s,u),t.transform(l)):b(t,r,a,o,i,s,u)}}function p(e,t,r){n([t,r])&&(e.isEmpty()&&e.moveTo(t,r),e.lineTo(t,r))}function j(t){this.ae=null,this.ae="string"===typeof t?e.Path.MakeFromSVGString(t):t&&t.kf?t.ae.copy():new e.Path,this.kf=function(){return this.ae},this.addPath=function(e,t){t||(t={a:1,c:0,e:0,b:0,d:1,f:0}),this.ae.addPath(e.ae,[t.a,t.c,t.e,t.b,t.d,t.f])},this.arc=function(e,t,n,r,a,o){h(this.ae,e,t,n,n,0,r,a,o)},this.arcTo=function(e,t,n,r,a){d(this.ae,e,t,n,r,a)},this.bezierCurveTo=function(e,t,r,a,o,i){var c=this.ae;n([e,t,r,a,o,i])&&(c.isEmpty()&&c.moveTo(e,t),c.cubicTo(e,t,r,a,o,i))},this.closePath=function(){f(this.ae)},this.ellipse=function(e,t,n,r,a,o,i,c){h(this.ae,e,t,n,r,a,o,i,c)},this.lineTo=function(e,t){p(this.ae,e,t)},this.moveTo=function(e,t){var r=this.ae;n([e,t])&&r.moveTo(e,t)},this.quadraticCurveTo=function(e,t,r,a){var o=this.ae;n([e,t,r,a])&&(o.isEmpty()&&o.moveTo(e,t),o.quadTo(e,t,r,a))},this.rect=function(t,r,a,o){var i=this.ae;n(t=e.XYWHRect(t,r,a,o))&&i.addRect(t)}}function m(t,r){switch(this.ce=null,this.If=t,this._transform=e.Matrix.identity(),""===r&&(r="repeat"),r){case"repeat-x":this.Fe=e.TileMode.Repeat,this.Ge=e.TileMode.Decal;break;case"repeat-y":this.Fe=e.TileMode.Decal,this.Ge=e.TileMode.Repeat;break;case"repeat":this.Ge=this.Fe=e.TileMode.Repeat;break;case"no-repeat":this.Ge=this.Fe=e.TileMode.Decal;break;default:throw"invalid repetition mode "+r}this.setTransform=function(e){n(e=[e.a,e.c,e.e,e.b,e.d,e.f,0,0,1])&&(this._transform=e)},this.xe=function(){var e=new m;return e.Fe=this.Fe,e.Ge=this.Ge,e},this.qe=function(){this.ce&&(this.ce.delete(),this.ce=null)},this.ze=function(){return this.qe(),this.ce=this.If.makeShaderCubic(this.Fe,this.Ge,1/3,1/3,this._transform)}}function v(t,n,r,a,i,c){this.ce=null,this.je=[],this.ee=[],this.addColorStop=function(e,t){if(0>e||1<e||!isFinite(e))throw"offset must be between 0 and 1 inclusively";t=o(t);var n=this.ee.indexOf(e);if(-1!==n)this.je[n]=t;else{for(n=0;n<this.ee.length&&!(this.ee[n]>e);n++);this.ee.splice(n,0,e),this.je.splice(n,0,t)}},this.xe=function(){var e=new v(t,n,r,a,i,c);return e.je=this.je.slice(),e.ee=this.ee.slice(),e},this.qe=function(){this.ce&&(this.ce.delete(),this.ce=null)},this.ze=function(o){var s=[t,n,a,i];e.Matrix.mapPoints(o,s);var u=s[0],l=s[1],d=s[2];s=s[3];var f=(Math.abs(o[0])+Math.abs(o[4]))/2;return o=r*f,f*=c,this.qe(),this.ce=e.Shader.MakeTwoPointConicalGradient([u,l],o,[d,s],f,this.je,this.ee,e.TileMode.Clamp)}}e._testing={};var g={aliceblue:Float32Array.of(.941,.973,1,1),antiquewhite:Float32Array.of(.98,.922,.843,1),aqua:Float32Array.of(0,1,1,1),aquamarine:Float32Array.of(.498,1,.831,1),azure:Float32Array.of(.941,1,1,1),beige:Float32Array.of(.961,.961,.863,1),bisque:Float32Array.of(1,.894,.769,1),black:Float32Array.of(0,0,0,1),blanchedalmond:Float32Array.of(1,.922,.804,1),blue:Float32Array.of(0,0,1,1),blueviolet:Float32Array.of(.541,.169,.886,1),brown:Float32Array.of(.647,.165,.165,1),burlywood:Float32Array.of(.871,.722,.529,1),cadetblue:Float32Array.of(.373,.62,.627,1),chartreuse:Float32Array.of(.498,1,0,1),chocolate:Float32Array.of(.824,.412,.118,1),coral:Float32Array.of(1,.498,.314,1),cornflowerblue:Float32Array.of(.392,.584,.929,1),cornsilk:Float32Array.of(1,.973,.863,1),crimson:Float32Array.of(.863,.078,.235,1),cyan:Float32Array.of(0,1,1,1),darkblue:Float32Array.of(0,0,.545,1),darkcyan:Float32Array.of(0,.545,.545,1),darkgoldenrod:Float32Array.of(.722,.525,.043,1),darkgray:Float32Array.of(.663,.663,.663,1),darkgreen:Float32Array.of(0,.392,0,1),darkgrey:Float32Array.of(.663,.663,.663,1),darkkhaki:Float32Array.of(.741,.718,.42,1),darkmagenta:Float32Array.of(.545,0,.545,1),darkolivegreen:Float32Array.of(.333,.42,.184,1),darkorange:Float32Array.of(1,.549,0,1),darkorchid:Float32Array.of(.6,.196,.8,1),darkred:Float32Array.of(.545,0,0,1),darksalmon:Float32Array.of(.914,.588,.478,1),darkseagreen:Float32Array.of(.561,.737,.561,1),darkslateblue:Float32Array.of(.282,.239,.545,1),darkslategray:Float32Array.of(.184,.31,.31,1),darkslategrey:Float32Array.of(.184,.31,.31,1),darkturquoise:Float32Array.of(0,.808,.82,1),darkviolet:Float32Array.of(.58,0,.827,1),deeppink:Float32Array.of(1,.078,.576,1),deepskyblue:Float32Array.of(0,.749,1,1),dimgray:Float32Array.of(.412,.412,.412,1),dimgrey:Float32Array.of(.412,.412,.412,1),dodgerblue:Float32Array.of(.118,.565,1,1),firebrick:Float32Array.of(.698,.133,.133,1),floralwhite:Float32Array.of(1,.98,.941,1),forestgreen:Float32Array.of(.133,.545,.133,1),fuchsia:Float32Array.of(1,0,1,1),gainsboro:Float32Array.of(.863,.863,.863,1),ghostwhite:Float32Array.of(.973,.973,1,1),gold:Float32Array.of(1,.843,0,1),goldenrod:Float32Array.of(.855,.647,.125,1),gray:Float32Array.of(.502,.502,.502,1),green:Float32Array.of(0,.502,0,1),greenyellow:Float32Array.of(.678,1,.184,1),grey:Float32Array.of(.502,.502,.502,1),honeydew:Float32Array.of(.941,1,.941,1),hotpink:Float32Array.of(1,.412,.706,1),indianred:Float32Array.of(.804,.361,.361,1),indigo:Float32Array.of(.294,0,.51,1),ivory:Float32Array.of(1,1,.941,1),khaki:Float32Array.of(.941,.902,.549,1),lavender:Float32Array.of(.902,.902,.98,1),lavenderblush:Float32Array.of(1,.941,.961,1),lawngreen:Float32Array.of(.486,.988,0,1),lemonchiffon:Float32Array.of(1,.98,.804,1),lightblue:Float32Array.of(.678,.847,.902,1),lightcoral:Float32Array.of(.941,.502,.502,1),lightcyan:Float32Array.of(.878,1,1,1),lightgoldenrodyellow:Float32Array.of(.98,.98,.824,1),lightgray:Float32Array.of(.827,.827,.827,1),lightgreen:Float32Array.of(.565,.933,.565,1),lightgrey:Float32Array.of(.827,.827,.827,1),lightpink:Float32Array.of(1,.714,.757,1),lightsalmon:Float32Array.of(1,.627,.478,1),lightseagreen:Float32Array.of(.125,.698,.667,1),lightskyblue:Float32Array.of(.529,.808,.98,1),lightslategray:Float32Array.of(.467,.533,.6,1),lightslategrey:Float32Array.of(.467,.533,.6,1),lightsteelblue:Float32Array.of(.69,.769,.871,1),lightyellow:Float32Array.of(1,1,.878,1),lime:Float32Array.of(0,1,0,1),limegreen:Float32Array.of(.196,.804,.196,1),linen:Float32Array.of(.98,.941,.902,1),magenta:Float32Array.of(1,0,1,1),maroon:Float32Array.of(.502,0,0,1),mediumaquamarine:Float32Array.of(.4,.804,.667,1),mediumblue:Float32Array.of(0,0,.804,1),mediumorchid:Float32Array.of(.729,.333,.827,1),mediumpurple:Float32Array.of(.576,.439,.859,1),mediumseagreen:Float32Array.of(.235,.702,.443,1),mediumslateblue:Float32Array.of(.482,.408,.933,1),mediumspringgreen:Float32Array.of(0,.98,.604,1),mediumturquoise:Float32Array.of(.282,.82,.8,1),mediumvioletred:Float32Array.of(.78,.082,.522,1),midnightblue:Float32Array.of(.098,.098,.439,1),mintcream:Float32Array.of(.961,1,.98,1),mistyrose:Float32Array.of(1,.894,.882,1),moccasin:Float32Array.of(1,.894,.71,1),navajowhite:Float32Array.of(1,.871,.678,1),navy:Float32Array.of(0,0,.502,1),oldlace:Float32Array.of(.992,.961,.902,1),olive:Float32Array.of(.502,.502,0,1),olivedrab:Float32Array.of(.42,.557,.137,1),orange:Float32Array.of(1,.647,0,1),orangered:Float32Array.of(1,.271,0,1),orchid:Float32Array.of(.855,.439,.839,1),palegoldenrod:Float32Array.of(.933,.91,.667,1),palegreen:Float32Array.of(.596,.984,.596,1),paleturquoise:Float32Array.of(.686,.933,.933,1),palevioletred:Float32Array.of(.859,.439,.576,1),papayawhip:Float32Array.of(1,.937,.835,1),peachpuff:Float32Array.of(1,.855,.725,1),peru:Float32Array.of(.804,.522,.247,1),pink:Float32Array.of(1,.753,.796,1),plum:Float32Array.of(.867,.627,.867,1),powderblue:Float32Array.of(.69,.878,.902,1),purple:Float32Array.of(.502,0,.502,1),rebeccapurple:Float32Array.of(.4,.2,.6,1),red:Float32Array.of(1,0,0,1),rosybrown:Float32Array.of(.737,.561,.561,1),royalblue:Float32Array.of(.255,.412,.882,1),saddlebrown:Float32Array.of(.545,.271,.075,1),salmon:Float32Array.of(.98,.502,.447,1),sandybrown:Float32Array.of(.957,.643,.376,1),seagreen:Float32Array.of(.18,.545,.341,1),seashell:Float32Array.of(1,.961,.933,1),sienna:Float32Array.of(.627,.322,.176,1),silver:Float32Array.of(.753,.753,.753,1),skyblue:Float32Array.of(.529,.808,.922,1),slateblue:Float32Array.of(.416,.353,.804,1),slategray:Float32Array.of(.439,.502,.565,1),slategrey:Float32Array.of(.439,.502,.565,1),snow:Float32Array.of(1,.98,.98,1),springgreen:Float32Array.of(0,1,.498,1),steelblue:Float32Array.of(.275,.51,.706,1),tan:Float32Array.of(.824,.706,.549,1),teal:Float32Array.of(0,.502,.502,1),thistle:Float32Array.of(.847,.749,.847,1),tomato:Float32Array.of(1,.388,.278,1),transparent:Float32Array.of(0,0,0,0),turquoise:Float32Array.of(.251,.878,.816,1),violet:Float32Array.of(.933,.51,.933,1),wheat:Float32Array.of(.961,.871,.702,1),white:Float32Array.of(1,1,1,1),whitesmoke:Float32Array.of(.961,.961,.961,1),yellow:Float32Array.of(1,1,0,1),yellowgreen:Float32Array.of(.604,.804,.196,1)};e._testing.parseColor=o,e._testing.colorToString=r;var O=/(italic|oblique|normal|)\s*(small-caps|normal|)\s*(bold|bolder|lighter|[1-9]00|normal|)\s*([\d\.]+)(px|pt|pc|in|cm|mm|%|em|ex|ch|rem|q)(.+)/,y={"Noto Mono":{"*":null},monospace:{"*":null}};e._testing.parseFontString=i,e.MakeCanvas=function(t,n){return(t=e.MakeSurface(t,n))?new s(t):null},e.ImageData=function(){if(2===arguments.length){var e=arguments[0],t=arguments[1];return new u(new Uint8ClampedArray(4*e*t),e,t)}if(3===arguments.length){var n=arguments[0];if(n.prototype.constructor!==Uint8ClampedArray)throw"bytes must be given as a Uint8ClampedArray";if(n%4)throw"bytes must be given in a multiple of 4";if(n%(e=arguments[1]))throw"bytes must divide evenly by width";if((t=arguments[2])&&t!==n/(4*e))throw"invalid height given";return new u(n,e,n/(4*e))}throw"invalid number of arguments - takes 2 or 3, saw "+arguments.length}}()}(c);var d,f={};for(d in c)c.hasOwnProperty(d)&&(f[d]=c[d]);var b="./this.program";function h(e,t){throw t}var p,j,m,v;p="object"===typeof window,j="function"===typeof importScripts,m="object"===typeof r&&"object"===typeof r.versions&&"string"===typeof r.versions.node,v=!p&&!m&&!j;var g,O,y,x,S,C="";m?(C=j?n(175).dirname(C)+"/":a+"/",g=function(e,t){return x||(x=n(248)),S||(S=n(175)),e=S.normalize(e),x.readFileSync(e,t?null:"utf8")},y=function(e){return(e=g(e,!0)).buffer||(e=new Uint8Array(e)),F(e.buffer),e},1<r.argv.length&&(b=r.argv[1].replace(/\\/g,"/")),r.argv.slice(2),r.on("uncaughtException",(function(e){if(!(e instanceof In))throw e})),r.on("unhandledRejection",ue),h=function(e){r.exit(e)},c.inspect=function(){return"[Emscripten Module object]"}):v?("undefined"!=typeof read&&(g=function(e){return read(e)}),y=function(e){return"function"===typeof readbuffer?new Uint8Array(readbuffer(e)):(F("object"===typeof(e=read(e,"binary"))),e)},"function"===typeof quit&&(h=function(e){quit(e)}),"undefined"!==typeof print&&("undefined"===typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!==typeof printErr?printErr:print)):(p||j)&&(j?C=self.location.href:"undefined"!==typeof document&&document.currentScript&&(C=document.currentScript.src),o&&(C=o),C=0!==C.indexOf("blob:")?C.substr(0,C.lastIndexOf("/")+1):"",g=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText},j&&(y=function(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),O=function(e,t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){200==r.status||0==r.status&&r.response?t(r.response):n()},r.onerror=n,r.send(null)});var w=c.print||console.log.bind(console),k=c.printErr||console.warn.bind(console);for(d in f)f.hasOwnProperty(d)&&(c[d]=f[d]);f=null,c.thisProgram&&(b=c.thisProgram),c.quit&&(h=c.quit);var P,T=0;c.wasmBinary&&(P=c.wasmBinary);var I=c.noExitRuntime||!0;"object"!==typeof WebAssembly&&ue("no native wasm support detected");var M,A=!1;function F(e,t){e||ue("Assertion failed: "+t)}var L="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function R(e,t,n){var r=t+n;for(n=t;e[n]&&!(n>=r);)++n;if(16<n-t&&e.subarray&&L)return L.decode(e.subarray(t,n));for(r="";t<n;){var a=e[t++];if(128&a){var o=63&e[t++];if(192==(224&a))r+=String.fromCharCode((31&a)<<6|o);else{var i=63&e[t++];65536>(a=224==(240&a)?(15&a)<<12|o<<6|i:(7&a)<<18|o<<12|i<<6|63&e[t++])?r+=String.fromCharCode(a):(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a))}}else r+=String.fromCharCode(a)}return r}function D(e,t){return e?R(H,e,t):""}function _(e,t,n,r){if(!(0<r))return 0;var a=n;r=n+r-1;for(var o=0;o<e.length;++o){var i=e.charCodeAt(o);if(55296<=i&&57343>=i)i=65536+((1023&i)<<10)|1023&e.charCodeAt(++o);if(127>=i){if(n>=r)break;t[n++]=i}else{if(2047>=i){if(n+1>=r)break;t[n++]=192|i>>6}else{if(65535>=i){if(n+2>=r)break;t[n++]=224|i>>12}else{if(n+3>=r)break;t[n++]=240|i>>18,t[n++]=128|i>>12&63}t[n++]=128|i>>6&63}t[n++]=128|63&i}}return t[n]=0,n-a}function E(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&(r=65536+((1023&r)<<10)|1023&e.charCodeAt(++n)),127>=r?++t:t=2047>=r?t+2:65535>=r?t+3:t+4}return t}var B,z,H,V,G,N,W,U,Y,X="undefined"!==typeof TextDecoder?new TextDecoder("utf-16le"):void 0;function K(e,t){for(var n=e>>1,r=n+t/2;!(n>=r)&&G[n];)++n;if(32<(n<<=1)-e&&X)return X.decode(H.subarray(e,n));for(n="",r=0;!(r>=t/2);++r){var a=V[e+2*r>>1];if(0==a)break;n+=String.fromCharCode(a)}return n}function q(e,t,n){if(void 0===n&&(n=2147483647),2>n)return 0;var r=t;n=(n-=2)<2*e.length?n/2:e.length;for(var a=0;a<n;++a)V[t>>1]=e.charCodeAt(a),t+=2;return V[t>>1]=0,t-r}function J(e){return 2*e.length}function Z(e,t){for(var n=0,r="";!(n>=t/4);){var a=N[e+4*n>>2];if(0==a)break;++n,65536<=a?(a-=65536,r+=String.fromCharCode(55296|a>>10,56320|1023&a)):r+=String.fromCharCode(a)}return r}function $(e,t,n){if(void 0===n&&(n=2147483647),4>n)return 0;var r=t;n=r+n-4;for(var a=0;a<e.length;++a){var o=e.charCodeAt(a);if(55296<=o&&57343>=o)o=65536+((1023&o)<<10)|1023&e.charCodeAt(++a);if(N[t>>2]=o,(t+=4)+4>n)break}return N[t>>2]=0,t-r}function Q(e){for(var t=0,n=0;n<e.length;++n){var r=e.charCodeAt(n);55296<=r&&57343>=r&&++n,t+=4}return t}function ee(){var e=M.buffer;B=e,c.HEAP8=z=new Int8Array(e),c.HEAP16=V=new Int16Array(e),c.HEAP32=N=new Int32Array(e),c.HEAPU8=H=new Uint8Array(e),c.HEAPU16=G=new Uint16Array(e),c.HEAPU32=W=new Uint32Array(e),c.HEAPF32=U=new Float32Array(e),c.HEAPF64=Y=new Float64Array(e)}var te,ne=[],re=[],ae=[];function oe(){var e=c.preRun.shift();ne.unshift(e)}var ie=0,ce=null,se=null;function ue(e){throw c.onAbort&&c.onAbort(e),k(e),A=!0,e=new WebAssembly.RuntimeError("abort("+e+"). Build with -s ASSERTIONS=1 for more info."),u(e),e}function le(){return de.startsWith("data:application/octet-stream;base64,")}c.preloadedImages={},c.preloadedAudios={};var de="canvaskit.wasm";if(!le()){var fe=de;de=c.locateFile?c.locateFile(fe,C):C+fe}function be(){var e=de;try{if(e==de&&P)return new Uint8Array(P);if(y)return y(e);throw"both async and sync fetching of the wasm failed"}catch(t){ue(t)}}function he(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t(c);else{var n=t.Jg;"number"===typeof n?void 0===t.pf?te.get(n)():te.get(n)(t.pf):n(void 0===t.pf?null:t.pf)}}}function pe(e){this.Vd=e-16,this.tg=function(e){N[this.Vd+8>>2]=e},this.qg=function(e){N[this.Vd+0>>2]=e},this.rg=function(){N[this.Vd+4>>2]=0},this.pg=function(){z[this.Vd+12>>0]=0},this.sg=function(){z[this.Vd+13>>0]=0},this.dg=function(e,t){this.tg(e),this.qg(t),this.rg(),this.pg(),this.sg()}}var je={},me=[null,[],[]],ve={},ge={};function Oe(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function ye(e){return this.fromWireType(W[e>>2])}var xe={},Se={},Ce={};function we(e){if(void 0===e)return"_unknown";var t=(e=e.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=t&&57>=t?"_"+e:e}function ke(e,t){return e=we(e),new Function("body","return function "+e+'() {\n    "use strict";    return body.apply(this, arguments);\n};\n')(t)}function Pe(e){var t=Error,n=ke(e,(function(t){this.name=e,this.message=t,void 0!==(t=Error(t).stack)&&(this.stack=this.toString()+"\n"+t.replace(/^Error(:[^\n]*)?\n/,""))}));return n.prototype=Object.create(t.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return void 0===this.message?this.name:this.name+": "+this.message},n}var Te=void 0;function Ie(e){throw new Te(e)}function Me(e,t,n){function r(t){(t=n(t)).length!==e.length&&Ie("Mismatched type converter count");for(var r=0;r<e.length;++r)_e(e[r],t[r])}e.forEach((function(e){Ce[e]=t}));var a=Array(t.length),o=[],i=0;t.forEach((function(e,t){Se.hasOwnProperty(e)?a[t]=Se[e]:(o.push(e),xe.hasOwnProperty(e)||(xe[e]=[]),xe[e].push((function(){a[t]=Se[e],++i===o.length&&r(a)})))})),0===o.length&&r(a)}function Ae(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError("Unknown type size: "+e)}}var Fe=void 0;function Le(e){for(var t="";H[e];)t+=Fe[H[e++]];return t}var Re=void 0;function De(e){throw new Re(e)}function _e(e,t,n){if(n=n||{},!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");var r=t.name;if(e||De('type "'+r+'" must have a positive integer typeid pointer'),Se.hasOwnProperty(e)){if(n.cg)return;De("Cannot register type '"+r+"' twice")}Se[e]=t,delete Ce[e],xe.hasOwnProperty(e)&&(t=xe[e],delete xe[e],t.forEach((function(e){e()})))}function Ee(e){De(e.Rd.be.Xd.name+" instance already deleted")}var Be=!1;function ze(){}function He(e){--e.count.value,0===e.count.value&&(e.ie?e.le.pe(e.ie):e.be.Xd.pe(e.Vd))}function Ve(e){return"undefined"===typeof FinalizationGroup?(Ve=function(e){return e},e):(Be=new FinalizationGroup((function(e){for(var t=e.next();!t.done;t=e.next())(t=t.value).Vd?He(t):console.warn("object already deleted: "+t.Vd)})),ze=function(e){Be.unregister(e.Rd)},(Ve=function(e){return Be.register(e,e.Rd,e.Rd),e})(e))}var Ge=void 0,Ne=[];function We(){for(;Ne.length;){var e=Ne.pop();e.Rd.Ke=!1,e.delete()}}function Ue(){}var Ye={};function Xe(e,t,n){if(void 0===e[t].de){var r=e[t];e[t]=function(){return e[t].de.hasOwnProperty(arguments.length)||De("Function '"+n+"' called with an invalid number of arguments ("+arguments.length+") - expects one of ("+e[t].de+")!"),e[t].de[arguments.length].apply(this,arguments)},e[t].de=[],e[t].de[r.Ie]=r}}function Ke(e,t,n){c.hasOwnProperty(e)?((void 0===n||void 0!==c[e].de&&void 0!==c[e].de[n])&&De("Cannot register public name '"+e+"' twice"),Xe(c,e,e),c.hasOwnProperty(n)&&De("Cannot register multiple overloads of a function with the same number of arguments ("+n+")!"),c[e].de[n]=t):(c[e]=t,void 0!==n&&(c[e].Lg=n))}function qe(e,t,n,r,a,o,i,c){this.name=e,this.constructor=t,this.Le=n,this.pe=r,this.ne=a,this.Wf=o,this.Xe=i,this.Qf=c,this.mg=[]}function Je(e,t,n){for(;t!==n;)t.Xe||De("Expected null or instance of "+n.name+", got an instance of "+t.name),e=t.Xe(e),t=t.ne;return e}function Ze(e,t){return null===t?(this.rf&&De("null is not a valid "+this.name),0):(t.Rd||De('Cannot pass "'+vt(t)+'" as a '+this.name),t.Rd.Vd||De("Cannot pass deleted object as a pointer of type "+this.name),Je(t.Rd.Vd,t.Rd.be.Xd,this.Xd))}function $e(e,t){if(null===t){if(this.rf&&De("null is not a valid "+this.name),this.bf){var n=this.sf();return null!==e&&e.push(this.pe,n),n}return 0}if(t.Rd||De('Cannot pass "'+vt(t)+'" as a '+this.name),t.Rd.Vd||De("Cannot pass deleted object as a pointer of type "+this.name),!this.af&&t.Rd.be.af&&De("Cannot convert argument of type "+(t.Rd.le?t.Rd.le.name:t.Rd.be.name)+" to parameter type "+this.name),n=Je(t.Rd.Vd,t.Rd.be.Xd,this.Xd),this.bf)switch(void 0===t.Rd.ie&&De("Passing raw pointer to smart pointer is illegal"),this.xg){case 0:t.Rd.le===this?n=t.Rd.ie:De("Cannot convert argument of type "+(t.Rd.le?t.Rd.le.name:t.Rd.be.name)+" to parameter type "+this.name);break;case 1:n=t.Rd.ie;break;case 2:if(t.Rd.le===this)n=t.Rd.ie;else{var r=t.clone();n=this.ng(n,pt((function(){r.delete()}))),null!==e&&e.push(this.pe,n)}break;default:De("Unsupporting sharing policy")}return n}function Qe(e,t){return null===t?(this.rf&&De("null is not a valid "+this.name),0):(t.Rd||De('Cannot pass "'+vt(t)+'" as a '+this.name),t.Rd.Vd||De("Cannot pass deleted object as a pointer of type "+this.name),t.Rd.be.af&&De("Cannot convert argument of type "+t.Rd.be.name+" to parameter type "+this.name),Je(t.Rd.Vd,t.Rd.be.Xd,this.Xd))}function et(e,t,n){return t===n?e:void 0===n.ne||null===(e=et(e,t,n.ne))?null:n.Qf(e)}var tt={};function nt(e,t){return t.be&&t.Vd||Ie("makeClassHandle requires ptr and ptrType"),!!t.le!==!!t.ie&&Ie("Both smartPtrType and smartPtr must be specified"),t.count={value:1},Ve(Object.create(e,{Rd:{value:t}}))}function rt(e,t,n,r,a,o,i,c,s,u,l){this.name=e,this.Xd=t,this.rf=n,this.af=r,this.bf=a,this.lg=o,this.xg=i,this.Ef=c,this.sf=s,this.ng=u,this.pe=l,a||void 0!==t.ne?this.toWireType=$e:(this.toWireType=r?Ze:Qe,this.ke=null)}function at(e,t,n){c.hasOwnProperty(e)||Ie("Replacing nonexistant public symbol"),void 0!==c[e].de&&void 0!==n?c[e].de[n]=t:(c[e]=t,c[e].Ie=n)}function ot(e,t){var n=(e=Le(e)).includes("j")?function(e,t){var n=[];return function(){n.length=arguments.length;for(var r=0;r<arguments.length;r++)n[r]=arguments[r];return e.includes("j")?(r=c["dynCall_"+e],r=n&&n.length?r.apply(null,[t].concat(n)):r.call(null,t)):r=te.get(t).apply(null,n),r}}(e,t):te.get(t);return"function"!==typeof n&&De("unknown function pointer with signature "+e+": "+t),n}var it=void 0;function ct(e){var t=Le(e=Sn(e));return yn(e),t}function st(e,t){var n=[],r={};throw t.forEach((function e(t){r[t]||Se[t]||(Ce[t]?Ce[t].forEach(e):(n.push(t),r[t]=!0))})),new it(e+": "+n.map(ct).join([", "]))}function ut(e){var t=Function;if(!(t instanceof Function))throw new TypeError("new_ called with constructor type "+typeof t+" which is not a function");var n=ke(t.name||"unknownFunctionName",(function(){}));return n.prototype=t.prototype,n=new n,(e=t.apply(n,e))instanceof Object?e:n}function lt(e,t,n,r,a){var o=t.length;2>o&&De("argTypes array size mismatch! Must at least get return value and 'this' types!");var i=null!==t[1]&&null!==n,c=!1;for(n=1;n<t.length;++n)if(null!==t[n]&&void 0===t[n].ke){c=!0;break}var s="void"!==t[0].name,u="",l="";for(n=0;n<o-2;++n)u+=(0!==n?", ":"")+"arg"+n,l+=(0!==n?", ":"")+"arg"+n+"Wired";e="return function "+we(e)+"("+u+") {\nif (arguments.length !== "+(o-2)+") {\nthrowBindingError('function "+e+" called with ' + arguments.length + ' arguments, expected "+(o-2)+" args!');\n}\n",c&&(e+="var destructors = [];\n");var d=c?"destructors":"null";for(u="throwBindingError invoker fn runDestructors retType classParam".split(" "),r=[De,r,a,Oe,t[0],t[1]],i&&(e+="var thisWired = classParam.toWireType("+d+", this);\n"),n=0;n<o-2;++n)e+="var arg"+n+"Wired = argType"+n+".toWireType("+d+", arg"+n+"); // "+t[n+2].name+"\n",u.push("argType"+n),r.push(t[n+2]);if(i&&(l="thisWired"+(0<l.length?", ":"")+l),e+=(s?"var rv = ":"")+"invoker(fn"+(0<l.length?", ":"")+l+");\n",c)e+="runDestructors(destructors);\n";else for(n=i?1:2;n<t.length;++n)o=1===n?"thisWired":"arg"+(n-2)+"Wired",null!==t[n].ke&&(e+=o+"_dtor("+o+"); // "+t[n].name+"\n",u.push(o+"_dtor"),r.push(t[n].ke));return s&&(e+="var ret = retType.fromWireType(rv);\nreturn ret;\n"),u.push(e+"}\n"),ut(u).apply(null,r)}function dt(e,t){for(var n=[],r=0;r<e;r++)n.push(N[(t>>2)+r]);return n}var ft=[],bt=[{},{value:void 0},{value:null},{value:!0},{value:!1}];function ht(e){4<e&&0===--bt[e].tf&&(bt[e]=void 0,ft.push(e))}function pt(e){switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:var t=ft.length?ft.pop():bt.length;return bt[t]={tf:1,value:e},t}}function jt(e,t,n){switch(t){case 0:return function(e){return this.fromWireType((n?z:H)[e])};case 1:return function(e){return this.fromWireType((n?V:G)[e>>1])};case 2:return function(e){return this.fromWireType((n?N:W)[e>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function mt(e,t){var n=Se[e];return void 0===n&&De(t+" has unknown type "+ct(e)),n}function vt(e){if(null===e)return"null";var t=typeof e;return"object"===t||"array"===t||"function"===t?e.toString():""+e}function gt(e,t){switch(t){case 2:return function(e){return this.fromWireType(U[e>>2])};case 3:return function(e){return this.fromWireType(Y[e>>3])};default:throw new TypeError("Unknown float type: "+e)}}function Ot(e,t,n){switch(t){case 0:return n?function(e){return z[e]}:function(e){return H[e]};case 1:return n?function(e){return V[e>>1]}:function(e){return G[e>>1]};case 2:return n?function(e){return N[e>>2]}:function(e){return W[e>>2]};default:throw new TypeError("Unknown integer type: "+e)}}function yt(e){return e||De("Cannot use deleted val. handle = "+e),bt[e].value}var xt={};function St(e){var t=xt[e];return void 0===t?Le(e):t}var Ct=[];function wt(){return"object"===typeof globalThis?globalThis:Function("return this")()}var kt,Pt={};kt=m?function(){var e=r.hrtime();return 1e3*e[0]+e[1]/1e6}:"undefined"!==typeof dateNow?dateNow:function(){return performance.now()};var Tt=1,It=[],Mt=[],At=[],Ft=[],Lt=[],Rt=[],Dt=[],_t=[],Et=[],Bt=[],zt={},Ht={},Vt=4;function Gt(e){Ut||(Ut=e)}function Nt(e){for(var t=Tt++,n=e.length;n<t;n++)e[n]=null;return t}function Wt(e){return Yt=_t[e],c.Ig=hn=Yt&&Yt.Ne,!(e&&!hn)}var Ut,Yt,Xt=[];function Kt(e,t,n,r){for(var a=0;a<e;a++){var o=hn[n](),i=o&&Nt(r);o?(o.name=i,r[i]=o):Gt(1282),N[t+4*a>>2]=i}}function qt(e,t){if(t){var n=void 0;switch(e){case 36346:n=1;break;case 36344:return;case 34814:case 36345:n=0;break;case 34466:var r=hn.getParameter(34467);n=r?r.length:0;break;case 33309:if(2>Yt.version)return void Gt(1282);n=2*(hn.getSupportedExtensions()||[]).length;break;case 33307:case 33308:if(2>Yt.version)return void Gt(1280);n=33307==e?3:0}if(void 0===n)switch(r=hn.getParameter(e),typeof r){case"number":n=r;break;case"boolean":n=r?1:0;break;case"string":return void Gt(1280);case"object":if(null===r)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34229:case 36662:case 36663:case 35053:case 35055:case 36010:case 35097:case 35869:case 32874:case 36389:case 35983:case 35368:case 34068:n=0;break;default:return void Gt(1280)}else{if(r instanceof Float32Array||r instanceof Uint32Array||r instanceof Int32Array||r instanceof Array){for(e=0;e<r.length;++e)N[t+4*e>>2]=r[e];return}try{n=0|r.name}catch(a){return Gt(1280),void k("GL_INVALID_ENUM in glGet0v: Unknown object returned from WebGL getParameter("+e+")! (error: "+a+")")}}break;default:return Gt(1280),void k("GL_INVALID_ENUM in glGet0v: Native code calling glGet0v("+e+") and it returns "+r+" of type "+typeof r+"!")}N[t>>2]=n}else Gt(1281)}function Jt(e){var t=E(e)+1,n=On(t);return _(e,H,n,t),n}function Zt(e){return 0==(e-=5120)?z:1==e?H:2==e?V:4==e?N:6==e?U:5==e||28922==e||28520==e||30779==e||30782==e?W:G}function $t(e,t,n,r,a){e=Zt(e);var o=31-Math.clz32(e.BYTES_PER_ELEMENT),i=Vt;return e.subarray(a>>o,a+r*(n*({5:3,6:4,8:2,29502:3,29504:4,26917:2,26918:2,29846:3,29847:4}[t-6402]||1)*(1<<o)+i-1&-i)>>o)}function Qt(e){var t=hn.Of,n=t.jf[e];return 0<=n&&(t.jf[e]=n=hn.getUniformLocation(t,t.Ff[e]+(0<n?"["+n+"]":""))),n}var en,tn=[],nn=[],rn={};function an(){if(!en){var e,t={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"===typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:b||"./this.program"};for(e in rn)t[e]=rn[e];var n=[];for(e in t)n.push(e+"="+t[e]);en=n}return en}function on(e){return 0===e%4&&(0!==e%100||0===e%400)}function cn(e,t){for(var n=0,r=0;r<=t;n+=e[r++]);return n}var sn=[31,29,31,30,31,30,31,31,30,31,30,31],un=[31,28,31,30,31,30,31,31,30,31,30,31];function ln(e,t){for(e=new Date(e.getTime());0<t;){var n=e.getMonth(),r=(on(e.getFullYear())?sn:un)[n];if(!(t>r-e.getDate())){e.setDate(e.getDate()+t);break}t-=r-e.getDate()+1,e.setDate(1),11>n?e.setMonth(n+1):(e.setMonth(0),e.setFullYear(e.getFullYear()+1))}return e}function dn(e,t,n,r){function a(e,t,n){for(e="number"===typeof e?e.toString():e||"";e.length<t;)e=n[0]+e;return e}function o(e,t){return a(e,t,"0")}function i(e,t){function n(e){return 0>e?-1:0<e?1:0}var r;return 0===(r=n(e.getFullYear()-t.getFullYear()))&&0===(r=n(e.getMonth()-t.getMonth()))&&(r=n(e.getDate()-t.getDate())),r}function c(e){switch(e.getDay()){case 0:return new Date(e.getFullYear()-1,11,29);case 1:return e;case 2:return new Date(e.getFullYear(),0,3);case 3:return new Date(e.getFullYear(),0,2);case 4:return new Date(e.getFullYear(),0,1);case 5:return new Date(e.getFullYear()-1,11,31);case 6:return new Date(e.getFullYear()-1,11,30)}}function s(e){e=ln(new Date(e.fe+1900,0,1),e.hf);var t=new Date(e.getFullYear()+1,0,4),n=c(new Date(e.getFullYear(),0,4));return t=c(t),0>=i(n,e)?0>=i(t,e)?e.getFullYear()+1:e.getFullYear():e.getFullYear()-1}var u=N[r+40>>2];for(var l in r={Fg:N[r>>2],Eg:N[r+4>>2],ff:N[r+8>>2],We:N[r+12>>2],Me:N[r+16>>2],fe:N[r+20>>2],gf:N[r+24>>2],hf:N[r+28>>2],Og:N[r+32>>2],Dg:N[r+36>>2],Gg:u?D(u):""},n=D(n),u={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"})n=n.replace(new RegExp(l,"g"),u[l]);var d="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),f="January February March April May June July August September October November December".split(" ");for(l in u={"%a":function(e){return d[e.gf].substring(0,3)},"%A":function(e){return d[e.gf]},"%b":function(e){return f[e.Me].substring(0,3)},"%B":function(e){return f[e.Me]},"%C":function(e){return o((e.fe+1900)/100|0,2)},"%d":function(e){return o(e.We,2)},"%e":function(e){return a(e.We,2," ")},"%g":function(e){return s(e).toString().substring(2)},"%G":function(e){return s(e)},"%H":function(e){return o(e.ff,2)},"%I":function(e){return 0==(e=e.ff)?e=12:12<e&&(e-=12),o(e,2)},"%j":function(e){return o(e.We+cn(on(e.fe+1900)?sn:un,e.Me-1),3)},"%m":function(e){return o(e.Me+1,2)},"%M":function(e){return o(e.Eg,2)},"%n":function(){return"\n"},"%p":function(e){return 0<=e.ff&&12>e.ff?"AM":"PM"},"%S":function(e){return o(e.Fg,2)},"%t":function(){return"\t"},"%u":function(e){return e.gf||7},"%U":function(e){var t=new Date(e.fe+1900,0,1),n=0===t.getDay()?t:ln(t,7-t.getDay());return 0>i(n,e=new Date(e.fe+1900,e.Me,e.We))?o(Math.ceil((31-n.getDate()+(cn(on(e.getFullYear())?sn:un,e.getMonth()-1)-31)+e.getDate())/7),2):0===i(n,t)?"01":"00"},"%V":function(e){var t=new Date(e.fe+1901,0,4),n=c(new Date(e.fe+1900,0,4));t=c(t);var r=ln(new Date(e.fe+1900,0,1),e.hf);return 0>i(r,n)?"53":0>=i(t,r)?"01":o(Math.ceil((n.getFullYear()<e.fe+1900?e.hf+32-n.getDate():e.hf+1-n.getDate())/7),2)},"%w":function(e){return e.gf},"%W":function(e){var t=new Date(e.fe,0,1),n=1===t.getDay()?t:ln(t,0===t.getDay()?1:7-t.getDay()+1);return 0>i(n,e=new Date(e.fe+1900,e.Me,e.We))?o(Math.ceil((31-n.getDate()+(cn(on(e.getFullYear())?sn:un,e.getMonth()-1)-31)+e.getDate())/7),2):0===i(n,t)?"01":"00"},"%y":function(e){return(e.fe+1900).toString().substring(2)},"%Y":function(e){return e.fe+1900},"%z":function(e){var t=0<=(e=e.Dg);return e=Math.abs(e)/60,(t?"+":"-")+String("0000"+(e/60*100+e%60)).slice(-4)},"%Z":function(e){return e.Gg},"%%":function(){return"%"}})n.includes(l)&&(n=n.replace(new RegExp(l,"g"),u[l](r)));return(l=function(e){var t=Array(E(e)+1);return _(e,t,0,t.length),t}(n)).length>t?0:(z.set(l,e),l.length-1)}Te=c.InternalError=Pe("InternalError");for(var fn=Array(256),bn=0;256>bn;++bn)fn[bn]=String.fromCharCode(bn);Fe=fn,Re=c.BindingError=Pe("BindingError"),Ue.prototype.isAliasOf=function(e){if(!(this instanceof Ue&&e instanceof Ue))return!1;var t=this.Rd.be.Xd,n=this.Rd.Vd,r=e.Rd.be.Xd;for(e=e.Rd.Vd;t.ne;)n=t.Xe(n),t=t.ne;for(;r.ne;)e=r.Xe(e),r=r.ne;return t===r&&n===e},Ue.prototype.clone=function(){if(this.Rd.Vd||Ee(this),this.Rd.Ve)return this.Rd.count.value+=1,this;var e=Ve,t=Object,n=t.create,r=Object.getPrototypeOf(this),a=this.Rd;return(e=e(n.call(t,r,{Rd:{value:{count:a.count,Ke:a.Ke,Ve:a.Ve,Vd:a.Vd,be:a.be,ie:a.ie,le:a.le}}}))).Rd.count.value+=1,e.Rd.Ke=!1,e},Ue.prototype.delete=function(){this.Rd.Vd||Ee(this),this.Rd.Ke&&!this.Rd.Ve&&De("Object already scheduled for deletion"),ze(this),He(this.Rd),this.Rd.Ve||(this.Rd.ie=void 0,this.Rd.Vd=void 0)},Ue.prototype.isDeleted=function(){return!this.Rd.Vd},Ue.prototype.deleteLater=function(){return this.Rd.Vd||Ee(this),this.Rd.Ke&&!this.Rd.Ve&&De("Object already scheduled for deletion"),Ne.push(this),1===Ne.length&&Ge&&Ge(We),this.Rd.Ke=!0,this},rt.prototype.Xf=function(e){return this.Ef&&(e=this.Ef(e)),e},rt.prototype.yf=function(e){this.pe&&this.pe(e)},rt.prototype.argPackAdvance=8,rt.prototype.readValueFromPointer=ye,rt.prototype.deleteObject=function(e){null!==e&&e.delete()},rt.prototype.fromWireType=function(e){function t(){return this.bf?nt(this.Xd.Le,{be:this.lg,Vd:n,le:this,ie:e}):nt(this.Xd.Le,{be:this,Vd:e})}var n=this.Xf(e);if(!n)return this.yf(e),null;var r=function(e,t){for(void 0===t&&De("ptr should not be undefined");e.ne;)t=e.Xe(t),e=e.ne;return tt[t]}(this.Xd,n);if(void 0!==r)return 0===r.Rd.count.value?(r.Rd.Vd=n,r.Rd.ie=e,r.clone()):(r=r.clone(),this.yf(e),r);if(r=this.Xd.Wf(n),!(r=Ye[r]))return t.call(this);r=this.af?r.Mf:r.pointerType;var a=et(n,this.Xd,r.Xd);return null===a?t.call(this):this.bf?nt(r.Xd.Le,{be:r,Vd:a,le:this,ie:e}):nt(r.Xd.Le,{be:r,Vd:a})},c.getInheritedInstanceCount=function(){return Object.keys(tt).length},c.getLiveInheritedInstances=function(){var e,t=[];for(e in tt)tt.hasOwnProperty(e)&&t.push(tt[e]);return t},c.flushPendingDeletes=We,c.setDelayFunction=function(e){Ge=e,Ne.length&&Ge&&Ge(We)},it=c.UnboundTypeError=Pe("UnboundTypeError"),c.count_emval_handles=function(){for(var e=0,t=5;t<bt.length;++t)void 0!==bt[t]&&++e;return e},c.get_first_emval=function(){for(var e=5;e<bt.length;++e)if(void 0!==bt[e])return bt[e];return null};for(var hn,pn=0;32>pn;++pn)Xt.push(Array(pn));var jn=new Float32Array(288);for(pn=0;288>pn;++pn)tn[pn]=jn.subarray(0,pn+1);var mn=new Int32Array(288);for(pn=0;288>pn;++pn)nn[pn]=mn.subarray(0,pn+1);var vn={L:function(e){return On(e+16)+16},K:function(e,t,n){throw new pe(e).dg(t,n),e},P:function(){return 0},Ab:function(){},xb:function(){return 0},yb:function(e,t,n,r,a,o){return o<<=12,0!==(16&r)&&0!==e%65536?t=-28:0!==(32&r)?(e=Tn(65536,t))?(gn(e,0,t),je[e]={jg:e,ig:t,Lf:!0,fd:a,Mg:n,flags:r,offset:o},t=e):t=-48:t=-52,t},zb:function(e,t){if(-1===(0|e)||0===t)e=-28;else{var n=je[e];n&&t===n.ig&&(je[e]=null,n.Lf&&yn(n.jg)),e=0}return e},R:function(){},Q:function(){},y:function(e){var t=ge[e];delete ge[e];var n=t.sf,r=t.pe,a=t.Bf;Me([e],a.map((function(e){return e.ag})).concat(a.map((function(e){return e.vg}))),(function(e){var o={};return a.forEach((function(t,n){var r=e[n],i=t.Zf,c=t.$f,s=e[n+a.length],u=t.ug,l=t.wg;o[t.Sf]={read:function(e){return r.fromWireType(i(c,e))},write:function(e,t){var n=[];u(l,e,s.toWireType(n,t)),Oe(n)}}})),[{name:t.name,fromWireType:function(e){var t,n={};for(t in o)n[t]=o[t].read(e);return r(e),n},toWireType:function(e,t){for(var a in o)if(!(a in t))throw new TypeError('Missing field:  "'+a+'"');var i=n();for(a in o)o[a].write(i,t[a]);return null!==e&&e.push(r,i),i},argPackAdvance:8,readValueFromPointer:ye,ke:r}]}))},pb:function(){},Db:function(e,t,n,r,a){var o=Ae(n);_e(e,{name:t=Le(t),fromWireType:function(e){return!!e},toWireType:function(e,t){return t?r:a},argPackAdvance:8,readValueFromPointer:function(e){if(1===n)var r=z;else if(2===n)r=V;else{if(4!==n)throw new TypeError("Unknown boolean type size: "+t);r=N}return this.fromWireType(r[e>>o])},ke:null})},n:function(e,t,n,r,a,o,i,c,s,u,l,d,f){l=Le(l),o=ot(a,o),c&&(c=ot(i,c)),u&&(u=ot(s,u)),f=ot(d,f);var b=we(l);Ke(b,(function(){st("Cannot construct "+l+" due to unbound types",[r])})),Me([e,t,n],r?[r]:[],(function(t){if(t=t[0],r)var n=t.Xd,a=n.Le;else a=Ue.prototype;t=ke(b,(function(){if(Object.getPrototypeOf(this)!==i)throw new Re("Use 'new' to construct "+l);if(void 0===s.te)throw new Re(l+" has no accessible constructor");var e=s.te[arguments.length];if(void 0===e)throw new Re("Tried to invoke ctor of "+l+" with invalid number of parameters ("+arguments.length+") - expected ("+Object.keys(s.te).toString()+") parameters instead!");return e.apply(this,arguments)}));var i=Object.create(a,{constructor:{value:t}});t.prototype=i;var s=new qe(l,t,i,f,n,o,c,u);n=new rt(l,s,!0,!1,!1),a=new rt(l+"*",s,!1,!1,!1);var d=new rt(l+" const*",s,!1,!0,!1);return Ye[e]={pointerType:a,Mf:d},at(b,t),[n,a,d]}))},f:function(e,t,n,r,a,o,i){var c=dt(n,r);t=Le(t),o=ot(a,o),Me([],[e],(function(e){function r(){st("Cannot call "+a+" due to unbound types",c)}var a=(e=e[0]).name+"."+t,s=e.Xd.constructor;return void 0===s[t]?(r.Ie=n-1,s[t]=r):(Xe(s,t,a),s[t].de[n-1]=r),Me([],c,(function(e){return e=[e[0],null].concat(e.slice(1)),e=lt(a,e,null,o,i),void 0===s[t].de?(e.Ie=n-1,s[t]=e):s[t].de[n-1]=e,[]})),[]}))},x:function(e,t,n,r,a,o){F(0<t);var i=dt(t,n);a=ot(r,a);var c=[o],s=[];Me([],[e],(function(e){var n="constructor "+(e=e[0]).name;if(void 0===e.Xd.te&&(e.Xd.te=[]),void 0!==e.Xd.te[t-1])throw new Re("Cannot register multiple constructors with identical number of parameters ("+(t-1)+") for class '"+e.name+"'! Overload resolution is currently only performed using the parameter count, not actual type info!");return e.Xd.te[t-1]=function(){st("Cannot construct "+e.name+" due to unbound types",i)},Me([],i,(function(r){return e.Xd.te[t-1]=function(){arguments.length!==t-1&&De(n+" called with "+arguments.length+" arguments, expected "+(t-1)),s.length=0,c.length=t;for(var e=1;e<t;++e)c[e]=r[e].toWireType(s,arguments[e-1]);return e=a.apply(null,c),Oe(s),r[0].fromWireType(e)},[]})),[]}))},c:function(e,t,n,r,a,o,i,c){var s=dt(n,r);t=Le(t),o=ot(a,o),Me([],[e],(function(e){function r(){st("Cannot call "+a+" due to unbound types",s)}var a=(e=e[0]).name+"."+t;c&&e.Xd.mg.push(t);var u=e.Xd.Le,l=u[t];return void 0===l||void 0===l.de&&l.className!==e.name&&l.Ie===n-2?(r.Ie=n-2,r.className=e.name,u[t]=r):(Xe(u,t,a),u[t].de[n-2]=r),Me([],s,(function(r){return r=lt(a,r,e,o,i),void 0===u[t].de?(r.Ie=n-2,u[t]=r):u[t].de[n-2]=r,[]})),[]}))},X:function(e,t,n){e=Le(e),Me([],[t],(function(t){return t=t[0],c[e]=t.fromWireType(n),[]}))},Bb:function(e,t){_e(e,{name:t=Le(t),fromWireType:function(e){var t=bt[e].value;return ht(e),t},toWireType:function(e,t){return pt(t)},argPackAdvance:8,readValueFromPointer:ye,ke:null})},m:function(e,t,n,r){function a(){}n=Ae(n),t=Le(t),a.values={},_e(e,{name:t,constructor:a,fromWireType:function(e){return this.constructor.values[e]},toWireType:function(e,t){return t.value},argPackAdvance:8,readValueFromPointer:jt(t,n,r),ke:null}),Ke(t,a)},l:function(e,t,n){var r=mt(e,"enum");t=Le(t),e=r.constructor,r=Object.create(r.constructor.prototype,{value:{value:n},constructor:{value:ke(r.name+"_"+t,(function(){}))}}),e.values[n]=r,e[t]=r},S:function(e,t,n){n=Ae(n),_e(e,{name:t=Le(t),fromWireType:function(e){return e},toWireType:function(e,t){if("number"!==typeof t&&"boolean"!==typeof t)throw new TypeError('Cannot convert "'+vt(t)+'" to '+this.name);return t},argPackAdvance:8,readValueFromPointer:gt(t,n),ke:null})},s:function(e,t,n,r,a,o){var i=dt(t,n);e=Le(e),a=ot(r,a),Ke(e,(function(){st("Cannot call "+e+" due to unbound types",i)}),t-1),Me([],i,(function(n){return n=[n[0],null].concat(n.slice(1)),at(e,lt(e,n,null,a,o),t-1),[]}))},A:function(e,t,n,r,a){function o(e){return e}t=Le(t),-1===a&&(a=4294967295);var i=Ae(n);if(0===r){var c=32-8*n;o=function(e){return e<<c>>>c}}var s=t.includes("unsigned");_e(e,{name:t,fromWireType:o,toWireType:function(e,n){if("number"!==typeof n&&"boolean"!==typeof n)throw new TypeError('Cannot convert "'+vt(n)+'" to '+this.name);if(n<r||n>a)throw new TypeError('Passing a number "'+vt(n)+'" from JS side to C/C++ side to an argument of type "'+t+'", which is outside the valid range ['+r+", "+a+"]!");return s?n>>>0:0|n},argPackAdvance:8,readValueFromPointer:Ot(t,i,0!==r),ke:null})},w:function(e,t,n){function r(e){var t=W;return new a(B,t[(e>>=2)+1],t[e])}var a=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];_e(e,{name:n=Le(n),fromWireType:r,argPackAdvance:8,readValueFromPointer:r},{cg:!0})},p:function(e,t,n,r,a,o,i,c,s,u,l,d){n=Le(n),o=ot(a,o),c=ot(i,c),u=ot(s,u),d=ot(l,d),Me([e],[t],(function(e){return e=e[0],[new rt(n,e.Xd,!1,!1,!0,e,r,o,c,u,d)]}))},T:function(e,t){var n="std::string"===(t=Le(t));_e(e,{name:t,fromWireType:function(e){var t=W[e>>2];if(n)for(var r=e+4,a=0;a<=t;++a){var o=e+4+a;if(a==t||0==H[o]){if(r=D(r,o-r),void 0===i)var i=r;else i+=String.fromCharCode(0),i+=r;r=o+1}}else{for(i=Array(t),a=0;a<t;++a)i[a]=String.fromCharCode(H[e+4+a]);i=i.join("")}return yn(e),i},toWireType:function(e,t){t instanceof ArrayBuffer&&(t=new Uint8Array(t));var r="string"===typeof t;r||t instanceof Uint8Array||t instanceof Uint8ClampedArray||t instanceof Int8Array||De("Cannot pass non-string to std::string");var a=(n&&r?function(){return E(t)}:function(){return t.length})(),o=On(4+a+1);if(W[o>>2]=a,n&&r)_(t,H,o+4,a+1);else if(r)for(r=0;r<a;++r){var i=t.charCodeAt(r);255<i&&(yn(o),De("String has UTF-16 code units that do not fit in 8 bits")),H[o+4+r]=i}else for(r=0;r<a;++r)H[o+4+r]=t[r];return null!==e&&e.push(yn,o),o},argPackAdvance:8,readValueFromPointer:ye,ke:function(e){yn(e)}})},G:function(e,t,n){if(n=Le(n),2===t)var r=K,a=q,o=J,i=function(){return G},c=1;else 4===t&&(r=Z,a=$,o=Q,i=function(){return W},c=2);_e(e,{name:n,fromWireType:function(e){for(var n,a=W[e>>2],o=i(),s=e+4,u=0;u<=a;++u){var l=e+4+u*t;u!=a&&0!=o[l>>c]||(s=r(s,l-s),void 0===n?n=s:(n+=String.fromCharCode(0),n+=s),s=l+t)}return yn(e),n},toWireType:function(e,r){"string"!==typeof r&&De("Cannot pass non-string to C++ string type "+n);var i=o(r),s=On(4+i+t);return W[s>>2]=i>>c,a(r,s+4,i+t),null!==e&&e.push(yn,s),s},argPackAdvance:8,readValueFromPointer:ye,ke:function(e){yn(e)}})},z:function(e,t,n,r,a,o){ge[e]={name:Le(t),sf:ot(n,r),pe:ot(a,o),Bf:[]}},j:function(e,t,n,r,a,o,i,c,s,u){ge[e].Bf.push({Sf:Le(t),ag:n,Zf:ot(r,a),$f:o,vg:i,ug:ot(c,s),wg:u})},Eb:function(e,t){_e(e,{fg:!0,name:t=Le(t),argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},C:function(e,t,n){e=yt(e),t=mt(t,"emval::as");var r=[],a=pt(r);return N[n>>2]=a,t.toWireType(r,e)},E:function(e,t,n,r,a){e=Ct[e],t=yt(t),n=St(n);var o=[];return N[r>>2]=pt(o),e(t,n,o,a)},B:function(e,t,n,r){(e=Ct[e])(t=yt(t),n=St(n),null,r)},H:ht,jb:function(e){return 0===e?pt(wt()):(e=St(e),pt(wt()[e]))},v:function(e,t){for(var n=(t=function(e,t){for(var n=Array(e),r=0;r<e;++r)n[r]=mt(N[(t>>2)+r],"parameter "+r);return n}(e,t))[0],r=n.name+"_$"+t.slice(1).map((function(e){return e.name})).join("_")+"$",a=["retType"],o=[n],i="",c=0;c<e-1;++c)i+=(0!==c?", ":"")+"arg"+c,a.push("argType"+c),o.push(t[1+c]);r="return function "+we("methodCaller_"+r)+"(handle, name, destructors, args) {\n";var s=0;for(c=0;c<e-1;++c)r+="    var arg"+c+" = argType"+c+".readValueFromPointer(args"+(s?"+"+s:"")+");\n",s+=t[c+1].argPackAdvance;for(r+="    var rv = handle[name]("+i+");\n",c=0;c<e-1;++c)t[c+1].deleteObject&&(r+="    argType"+c+".deleteObject(arg"+c+");\n");return n.fg||(r+="    return retType.toWireType(destructors, rv);\n"),a.push(r+"};\n"),function(e){var t=Ct.length;return Ct.push(e),t}(e=ut(a).apply(null,o))},M:function(e,t){return pt((e=yt(e))[t=yt(t)])},N:function(e){4<e&&(bt[e].tf+=1)},hb:function(e,t){return(e=yt(e))instanceof(t=yt(t))},ib:function(e,t,n,r){e=yt(e);var a=Pt[t];if(!a){a="";for(var o=0;o<t;++o)a+=(0!==o?", ":"")+"arg"+o;var i="return function emval_allocator_"+t+"(constructor, argTypes, args) {\n";for(o=0;o<t;++o)i+="var argType"+o+" = requireRegisteredType(Module['HEAP32'][(argTypes >>> 2) + "+o+'], "parameter '+o+'");\nvar arg'+o+" = argType"+o+".readValueFromPointer(args);\nargs += argType"+o+"['argPackAdvance'];\n";a=new Function("requireRegisteredType","Module","__emval_register",i+"var obj = new constructor("+a+");\nreturn __emval_register(obj);\n}\n")(mt,c,pt),Pt[t]=a}return a(e,n,r)},ra:function(){return pt([])},Ca:function(e){return pt(St(e))},lb:function(){return pt({})},gb:function(e){return!(e=yt(e))},mb:function(e){Oe(bt[e].value),ht(e)},u:function(e,t,n){e=yt(e),t=yt(t),n=yt(n),e[t]=n},t:function(e,t){return pt(e=(e=mt(e,"_emval_take_value")).readValueFromPointer(t))},d:function(){ue()},rb:function(e,t){if(0===e)e=Date.now();else{if(1!==e&&4!==e)return N[xn()>>2]=28,-1;e=kt()}return N[t>>2]=e/1e3|0,N[t+4>>2]=e%1e3*1e6|0,0},Yc:function(e){hn.activeTexture(e)},Zc:function(e,t){hn.attachShader(Mt[e],Rt[t])},_c:function(e,t,n){hn.bindAttribLocation(Mt[e],t,D(n))},$c:function(e,t){35051==e?hn.qf=t:35052==e&&(hn.Je=t),hn.bindBuffer(e,It[t])},$b:function(e,t){hn.bindFramebuffer(e,At[t])},ac:function(e,t){hn.bindRenderbuffer(e,Ft[t])},Nb:function(e,t){hn.bindSampler(e,Et[t])},ad:function(e,t){hn.bindTexture(e,Lt[t])},uc:function(e){hn.bindVertexArray(Dt[e])},xc:function(e){hn.bindVertexArray(Dt[e])},bd:function(e,t,n,r){hn.blendColor(e,t,n,r)},cd:function(e){hn.blendEquation(e)},dd:function(e,t){hn.blendFunc(e,t)},Ub:function(e,t,n,r,a,o,i,c,s,u){hn.blitFramebuffer(e,t,n,r,a,o,i,c,s,u)},ed:function(e,t,n,r){2<=Yt.version?n?hn.bufferData(e,H,r,n,t):hn.bufferData(e,t,r):hn.bufferData(e,n?H.subarray(n,n+t):t,r)},Z:function(e,t,n,r){2<=Yt.version?hn.bufferSubData(e,t,H,r,n):hn.bufferSubData(e,t,H.subarray(r,r+n))},bc:function(e){return hn.checkFramebufferStatus(e)},_:function(e){hn.clear(e)},$:function(e,t,n,r){hn.clearColor(e,t,n,r)},aa:function(e){hn.clearStencil(e)},db:function(e,t,n,r){return hn.clientWaitSync(Bt[e],t,(n>>>0)+4294967296*r)},ba:function(e,t,n,r){hn.colorMask(!!e,!!t,!!n,!!r)},ca:function(e){hn.compileShader(Rt[e])},da:function(e,t,n,r,a,o,i,c){2<=Yt.version?hn.Je?hn.compressedTexImage2D(e,t,n,r,a,o,i,c):hn.compressedTexImage2D(e,t,n,r,a,o,H,c,i):hn.compressedTexImage2D(e,t,n,r,a,o,c?H.subarray(c,c+i):null)},ea:function(e,t,n,r,a,o,i,c,s){2<=Yt.version?hn.Je?hn.compressedTexSubImage2D(e,t,n,r,a,o,i,c,s):hn.compressedTexSubImage2D(e,t,n,r,a,o,i,H,s,c):hn.compressedTexSubImage2D(e,t,n,r,a,o,i,s?H.subarray(s,s+c):null)},fa:function(e,t,n,r,a,o,i,c){hn.copyTexSubImage2D(e,t,n,r,a,o,i,c)},ga:function(){var e=Nt(Mt),t=hn.createProgram();return t.name=e,t.ef=t.cf=t.df=0,t.uf=1,Mt[e]=t,e},ha:function(e){var t=Nt(Rt);return Rt[t]=hn.createShader(e),t},ia:function(e){hn.cullFace(e)},ja:function(e,t){for(var n=0;n<e;n++){var r=N[t+4*n>>2],a=It[r];a&&(hn.deleteBuffer(a),a.name=0,It[r]=null,r==hn.qf&&(hn.qf=0),r==hn.Je&&(hn.Je=0))}},cc:function(e,t){for(var n=0;n<e;++n){var r=N[t+4*n>>2],a=At[r];a&&(hn.deleteFramebuffer(a),a.name=0,At[r]=null)}},ka:function(e){if(e){var t=Mt[e];t?(hn.deleteProgram(t),t.name=0,Mt[e]=null):Gt(1281)}},dc:function(e,t){for(var n=0;n<e;n++){var r=N[t+4*n>>2],a=Ft[r];a&&(hn.deleteRenderbuffer(a),a.name=0,Ft[r]=null)}},Ob:function(e,t){for(var n=0;n<e;n++){var r=N[t+4*n>>2],a=Et[r];a&&(hn.deleteSampler(a),a.name=0,Et[r]=null)}},la:function(e){if(e){var t=Rt[e];t?(hn.deleteShader(t),Rt[e]=null):Gt(1281)}},Wb:function(e){if(e){var t=Bt[e];t?(hn.deleteSync(t),t.name=0,Bt[e]=null):Gt(1281)}},ma:function(e,t){for(var n=0;n<e;n++){var r=N[t+4*n>>2],a=Lt[r];a&&(hn.deleteTexture(a),a.name=0,Lt[r]=null)}},vc:function(e,t){for(var n=0;n<e;n++){var r=N[t+4*n>>2];hn.deleteVertexArray(Dt[r]),Dt[r]=null}},yc:function(e,t){for(var n=0;n<e;n++){var r=N[t+4*n>>2];hn.deleteVertexArray(Dt[r]),Dt[r]=null}},na:function(e){hn.depthMask(!!e)},oa:function(e){hn.disable(e)},pa:function(e){hn.disableVertexAttribArray(e)},qa:function(e,t,n){hn.drawArrays(e,t,n)},sc:function(e,t,n,r){hn.drawArraysInstanced(e,t,n,r)},qc:function(e,t,n,r,a){hn.zf.drawArraysInstancedBaseInstanceWEBGL(e,t,n,r,a)},oc:function(e,t){for(var n=Xt[e],r=0;r<e;r++)n[r]=N[t+4*r>>2];hn.drawBuffers(n)},sa:function(e,t,n,r){hn.drawElements(e,t,n,r)},tc:function(e,t,n,r,a){hn.drawElementsInstanced(e,t,n,r,a)},rc:function(e,t,n,r,a,o,i){hn.zf.drawElementsInstancedBaseVertexBaseInstanceWEBGL(e,t,n,r,a,o,i)},ic:function(e,t,n,r,a,o){hn.drawElements(e,r,a,o)},ta:function(e){hn.enable(e)},ua:function(e){hn.enableVertexAttribArray(e)},Sb:function(e,t){return(e=hn.fenceSync(e,t))?(t=Nt(Bt),e.name=t,Bt[t]=e,t):0},va:function(){hn.finish()},wa:function(){hn.flush()},ec:function(e,t,n,r){hn.framebufferRenderbuffer(e,t,n,Ft[r])},fc:function(e,t,n,r,a){hn.framebufferTexture2D(e,t,n,Lt[r],a)},xa:function(e){hn.frontFace(e)},ya:function(e,t){Kt(e,t,"createBuffer",It)},gc:function(e,t){Kt(e,t,"createFramebuffer",At)},hc:function(e,t){Kt(e,t,"createRenderbuffer",Ft)},Pb:function(e,t){Kt(e,t,"createSampler",Et)},za:function(e,t){Kt(e,t,"createTexture",Lt)},wc:function(e,t){Kt(e,t,"createVertexArray",Dt)},zc:function(e,t){Kt(e,t,"createVertexArray",Dt)},Xb:function(e){hn.generateMipmap(e)},Aa:function(e,t,n){n?N[n>>2]=hn.getBufferParameter(e,t):Gt(1281)},Ba:function(){var e=hn.getError()||Ut;return Ut=0,e},Yb:function(e,t,n,r){((e=hn.getFramebufferAttachmentParameter(e,t,n))instanceof WebGLRenderbuffer||e instanceof WebGLTexture)&&(e=0|e.name),N[r>>2]=e},bb:function(e,t){qt(e,t)},Da:function(e,t,n,r){null===(e=hn.getProgramInfoLog(Mt[e]))&&(e="(unknown error)"),t=0<t&&r?_(e,H,r,t):0,n&&(N[n>>2]=t)},Ea:function(e,t,n){if(n)if(e>=Tt)Gt(1281);else if(e=Mt[e],35716==t)null===(e=hn.getProgramInfoLog(e))&&(e="(unknown error)"),N[n>>2]=e.length+1;else if(35719==t){if(!e.ef)for(t=0;t<hn.getProgramParameter(e,35718);++t)e.ef=Math.max(e.ef,hn.getActiveUniform(e,t).name.length+1);N[n>>2]=e.ef}else if(35722==t){if(!e.cf)for(t=0;t<hn.getProgramParameter(e,35721);++t)e.cf=Math.max(e.cf,hn.getActiveAttrib(e,t).name.length+1);N[n>>2]=e.cf}else if(35381==t){if(!e.df)for(t=0;t<hn.getProgramParameter(e,35382);++t)e.df=Math.max(e.df,hn.getActiveUniformBlockName(e,t).length+1);N[n>>2]=e.df}else N[n>>2]=hn.getProgramParameter(e,t);else Gt(1281)},Zb:function(e,t,n){n?N[n>>2]=hn.getRenderbufferParameter(e,t):Gt(1281)},Fa:function(e,t,n,r){null===(e=hn.getShaderInfoLog(Rt[e]))&&(e="(unknown error)"),t=0<t&&r?_(e,H,r,t):0,n&&(N[n>>2]=t)},Kb:function(e,t,n,r){e=hn.getShaderPrecisionFormat(e,t),N[n>>2]=e.rangeMin,N[n+4>>2]=e.rangeMax,N[r>>2]=e.precision},Ga:function(e,t,n){n?35716==t?(null===(e=hn.getShaderInfoLog(Rt[e]))&&(e="(unknown error)"),N[n>>2]=e?e.length+1:0):35720==t?(e=hn.getShaderSource(Rt[e]),N[n>>2]=e?e.length+1:0):N[n>>2]=hn.getShaderParameter(Rt[e],t):Gt(1281)},J:function(e){var t=zt[e];if(!t){switch(e){case 7939:t=Jt((t=(t=hn.getSupportedExtensions()||[]).concat(t.map((function(e){return"GL_"+e})))).join(" "));break;case 7936:case 7937:case 37445:case 37446:(t=hn.getParameter(e))||Gt(1280),t=t&&Jt(t);break;case 7938:t=hn.getParameter(7938),t=Jt(t=2<=Yt.version?"OpenGL ES 3.0 ("+t+")":"OpenGL ES 2.0 ("+t+")");break;case 35724:var n=(t=hn.getParameter(35724)).match(/^WebGL GLSL ES ([0-9]\.[0-9][0-9]?)(?:$| .*)/);null!==n&&(3==n[1].length&&(n[1]+="0"),t="OpenGL ES GLSL ES "+n[1]+" ("+t+")"),t=Jt(t);break;default:Gt(1280)}zt[e]=t}return t},cb:function(e,t){if(2>Yt.version)return Gt(1282),0;var n=Ht[e];if(n)return 0>t||t>=n.length?(Gt(1281),0):n[t];switch(e){case 7939:return n=(n=(n=hn.getSupportedExtensions()||[]).concat(n.map((function(e){return"GL_"+e})))).map((function(e){return Jt(e)})),n=Ht[e]=n,0>t||t>=n.length?(Gt(1281),0):n[t];default:return Gt(1280),0}},Ha:function(e,t){function n(e){return"]"==e.slice(-1)&&e.lastIndexOf("[")}t=D(t);var r,a=(e=Mt[e]).jf,o=e.Hg,i=0,c=t,s=n(t);if(!a)for(e.jf=a={},e.Ff={},r=0;r<hn.getProgramParameter(e,35718);++r){var u=hn.getActiveUniform(e,r),l=u.name;u=u.size;var d=n(l);d=0<d?l.slice(0,d):l;var f=e.uf;for(e.uf+=u,o[d]=[u,f],l=0;l<u;++l)a[f]=l,e.Ff[f++]=d}return 0<s&&(i=parseInt(t.slice(s+1))>>>0,c=t.slice(0,s)),(o=o[c])&&i<o[0]&&(a[i+=o[1]]=a[i]||hn.getUniformLocation(e,t))?i:-1},Lb:function(e,t,n){for(var r=Xt[t],a=0;a<t;a++)r[a]=N[n+4*a>>2];hn.invalidateFramebuffer(e,r)},Mb:function(e,t,n,r,a,o,i){for(var c=Xt[t],s=0;s<t;s++)c[s]=N[n+4*s>>2];hn.invalidateSubFramebuffer(e,c,r,a,o,i)},Tb:function(e){return hn.isSync(Bt[e])},Ia:function(e){return(e=Lt[e])?hn.isTexture(e):0},Ja:function(e){hn.lineWidth(e)},Ka:function(e){e=Mt[e],hn.linkProgram(e),e.jf=0,e.Hg={}},mc:function(e,t,n,r,a,o){hn.Df.multiDrawArraysInstancedBaseInstanceWEBGL(e,N,t>>2,N,n>>2,N,r>>2,W,a>>2,o)},nc:function(e,t,n,r,a,o,i,c){hn.Df.multiDrawElementsInstancedBaseVertexBaseInstanceWEBGL(e,N,t>>2,n,N,r>>2,N,a>>2,N,o>>2,W,i>>2,c)},La:function(e,t){3317==e&&(Vt=t),hn.pixelStorei(e,t)},pc:function(e){hn.readBuffer(e)},Ma:function(e,t,n,r,a,o,i){if(2<=Yt.version)if(hn.qf)hn.readPixels(e,t,n,r,a,o,i);else{var c=Zt(o);hn.readPixels(e,t,n,r,a,o,c,i>>31-Math.clz32(c.BYTES_PER_ELEMENT))}else(i=$t(o,a,n,r,i))?hn.readPixels(e,t,n,r,a,o,i):Gt(1280)},_b:function(e,t,n,r){hn.renderbufferStorage(e,t,n,r)},Vb:function(e,t,n,r,a){hn.renderbufferStorageMultisample(e,t,n,r,a)},Qb:function(e,t,n){hn.samplerParameteri(Et[e],t,n)},Rb:function(e,t,n){hn.samplerParameteri(Et[e],t,N[n>>2])},Na:function(e,t,n,r){hn.scissor(e,t,n,r)},Oa:function(e,t,n,r){for(var a="",o=0;o<t;++o){var i=r?N[r+4*o>>2]:-1;a+=D(N[n+4*o>>2],0>i?void 0:i)}hn.shaderSource(Rt[e],a)},Pa:function(e,t,n){hn.stencilFunc(e,t,n)},Qa:function(e,t,n,r){hn.stencilFuncSeparate(e,t,n,r)},Ra:function(e){hn.stencilMask(e)},Sa:function(e,t){hn.stencilMaskSeparate(e,t)},Ta:function(e,t,n){hn.stencilOp(e,t,n)},Ua:function(e,t,n,r){hn.stencilOpSeparate(e,t,n,r)},Va:function(e,t,n,r,a,o,i,c,s){if(2<=Yt.version)if(hn.Je)hn.texImage2D(e,t,n,r,a,o,i,c,s);else if(s){var u=Zt(c);hn.texImage2D(e,t,n,r,a,o,i,c,u,s>>31-Math.clz32(u.BYTES_PER_ELEMENT))}else hn.texImage2D(e,t,n,r,a,o,i,c,null);else hn.texImage2D(e,t,n,r,a,o,i,c,s?$t(c,i,r,a,s):null)},Wa:function(e,t,n){hn.texParameterf(e,t,n)},Xa:function(e,t,n){hn.texParameterf(e,t,U[n>>2])},Ya:function(e,t,n){hn.texParameteri(e,t,n)},Za:function(e,t,n){hn.texParameteri(e,t,N[n>>2])},jc:function(e,t,n,r,a){hn.texStorage2D(e,t,n,r,a)},_a:function(e,t,n,r,a,o,i,c,s){if(2<=Yt.version)if(hn.Je)hn.texSubImage2D(e,t,n,r,a,o,i,c,s);else if(s){var u=Zt(c);hn.texSubImage2D(e,t,n,r,a,o,i,c,u,s>>31-Math.clz32(u.BYTES_PER_ELEMENT))}else hn.texSubImage2D(e,t,n,r,a,o,i,c,null);else u=null,s&&(u=$t(c,i,a,o,s)),hn.texSubImage2D(e,t,n,r,a,o,i,c,u)},$a:function(e,t){hn.uniform1f(Qt(e),t)},ab:function(e,t,n){if(2<=Yt.version)hn.uniform1fv(Qt(e),U,n>>2,t);else{if(288>=t)for(var r=tn[t-1],a=0;a<t;++a)r[a]=U[n+4*a>>2];else r=U.subarray(n>>2,n+4*t>>2);hn.uniform1fv(Qt(e),r)}},Uc:function(e,t){hn.uniform1i(Qt(e),t)},Vc:function(e,t,n){if(2<=Yt.version)hn.uniform1iv(Qt(e),N,n>>2,t);else{if(288>=t)for(var r=nn[t-1],a=0;a<t;++a)r[a]=N[n+4*a>>2];else r=N.subarray(n>>2,n+4*t>>2);hn.uniform1iv(Qt(e),r)}},Wc:function(e,t,n){hn.uniform2f(Qt(e),t,n)},Xc:function(e,t,n){if(2<=Yt.version)hn.uniform2fv(Qt(e),U,n>>2,2*t);else{if(144>=t)for(var r=tn[2*t-1],a=0;a<2*t;a+=2)r[a]=U[n+4*a>>2],r[a+1]=U[n+(4*a+4)>>2];else r=U.subarray(n>>2,n+8*t>>2);hn.uniform2fv(Qt(e),r)}},Tc:function(e,t,n){hn.uniform2i(Qt(e),t,n)},Sc:function(e,t,n){if(2<=Yt.version)hn.uniform2iv(Qt(e),N,n>>2,2*t);else{if(144>=t)for(var r=nn[2*t-1],a=0;a<2*t;a+=2)r[a]=N[n+4*a>>2],r[a+1]=N[n+(4*a+4)>>2];else r=N.subarray(n>>2,n+8*t>>2);hn.uniform2iv(Qt(e),r)}},Rc:function(e,t,n,r){hn.uniform3f(Qt(e),t,n,r)},Qc:function(e,t,n){if(2<=Yt.version)hn.uniform3fv(Qt(e),U,n>>2,3*t);else{if(96>=t)for(var r=tn[3*t-1],a=0;a<3*t;a+=3)r[a]=U[n+4*a>>2],r[a+1]=U[n+(4*a+4)>>2],r[a+2]=U[n+(4*a+8)>>2];else r=U.subarray(n>>2,n+12*t>>2);hn.uniform3fv(Qt(e),r)}},Pc:function(e,t,n,r){hn.uniform3i(Qt(e),t,n,r)},Oc:function(e,t,n){if(2<=Yt.version)hn.uniform3iv(Qt(e),N,n>>2,3*t);else{if(96>=t)for(var r=nn[3*t-1],a=0;a<3*t;a+=3)r[a]=N[n+4*a>>2],r[a+1]=N[n+(4*a+4)>>2],r[a+2]=N[n+(4*a+8)>>2];else r=N.subarray(n>>2,n+12*t>>2);hn.uniform3iv(Qt(e),r)}},Nc:function(e,t,n,r,a){hn.uniform4f(Qt(e),t,n,r,a)},Mc:function(e,t,n){if(2<=Yt.version)hn.uniform4fv(Qt(e),U,n>>2,4*t);else{if(72>=t){var r=tn[4*t-1],a=U;n>>=2;for(var o=0;o<4*t;o+=4){var i=n+o;r[o]=a[i],r[o+1]=a[i+1],r[o+2]=a[i+2],r[o+3]=a[i+3]}}else r=U.subarray(n>>2,n+16*t>>2);hn.uniform4fv(Qt(e),r)}},Ac:function(e,t,n,r,a){hn.uniform4i(Qt(e),t,n,r,a)},Bc:function(e,t,n){if(2<=Yt.version)hn.uniform4iv(Qt(e),N,n>>2,4*t);else{if(72>=t)for(var r=nn[4*t-1],a=0;a<4*t;a+=4)r[a]=N[n+4*a>>2],r[a+1]=N[n+(4*a+4)>>2],r[a+2]=N[n+(4*a+8)>>2],r[a+3]=N[n+(4*a+12)>>2];else r=N.subarray(n>>2,n+16*t>>2);hn.uniform4iv(Qt(e),r)}},Cc:function(e,t,n,r){if(2<=Yt.version)hn.uniformMatrix2fv(Qt(e),!!n,U,r>>2,4*t);else{if(72>=t)for(var a=tn[4*t-1],o=0;o<4*t;o+=4)a[o]=U[r+4*o>>2],a[o+1]=U[r+(4*o+4)>>2],a[o+2]=U[r+(4*o+8)>>2],a[o+3]=U[r+(4*o+12)>>2];else a=U.subarray(r>>2,r+16*t>>2);hn.uniformMatrix2fv(Qt(e),!!n,a)}},Dc:function(e,t,n,r){if(2<=Yt.version)hn.uniformMatrix3fv(Qt(e),!!n,U,r>>2,9*t);else{if(32>=t)for(var a=tn[9*t-1],o=0;o<9*t;o+=9)a[o]=U[r+4*o>>2],a[o+1]=U[r+(4*o+4)>>2],a[o+2]=U[r+(4*o+8)>>2],a[o+3]=U[r+(4*o+12)>>2],a[o+4]=U[r+(4*o+16)>>2],a[o+5]=U[r+(4*o+20)>>2],a[o+6]=U[r+(4*o+24)>>2],a[o+7]=U[r+(4*o+28)>>2],a[o+8]=U[r+(4*o+32)>>2];else a=U.subarray(r>>2,r+36*t>>2);hn.uniformMatrix3fv(Qt(e),!!n,a)}},Ec:function(e,t,n,r){if(2<=Yt.version)hn.uniformMatrix4fv(Qt(e),!!n,U,r>>2,16*t);else{if(18>=t){var a=tn[16*t-1],o=U;r>>=2;for(var i=0;i<16*t;i+=16){var c=r+i;a[i]=o[c],a[i+1]=o[c+1],a[i+2]=o[c+2],a[i+3]=o[c+3],a[i+4]=o[c+4],a[i+5]=o[c+5],a[i+6]=o[c+6],a[i+7]=o[c+7],a[i+8]=o[c+8],a[i+9]=o[c+9],a[i+10]=o[c+10],a[i+11]=o[c+11],a[i+12]=o[c+12],a[i+13]=o[c+13],a[i+14]=o[c+14],a[i+15]=o[c+15]}}else a=U.subarray(r>>2,r+64*t>>2);hn.uniformMatrix4fv(Qt(e),!!n,a)}},Fc:function(e){e=Mt[e],hn.useProgram(e),hn.Of=e},Gc:function(e,t){hn.vertexAttrib1f(e,t)},Hc:function(e,t){hn.vertexAttrib2f(e,U[t>>2],U[t+4>>2])},Ic:function(e,t){hn.vertexAttrib3f(e,U[t>>2],U[t+4>>2],U[t+8>>2])},Jc:function(e,t){hn.vertexAttrib4f(e,U[t>>2],U[t+4>>2],U[t+8>>2],U[t+12>>2])},kc:function(e,t){hn.vertexAttribDivisor(e,t)},lc:function(e,t,n,r,a){hn.vertexAttribIPointer(e,t,n,r,a)},Kc:function(e,t,n,r,a,o){hn.vertexAttribPointer(e,t,n,!!r,a,o)},Lc:function(e,t,n,r){hn.viewport(e,t,n,r)},eb:function(e,t,n,r){hn.waitSync(Bt[e],t,(n>>>0)+4294967296*r)},e:function(e,t){throw Pn(e,t||1),"longjmp"},qb:function(e){var t=H.length;if(2147483648<(e>>>=0))return!1;for(var n=1;4>=n;n*=2){var r=t*(1+.2/n);r=Math.min(r,e+100663296),0<(r=Math.max(e,r))%65536&&(r+=65536-r%65536);e:{try{M.grow(Math.min(2147483648,r)-B.byteLength+65535>>>16),ee();var a=1;break e}catch(o){}a=void 0}if(a)return!0}return!1},fd:function(){return Yt?Yt.bg:0},Y:function(e){return Wt(e)?0:-5},ub:function(e,t){var n=0;return an().forEach((function(r,a){var o=t+n;for(a=N[e+4*a>>2]=o,o=0;o<r.length;++o)z[a++>>0]=r.charCodeAt(o);z[a>>0]=0,n+=r.length+1})),0},vb:function(e,t){var n=an();N[e>>2]=n.length;var r=0;return n.forEach((function(e){r+=e.length+1})),N[t>>2]=r,0},Fb:function(e){I||(c.onExit&&c.onExit(e),A=!0),h(e,new In(e))},F:function(){return 0},tb:function(e,t){return e=1==e||2==e?2:ue(),z[t>>0]=e,0},ob:function(e,t,n,r,a,o){return e=ve.Yf(e),t=ve.Pf(e,t,n,r),N[o>>2]=t,0},wb:function(e,t,n,r){return e=ve.Yf(e),t=ve.Pf(e,t,n),N[r>>2]=t,0},nb:function(){},O:function(e,t,n,r){for(var a=0,o=0;o<n;o++){for(var i=N[t+8*o>>2],c=N[t+(8*o+4)>>2],s=0;s<c;s++){var u=H[i+s],l=me[e];0===u||10===u?((1===e?w:k)(R(l,0)),l.length=0):l.push(u)}a+=c}return N[r>>2]=a,0},a:function(){return T},gd:function(e,t){hn.bindFramebuffer(e,At[t])},fb:function(e){hn.clear(e)},Cb:function(e,t,n,r){hn.clearColor(e,t,n,r)},kb:function(e){hn.clearStencil(e)},I:function(e,t){qt(e,t)},i:function(e,t){var n=wn();try{return te.get(e)(t)}catch(r){if(kn(n),r!==r+0&&"longjmp"!==r)throw r;Pn(1,0)}},o:function(e,t,n){var r=wn();try{return te.get(e)(t,n)}catch(a){if(kn(r),a!==a+0&&"longjmp"!==a)throw a;Pn(1,0)}},g:function(e,t,n,r){var a=wn();try{return te.get(e)(t,n,r)}catch(o){if(kn(a),o!==o+0&&"longjmp"!==o)throw o;Pn(1,0)}},D:function(e,t,n,r,a){var o=wn();try{return te.get(e)(t,n,r,a)}catch(i){if(kn(o),i!==i+0&&"longjmp"!==i)throw i;Pn(1,0)}},Jb:function(e,t,n,r,a,o){var i=wn();try{return te.get(e)(t,n,r,a,o)}catch(c){if(kn(i),c!==c+0&&"longjmp"!==c)throw c;Pn(1,0)}},W:function(e,t,n,r,a,o,i){var c=wn();try{return te.get(e)(t,n,r,a,o,i)}catch(s){if(kn(c),s!==s+0&&"longjmp"!==s)throw s;Pn(1,0)}},V:function(e,t,n,r,a,o,i,c,s,u){var l=wn();try{return te.get(e)(t,n,r,a,o,i,c,s,u)}catch(d){if(kn(l),d!==d+0&&"longjmp"!==d)throw d;Pn(1,0)}},U:function(e){var t=wn();try{te.get(e)()}catch(n){if(kn(t),n!==n+0&&"longjmp"!==n)throw n;Pn(1,0)}},k:function(e,t){var n=wn();try{te.get(e)(t)}catch(r){if(kn(n),r!==r+0&&"longjmp"!==r)throw r;Pn(1,0)}},r:function(e,t,n){var r=wn();try{te.get(e)(t,n)}catch(a){if(kn(r),a!==a+0&&"longjmp"!==a)throw a;Pn(1,0)}},h:function(e,t,n,r){var a=wn();try{te.get(e)(t,n,r)}catch(o){if(kn(a),o!==o+0&&"longjmp"!==o)throw o;Pn(1,0)}},q:function(e,t,n,r,a){var o=wn();try{te.get(e)(t,n,r,a)}catch(i){if(kn(o),i!==i+0&&"longjmp"!==i)throw i;Pn(1,0)}},Ib:function(e,t,n,r,a,o){var i=wn();try{te.get(e)(t,n,r,a,o)}catch(c){if(kn(i),c!==c+0&&"longjmp"!==c)throw c;Pn(1,0)}},Gb:function(e,t,n,r,a,o,i){var c=wn();try{te.get(e)(t,n,r,a,o,i)}catch(s){if(kn(c),s!==s+0&&"longjmp"!==s)throw s;Pn(1,0)}},Hb:function(e,t,n,r,a,o,i,c,s,u){var l=wn();try{te.get(e)(t,n,r,a,o,i,c,s,u)}catch(d){if(kn(l),d!==d+0&&"longjmp"!==d)throw d;Pn(1,0)}},b:function(e){T=e},sb:function(e,t,n,r){return dn(e,t,n,r)}};!function(){function e(e){c.asm=e.exports,M=c.asm.hd,ee(),te=c.asm.kd,re.unshift(c.asm.id),ie--,c.monitorRunDependencies&&c.monitorRunDependencies(ie),0==ie&&(null!==ce&&(clearInterval(ce),ce=null),se&&(e=se,se=null,e()))}function t(t){e(t.instance)}function n(e){return function(){if(!P&&(p||j)){if("function"===typeof fetch&&!de.startsWith("file://"))return fetch(de,{credentials:"same-origin"}).then((function(e){if(!e.ok)throw"failed to load wasm binary file at '"+de+"'";return e.arrayBuffer()})).catch((function(){return be()}));if(O)return new Promise((function(e,t){O(de,(function(t){e(new Uint8Array(t))}),t)}))}return Promise.resolve().then((function(){return be()}))}().then((function(e){return WebAssembly.instantiate(e,r)})).then(e,(function(e){k("failed to asynchronously prepare wasm: "+e),ue(e)}))}var r={a:vn};if(ie++,c.monitorRunDependencies&&c.monitorRunDependencies(ie),c.instantiateWasm)try{return c.instantiateWasm(r,e)}catch(a){return k("Module.instantiateWasm callback failed with error: "+a),!1}(P||"function"!==typeof WebAssembly.instantiateStreaming||le()||de.startsWith("file://")||"function"!==typeof fetch?n(t):fetch(de,{credentials:"same-origin"}).then((function(e){return WebAssembly.instantiateStreaming(e,r).then(t,(function(e){return k("wasm streaming compile failed: "+e),k("falling back to ArrayBuffer instantiation"),n(t)}))}))).catch(u)}(),c.___wasm_call_ctors=function(){return(c.___wasm_call_ctors=c.asm.id).apply(null,arguments)};var gn=c._memset=function(){return(gn=c._memset=c.asm.jd).apply(null,arguments)},On=c._malloc=function(){return(On=c._malloc=c.asm.ld).apply(null,arguments)},yn=c._free=function(){return(yn=c._free=c.asm.md).apply(null,arguments)},xn=c.___errno_location=function(){return(xn=c.___errno_location=c.asm.nd).apply(null,arguments)},Sn=c.___getTypeName=function(){return(Sn=c.___getTypeName=c.asm.od).apply(null,arguments)};c.___embind_register_native_and_builtin_types=function(){return(c.___embind_register_native_and_builtin_types=c.asm.pd).apply(null,arguments)};var Cn,wn=c.stackSave=function(){return(wn=c.stackSave=c.asm.qd).apply(null,arguments)},kn=c.stackRestore=function(){return(kn=c.stackRestore=c.asm.rd).apply(null,arguments)},Pn=c._setThrew=function(){return(Pn=c._setThrew=c.asm.sd).apply(null,arguments)},Tn=c._memalign=function(){return(Tn=c._memalign=c.asm.td).apply(null,arguments)};function In(e){this.name="ExitStatus",this.message="Program terminated with exit("+e+")",this.status=e}function Mn(){function e(){if(!Cn&&(Cn=!0,c.calledRun=!0,!A)){if(he(re),s(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),c.postRun)for("function"==typeof c.postRun&&(c.postRun=[c.postRun]);c.postRun.length;){var e=c.postRun.shift();ae.unshift(e)}he(ae)}}if(!(0<ie)){if(c.preRun)for("function"==typeof c.preRun&&(c.preRun=[c.preRun]);c.preRun.length;)oe();he(ne),0<ie||(c.setStatus?(c.setStatus("Running..."),setTimeout((function(){setTimeout((function(){c.setStatus("")}),1),e()}),1)):e())}}if(c.dynCall_ji=function(){return(c.dynCall_ji=c.asm.ud).apply(null,arguments)},c.dynCall_iiji=function(){return(c.dynCall_iiji=c.asm.vd).apply(null,arguments)},c.dynCall_iijjiii=function(){return(c.dynCall_iijjiii=c.asm.wd).apply(null,arguments)},c.dynCall_iij=function(){return(c.dynCall_iij=c.asm.xd).apply(null,arguments)},c.dynCall_vijjjii=function(){return(c.dynCall_vijjjii=c.asm.yd).apply(null,arguments)},c.dynCall_viji=function(){return(c.dynCall_viji=c.asm.zd).apply(null,arguments)},c.dynCall_vijiii=function(){return(c.dynCall_vijiii=c.asm.Ad).apply(null,arguments)},c.dynCall_viiiiij=function(){return(c.dynCall_viiiiij=c.asm.Bd).apply(null,arguments)},c.dynCall_viijii=function(){return(c.dynCall_viijii=c.asm.Cd).apply(null,arguments)},c.dynCall_jiiii=function(){return(c.dynCall_jiiii=c.asm.Dd).apply(null,arguments)},c.dynCall_jii=function(){return(c.dynCall_jii=c.asm.Ed).apply(null,arguments)},c.dynCall_iiij=function(){return(c.dynCall_iiij=c.asm.Fd).apply(null,arguments)},c.dynCall_iiiij=function(){return(c.dynCall_iiiij=c.asm.Gd).apply(null,arguments)},c.dynCall_viij=function(){return(c.dynCall_viij=c.asm.Hd).apply(null,arguments)},c.dynCall_viiij=function(){return(c.dynCall_viiij=c.asm.Id).apply(null,arguments)},c.dynCall_vij=function(){return(c.dynCall_vij=c.asm.Jd).apply(null,arguments)},c.dynCall_jiiiiii=function(){return(c.dynCall_jiiiiii=c.asm.Kd).apply(null,arguments)},c.dynCall_jiiiiji=function(){return(c.dynCall_jiiiiji=c.asm.Ld).apply(null,arguments)},c.dynCall_iijj=function(){return(c.dynCall_iijj=c.asm.Md).apply(null,arguments)},c.dynCall_jiji=function(){return(c.dynCall_jiji=c.asm.Nd).apply(null,arguments)},c.dynCall_iiiiij=function(){return(c.dynCall_iiiiij=c.asm.Od).apply(null,arguments)},c.dynCall_iiiiijj=function(){return(c.dynCall_iiiiijj=c.asm.Pd).apply(null,arguments)},c.dynCall_iiiiiijj=function(){return(c.dynCall_iiiiiijj=c.asm.Qd).apply(null,arguments)},se=function e(){Cn||Mn(),Cn||(se=e)},c.run=Mn,c.preInit)for("function"==typeof c.preInit&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return Mn(),e.ready}}();"object"===typeof exports&&"object"===typeof o?o.exports=c:"function"===typeof define&&n(249)?define([],(function(){return c})):"object"===typeof exports&&(exports.CanvasKitInit=c)}.call(this,"/index.js",n(130).Buffer,n(92),"/",n(174)(e))},,,,,,,,,,,,function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r=n(1),a=n(0),o=n(42),i=n(4),c=n(2),s=n(22),u=n.n(s),l=n(25),d=n(86),f=n.n(d);function b(e,t){return h.apply(this,arguments)}function h(){return(h=Object(l.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.file(n).async("string");case 2:return r=e.sent,e.abrupt("return",JSON.parse(r));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(e){return j.apply(this,arguments)}function j(){return(j=Object(l.a)(u.a.mark((function e(t){var n,r,a=arguments;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]?a[1]:"",e.next=3,Promise.all(Object.entries(t.files).filter((function(e){return Object(i.a)(e,1)[0].startsWith(n)})).map((function(e){var t=Object(i.a)(e,2),n=t[0];return t[1].async("arraybuffer").then((function(e){return[n,e]}))})));case 3:return r=e.sent,e.abrupt("return",Object.fromEntries(r));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e){return v.apply(this,arguments)}function v(){return(v=Object(l.a)(u.a.mark((function e(t){var n,r,a,o,c,s,l,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.loadAsync(t);case 2:return n=e.sent,e.next=5,Promise.all([b(n,"document.json"),b(n,"meta.json"),b(n,"user.json"),p(n,"images/")]);case 5:return r=e.sent,a=Object(i.a)(r,4),o=a[0],c=a[1],s=a[2],l=a[3],e.next=13,Promise.all(o.pages.map((function(e){return b(n,"".concat(e._ref,".json"))})));case 13:return d=e.sent,e.abrupt("return",{document:o,meta:c,user:s,pages:d,images:l});case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function g(e){return O.apply(this,arguments)}function O(){return(O=Object(l.a)(u.a.mark((function e(t){var n,r,a,o,s,l,d;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.document,r=t.meta,a=t.user,o=t.pages,s=t.images,l=new f.a,d=Object(c.a)(Object(c.a)({},n),{},{pages:o.map((function(e){return{_class:"MSJSONFileReference",_ref_class:"MSImmutablePage",_ref:"pages/".concat(e.do_objectID)}}))}),l.file("document.json",JSON.stringify(d)),l.file("meta.json",JSON.stringify(r)),l.file("user.json",JSON.stringify(a)),o.forEach((function(e){l.file("pages/".concat(e.do_objectID,".json"),JSON.stringify(e))})),Object.entries(s).forEach((function(e){var t=Object(i.a)(e,2),n=t[0],r=t[1];l.file(n,r)})),e.abrupt("return",l.generateAsync({type:"arraybuffer",mimeType:"application/zip"}));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var y=n(5),x=n(19),S=n(15),C=n(3),w=n(8),k=n(12),P=n(216),T=n(6),I=n(11),M=n(127);function A(e,t){var n,r,a,o,i=e.split(/-(?!$)/),c=i[i.length-1];"Space"===c&&(c=" ");for(var s=0;s<i.length-1;++s){var u=i[s];if(/^(cmd|meta|m)$/i.test(u))o=!0;else if(/^a(lt)?$/i.test(u))n=!0;else if(/^(c|ctrl|control)$/i.test(u))r=!0;else if(/^s(hift)?$/i.test(u))a=!0;else{if(!/^mod$/i.test(u))throw new Error("Unrecognized modifier name: "+u);"mac"===t?o=!0:r=!0}}return n&&(c="Alt-"+c),r&&(c="Ctrl-"+c),o&&(c="Meta-"+c),a&&(c="Shift-"+c),c}function F(e,t,n){return t.altKey&&(e="Alt-"+e),t.ctrlKey&&(e="Ctrl-"+e),t.metaKey&&(e="Meta-"+e),!1!==n&&t.shiftKey&&(e="Shift-"+e),e}var L=new Set(["Alt","Control","Meta","Shift"]);function R(e,t){var n,r=Object(M.b)(e),a=1===r.length&&" "!==r,o={altKey:e.altKey,shiftKey:e.shiftKey,ctrlKey:e.ctrlKey,metaKey:e.metaKey},i=A(L.has(r)?r:F(r,o,!a),t),c=[i],s=M.a[e.keyCode];a&&((e.shiftKey||e.altKey||e.metaKey)&&s&&s!==i?n=A(F(s,o,!0),t):e.shiftKey&&(n=A(F(i,o,!0),t)),n&&!c.includes(n)&&c.push(n));return c}function D(e,t){var n=Array.isArray(e)?e:Object.entries(e);return Object.fromEntries(n.flatMap((function(e){var n=Object(i.a)(e,2),r=n[0],a=n[1],o=function(e,t){var n=e[t]||e.key;return n?A(n,t):void 0}("string"===typeof r?{key:r}:r,t);return o?[[o,a]]:[]})))}var _=function(e){return"undefined"===typeof e?"key":/Mac/.test(e.platform)?"mac":/Win/.test(e.platform)?"win":/Linux|X11/.test(e.platform)?"linux":"key"};function E(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=1===t.length?["keydown",t[0]]:t,o=Object(i.a)(r,2),c=o[0],s=o[1],u=_(navigator),l=Object(a.useMemo)((function(){return D(s,u)}),[u,s]),d=Object(a.useRef)(l);Object(a.useEffect)((function(){d.current=l})),Object(a.useEffect)((function(){var e=function(e){if(!(e.target instanceof HTMLInputElement)){var t=R(e,u).find((function(e){return e in d.current}));if(t)e.preventDefault(),e.stopImmediatePropagation(),(0,d.current[t])()}};return document.addEventListener(c,e,!0),function(){document.removeEventListener(c,e,!0)}}),[c,u])}var B=n(10),z=n(218);function H(e,t){return t.includes(e.type)}var V=w.b.div((function(){return{display:"flex",flex:1}})),G=Object(a.memo)((function(e){var t=e.children,n=e.onDropFile,o=e.supportedFileTypes,s=function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,2),r=n[0],o=n[1],c=Object(a.useCallback)((function(e,t){void 0!==t&&o(t),e.preventDefault()}),[]),s=Object(a.useCallback)((function(t){e(t),o(!1)}),[e,o]);return{dropTargetProps:{onDragOver:c,onDragEnter:function(e){return c(e,!0)},onDragLeave:function(e){return c(e,!1)},onDrop:s},isDropTargetActive:r}}(Object(a.useCallback)((function(e){if(e.preventDefault(),e.dataTransfer){var t=e.dataTransfer.files[0];if(t)if(H(t,o)){var r={offsetX:e.nativeEvent.offsetX,offsetY:e.nativeEvent.offsetY};n(t,r)}else alert("Files of type ".concat(t.type," aren't supported. The following types are supported: ").concat(o.join(", ")));else alert("Unable to read file")}}),[n,o])),u=s.dropTargetProps,l=s.isDropTargetActive;return Object(r.jsx)(V,Object(c.a)(Object(c.a)({},u),{},{children:"function"===typeof t?t(l):t}))}));function N(e){var t=Object(a.useRef)(e);return Object(B.isShallowEqual)(t.current,e)||(t.current=e),t.current}function W(e){var t=Object(k.c)(),n=e.length>0,r=1===e.length&&y.Layers.isGroup(e[0]),o=1===e.length&&y.Layers.isSymbolInstance(e[0]),i=e.every((function(e){return function(e){switch(e){case"bitmap":case"oval":case"polygon":case"rectangle":case"shapeGroup":case"shapePath":case"star":case"triangle":return!0;case"page":case"artboard":case"group":case"MSImmutableHotspotLayer":case"slice":case"symbolInstance":case"symbolMaster":case"text":return!1}}(e._class)})),c=e.every((function(e){return function(e){switch(e){case"bitmap":case"group":case"oval":case"polygon":case"rectangle":case"shapeGroup":case"shapePath":case"star":case"symbolInstance":case"text":case"triangle":return!0;case"page":case"artboard":case"MSImmutableHotspotLayer":case"slice":case"symbolMaster":return!1}}(e._class)})),s=Object(a.useMemo)((function(){return e.length>=1&&!e.some(y.Layers.isSymbolMaster)&&(e.every(y.Layers.isArtboard)||e.every((function(e){return!y.Layers.isArtboard(e)})))}),[e]),u=e.length>1&&!y.Layers.isArtboard(e[0]),l=!e.every((function(e){return e.hasClippingMask})),d=!e.every((function(e){return 1===e.clippingMaskMode})),f=!e.every((function(e){return e.shouldBreakMaskChain})),b=e.some((function(e){return e.isLocked})),h=!b&&e.every((function(e){return!y.Layers.isSymbolMasterOrArtboard(e)})),p=e.some((function(e){return!e.isVisible})),j=Object(a.useMemo)((function(){return n?Object(C.createSectionedMenu)([s&&{value:"createSymbol",title:"Create Symbol"},o&&{value:"detachSymbol",title:"Detach Symbol"}],[{value:"group",title:"Group"},r&&{value:"ungroup",title:"Ungroup"}],[{value:"duplicate",title:"Duplicate"}],[{value:"delete",title:"Delete"}],[b&&{value:"unlock",title:"Unlock"},h&&{value:"lock",title:"Lock"},p&&{value:"show",title:"Show"},!p&&{value:"hide",title:"Hide"}],[i&&{value:"useAsMask",title:"Use as mask",checked:!l},i&&{value:"isAlphaMask",title:"Mask using alpha",checked:!d},c&&{value:"ignoreMasks",title:"Ignore masks",checked:!f}]):[{value:"selectAll",title:"Select All"}]}),[i,c,s,o,h,p,r,b,n,d,f,l]),m=N(e.map((function(e){return e.do_objectID})));return[j,Object(a.useCallback)((function(e){switch(e){case"selectAll":return void t("selectAllLayers");case"delete":return void t("deleteLayer",m);case"duplicate":return void t("duplicateLayer",m);case"group":var n=prompt("New Group Name");if(!n)return;return void t("groupLayer",m,n);case"ungroup":return void t("ungroupLayer",m);case"createSymbol":var r=u?prompt("New Symbol Name"):" ";if(!r)return;return void t("createSymbol",m,r);case"detachSymbol":return void t("detachSymbol",m);case"useAsMask":return void t("setHasClippingMask",l);case"ignoreMasks":return void t("setShouldBreakMaskChain",f);case"isAlphaMask":return void t("setMaskMode",d?"alpha":"outline");case"lock":return void t("setLayerIsLocked",m,!0);case"unlock":return void t("setLayerIsLocked",m,!1);case"show":return void t("setLayerVisible",m,!0);case"hide":return void t("setLayerVisible",m,!1)}}),[t,d,f,l,m,u])]}function U(e){var t=a.useState(void 0),n=Object(i.a)(t,2),r=n[0],o=n[1];return a.useEffect((function(){if(e.current){var t=e.current,n=new ResizeObserver((function(e){if(Array.isArray(e)&&e.length){var n,r,a=e[0];if("borderBoxSize"in a){var i=a.borderBoxSize,c=Array.isArray(i)?i[0]:i;n=c.inlineSize,r=c.blockSize}else{var s=t.getBoundingClientRect();n=s.width,r=s.height}o({width:n,height:r})}}));return n.observe(t,{box:"border-box"}),function(){o(void 0),n.unobserve(t)}}}),[e]),r}var Y=n(20),X=w.b.canvas({position:"absolute",inset:0,zIndex:-1}),K=Object(a.memo)((function(e){var t=e.size,n=Object(w.c)(),o=Object(k.h)(),c=Object(a.useState)(null),s=Object(i.a)(c,2),u=s[0],l=s[1],d=Object(a.useRef)(null),f=Object(x.o)();return Object(a.useLayoutEffect)((function(){var e=d.current;if(e){e.width=t.width,e.height=t.height;var n=f.MakeCanvasSurface(e);if(n)return l(n),function(){null===n||void 0===n||n.delete()};console.warn("failed to create surface")}}),[f,t]),Object(a.useLayoutEffect)((function(){if(u&&!u.isDeleted())try{return Object(Y.render)(Object(r.jsx)(x.a,{children:Object(r.jsx)(w.a,{theme:n,children:Object(r.jsx)(k.a,{state:o,children:Object(r.jsx)(x.f,{children:Object(r.jsx)(x.c,{children:Object(r.jsx)(x.b,{value:Y.Components,children:Object(r.jsx)(x.k,{})})})})})})}),u,f),function(){u.isDeleted()&&Object(Y.unmount)(u)}}catch(e){console.warn("rendering error",e)}}),[f,o,n,u]),Object(r.jsx)(X,{ref:d})})),q=w.b.div((function(e){var t=e.insets;return{position:"absolute",top:-t.top,bottom:-t.bottom,right:-t.right,left:-t.left,zIndex:-1}}));function J(e){return{x:Math.round(e.offsetX),y:Math.round(e.offsetY)}}function Z(e,t){return Math.abs(e.x-t.x)>2||Math.abs(e.y-t.y)>2}var $=w.b.div((function(e){return{flex:"1",position:"relative",cursor:e.cursor}})),Q=Object(a.memo)((function(){var e=Object(w.c)().sizes.sidebarWidth,t=Object(k.b)(),n=Object(i.a)(t,2),o=n[0],s=n[1],d=Object(a.useRef)(null),f=Object(x.o)(),b=U(d),h=Object(k.f)(y.Selectors.getCurrentPageMetadata),p=Object(k.g)(),j=p.setCanvasSize,m=p.highlightLayer,v=p.highlightedLayer,g=Object(z.a)({onWheel:function(e){var t=Object(i.a)(e.delta,2),n=t[0],r=t[1];s("pan",{x:n,y:r})}}),O=y.Selectors.getIsEditingPath(o.interactionState.type),S=function(e,t){O&&o.selectedControlPoint?s("setControlPoint".concat(e),t,"adjust"):O?s("setPoint".concat(e),o.selectedPointLists,t,"adjust"):s("setLayer".concat(e),t,"adjust")};E({ArrowLeft:function(){return S("X",-1)},ArrowRight:function(){return S("X",1)},ArrowUp:function(){return S("Y",-1)},ArrowDown:function(){return S("Y",1)},"Shift-ArrowLeft":function(){return S("X",-10)},"Shift-ArrowRight":function(){return S("X",10)},"Shift-ArrowUp":function(){return S("Y",-10)},"Shift-ArrowDown":function(){return S("Y",10)},Backspace:function(){return s("deleteLayer",o.selectedObjects)},Escape:function(){return s("interaction",["reset"])},Shift:function(){return s("setKeyModifier","shiftKey",!0)}}),E("keyup",{Shift:function(){return s("setKeyModifier","shiftKey",!1)}});var P=Object(a.useMemo)((function(){return{left:e,right:e,top:0,bottom:0}}),[e]);Object(a.useLayoutEffect)((function(){b&&j(b,P)}),[P,j,b]);var M=Object(a.useMemo)((function(){return null!==b&&void 0!==b?b:{width:0,height:0}}),[b]),A=Object(a.useMemo)((function(){return b&&b.width>0&&b.height>0?{width:b.width+P.left+P.right,height:b.height}:void 0}),[b,P.left,P.right]),F=Object(a.useCallback)((function(e){return{x:e.x-h.scrollOrigin.x,y:e.y-h.scrollOrigin.y}}),[h]),L=Object(k.f)(y.Selectors.getSelectedLayers),R=W(L),D=Object(i.a)(R,2),_=D[0],H=D[1],V=Object(a.useCallback)((function(e){var t=J(e.nativeEvent),n=F(t);if(function(e){return 2===e.button}(e)){var r=y.Selectors.getLayerAtPoint(f,o,P,t,{clickThroughGroups:e.metaKey,includeHiddenLayers:!1,includeArtboardLayers:!1});r?o.selectedObjects.includes(r.do_objectID)||s("selectLayer",r.do_objectID):s("selectLayer",void 0)}else if(function(e){return 0===e.button}(e))switch(o.interactionState.type){case"insertArtboard":case"insertRectangle":case"insertOval":case"insertText":var a=Object(B.uuid)();s("interaction",["startDrawing",o.interactionState.type.slice(6).toLowerCase(),a,n]);break;case"insertingSymbol":s("addSymbolLayer",o.interactionState.symbolID,n),s("interaction",["reset"]);break;case"panMode":var i;s("interaction",["maybePan",t]),null===(i=d.current)||void 0===i||i.setPointerCapture(e.pointerId),e.preventDefault();break;case"drawingShapePath":s("addShapePathLayer",n),s("interaction",["maybeConvertCurveMode",n]);break;case"editPath":var c,u=o.keyModifiers.shiftKey,l=void 0,b=y.Selectors.getBoundingRectMap(y.Selectors.getCurrentPage(o),o.selectedObjects,{clickThroughGroups:!0,includeArtboardLayers:!1,includeHiddenLayers:!1});y.Selectors.getSelectedLayers(o).filter(y.Layers.isPointsLayer).forEach((function(e){var t=b[e.do_objectID];e.points.forEach((function(r,a){var o=Object(y.decodeCurvePoint)(r,t);y.Selectors.isPointInRange(o.point,n)?l=[e.do_objectID,a]:y.Selectors.isPointInRange(o.curveTo,n)?c={layerId:e.do_objectID,pointIndex:a,controlPointType:"curveTo"}:y.Selectors.isPointInRange(o.curveFrom,n)&&(c={layerId:e.do_objectID,pointIndex:a,controlPointType:"curveFrom"})}))}));var h=y.Selectors.getIndexPathOfOpenShapeLayer(o);if(l)if(y.Selectors.canClosePath(o,l)&&!u)s("setIsClosed",!0),s("selectPoint",l);else{var p,j=null===(p=o.selectedPointLists[l[0]])||void 0===p?void 0:p.includes(l[1]);s("selectPoint",l,u||e.metaKey?j?"difference":"intersection":"replace"),s("interaction",["maybeMovePoint",n])}else c?(s("selectControlPoint",c.layerId,c.pointIndex,c.controlPointType),s("interaction",["maybeMoveControlPoint",n])):h?(s("addPointToPath",n),s("interaction",["maybeConvertCurveMode",n])):u||e.metaKey||s("interaction",["reset"]);break;case"hoverHandle":case"none":if(o.selectedObjects.length>0){var m=y.Selectors.getScaleDirectionAtPoint(o,n);if(m)return void s("interaction",["maybeScale",n,m,M])}var v=y.Selectors.getLayerAtPoint(f,o,P,t,{clickThroughGroups:e.metaKey,includeHiddenLayers:!1,includeArtboardLayers:!1});v?(o.selectedObjects.includes(v.do_objectID)?e.shiftKey&&1!==o.selectedObjects.length&&s("selectLayer",v.do_objectID,"difference"):s("selectLayer",v.do_objectID,e.shiftKey?"intersection":"replace"),s("interaction",["maybeMove",n,M])):(s("selectLayer",void 0),s("interaction",["startMarquee",t]))}}),[F,o,f,P,s,M]),N=Object(a.useCallback)((function(e){var t=J(e.nativeEvent),n=F(t);switch(o.interactionState.type){case"insertingSymbol":s("interaction",["insertingSymbol",o.interactionState.symbolID,n]);break;case"editPath":s("interaction",["resetEditPath",n]);break;case"drawingShapePath":s("interaction",["drawingShapePath",n]);break;case"maybePan":s("interaction",["startPanning",t]),e.preventDefault();break;case"panning":s("interaction",["updatePanning",t]),e.preventDefault();break;case"maybeMove":case"maybeScale":var r;Z(n,o.interactionState.origin)&&s("interaction",["maybeMove"===o.interactionState.type?"startMoving":"startScaling",n]),null===(r=d.current)||void 0===r||r.setPointerCapture(e.pointerId),e.preventDefault();break;case"maybeMovePoint":var a,i=o.interactionState.origin;Z(n,i)&&s("interaction",["movingPoint",i,n]),null===(a=d.current)||void 0===a||a.setPointerCapture(e.pointerId),e.preventDefault();break;case"movingPoint":var c,u=o.interactionState.origin;s("interaction",["updateMovingPoint",u,n]),null===(c=d.current)||void 0===c||c.setPointerCapture(e.pointerId),e.preventDefault();break;case"maybeConvertCurveMode":var l,b=o.interactionState.origin;Z(n,b)&&(s("setPointCurveMode",T.a.CurveMode.Mirrored),s("selectControlPoint",L[0].do_objectID,0,"curveFrom"),s("interaction",["maybeMoveControlPoint",b]),s("interaction",["movingControlPoint",b,n])),e.preventDefault(),null===(l=d.current)||void 0===l||l.setPointerCapture(e.pointerId);break;case"maybeMoveControlPoint":var h,p=o.interactionState.origin;Z(n,p)&&s("interaction",["movingControlPoint",p,n]),e.preventDefault(),null===(h=d.current)||void 0===h||h.setPointerCapture(e.pointerId);break;case"movingControlPoint":var j,g=o.interactionState.origin;s("interaction",["updateMovingControlPoint",g,n]),null===(j=d.current)||void 0===j||j.setPointerCapture(e.pointerId),e.preventDefault();break;case"moving":case"scaling":var O;s("interaction",["moving"===o.interactionState.type?"updateMoving":"updateScaling",n]),null===(O=d.current)||void 0===O||O.setPointerCapture(e.pointerId),e.preventDefault();break;case"drawing":var x;s("interaction",["updateDrawing",n]),null===(x=d.current)||void 0===x||x.setPointerCapture(e.pointerId),e.preventDefault();break;case"marquee":var S;s("interaction",["updateMarquee",t]),null===(S=d.current)||void 0===S||S.setPointerCapture(e.pointerId),e.preventDefault();var C=o.interactionState,w=C.origin,k=C.current,M=y.Selectors.getLayersInRect(o,P,Object(I.createRect)(w,k),{clickThroughGroups:e.metaKey,includeHiddenLayers:!1,includeArtboardLayers:!1});s("selectLayer",M.map((function(e){return e.do_objectID})));break;case"hoverHandle":var A=y.Selectors.getScaleDirectionAtPoint(o,n);A?A!==o.interactionState.direction&&s("interaction",["hoverHandle",A]):s("interaction",["reset"]);break;case"none":var R=y.Selectors.getLayerAtPoint(f,o,P,t,{clickThroughGroups:e.metaKey,includeHiddenLayers:!1,includeArtboardLayers:!1});if((null===v||void 0===v?void 0:v.id)!==(null===R||void 0===R?void 0:R.do_objectID)&&m(R?{id:R.do_objectID,precedence:"belowSelection",isMeasured:e.altKey}:void 0),o.selectedObjects.length>0){var D=y.Selectors.getScaleDirectionAtPoint(o,n);if(D)return void s("interaction",["hoverHandle",D])}}}),[F,o,s,f,L,P,null===v||void 0===v?void 0:v.id,m]),Y=Object(a.useCallback)((function(e){var t,n=J(e.nativeEvent),r=F(n);switch(o.interactionState.type){case"maybePan":s("interaction",["enablePanMode"]),null===(t=d.current)||void 0===t||t.releasePointerCapture(e.pointerId);break;case"panning":var a;s("interaction",["updatePanning",n]),s("interaction",["enablePanMode"]),null===(a=d.current)||void 0===a||a.releasePointerCapture(e.pointerId);break;case"drawing":var i;s("interaction",["updateDrawing",r]),s("addDrawnLayer"),null===(i=d.current)||void 0===i||i.releasePointerCapture(e.pointerId);break;case"marquee":var c;s("interaction",["reset"]);var u=o.interactionState,l=u.origin,f=u.current,b=y.Selectors.getLayersInRect(o,P,Object(I.createRect)(l,f),{clickThroughGroups:e.metaKey,includeHiddenLayers:!1,includeArtboardLayers:!1});s("selectLayer",b.map((function(e){return e.do_objectID}))),null===(c=d.current)||void 0===c||c.releasePointerCapture(e.pointerId);break;case"maybeMove":case"maybeScale":var h;s("interaction",["reset"]),null===(h=d.current)||void 0===h||h.releasePointerCapture(e.pointerId);break;case"moving":case"scaling":var p;s("interaction",["moving"===o.interactionState.type?"updateMoving":"updateScaling",r]),"moving"===o.interactionState.type&&s("moveLayersIntoParentAtPoint",r),s("interaction",["reset"]),null===(p=d.current)||void 0===p||p.releasePointerCapture(e.pointerId);break;case"maybeMoveControlPoint":case"movingControlPoint":case"maybeMovePoint":case"movingPoint":var j;s("interaction",["resetEditPath",r]),null===(j=d.current)||void 0===j||j.releasePointerCapture(e.pointerId);break;case"maybeConvertCurveMode":s("interaction",["resetEditPath",r])}}),[F,o,s,P]),X="hoverHandle"===o.interactionState.type||"maybeScale"===o.interactionState.type||"scaling"===o.interactionState.type?o.interactionState.direction:void 0,Q=Object(a.useMemo)((function(){switch(o.interactionState.type){case"panning":case"maybePan":return"grabbing";case"panMode":return"grab";case"insertArtboard":case"insertOval":case"insertRectangle":case"insertText":case"drawingShapePath":return"crosshair";case"maybeScale":case"scaling":case"hoverHandle":return X?function(e,t){if(Object(y.getSelectedLineLayer)(t))return"move";switch(e){case"e":case"w":return"ew-resize";case"n":case"s":return"ns-resize";case"ne":case"sw":return"nesw-resize";case"nw":case"se":return"nwse-resize"}}(X,o):"default";case"editPath":var e=o.interactionState.point;return e?y.Selectors.getCursorForEditPathMode(o,e):"default";case"maybeMoveControlPoint":case"maybeMovePoint":case"movingControlPoint":case"movingPoint":return"move";default:return"default"}}),[o,X]),ee=Object(a.useCallback)(function(){var e=Object(l.a)(u.a.mark((function e(t,n){var r,a,o,i,l,d,b,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=J(n),a=F(r),"image/svg+xml"!==t.type){e.next=9;break}return e.next=5,t.text();case 5:return o=e.sent,i=t.name.replace(/\.svg$/,""),s("importSvg",a,i,o),e.abrupt("return");case 9:return e.next=11,t.arrayBuffer();case 11:if(l=e.sent,d=f.MakeImageFromEncoded(l)){e.next=15;break}return e.abrupt("return");case 15:b={width:d.width(),height:d.height()},h=Object(c.a)(Object(c.a)({},b),{},{x:a.x-b.width/2,y:a.y-b.height/2}),s("insertBitmap",l,{name:t.name,frame:h,extension:Object(B.getFileExtensionForType)(t.type)});case 18:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),[f,s,F]);return Object(r.jsx)(G,{onDropFile:ee,supportedFileTypes:C.SUPPORTED_IMAGE_UPLOAD_TYPES,children:Object(r.jsx)(C.ContextMenu,{items:_,onSelect:H,children:Object(r.jsx)($,Object(c.a)(Object(c.a)({ref:d,cursor:Q},Object(C.mergeEventHandlers)(g(),{onPointerDown:V,onPointerMove:N,onPointerUp:Y})),{},{children:Object(r.jsx)(q,{insets:P,children:A&&Object(r.jsx)(K,{size:A})})}))})})})),ee=Object(a.memo)((function(e){var t=e.id,n=e.value,o=e.onSetValue,i=e.label,c=e.size,s=Object(a.useCallback)((function(e){return o(e,"adjust")}),[o]),u=Object(a.useCallback)((function(e){return o(e,"replace")}),[o]);return Object(r.jsxs)(C.InputField.Root,{id:t,size:c,children:[Object(r.jsx)(C.InputField.NumberInput,{value:n,placeholder:void 0===n?"multi":void 0,onNudge:s,onSubmit:u}),i&&Object(r.jsx)(C.InputField.Label,{children:i})]})})),te=n(13),ne=function(e){var t=e.color,n=void 0===t?"currentColor":t,a=Object(te.a)(e,["color"]);return Object(r.jsxs)("svg",Object(c.a)(Object(c.a)({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),{},{children:[Object(r.jsx)("path",{d:"M8.5 3V12C8.5 12.2761 8.72386 12.5 9 12.5H12C12.2761 12.5 12.5 12.2761 12.5 12V10.6336C12.5 10.5766 12.4903 10.5201 12.4713 10.4665L9.76481 2.83292C9.69406 2.63336 9.50528 2.5 9.29355 2.5H9C8.72386 2.5 8.5 2.72386 8.5 3Z",fill:n,stroke:n}),Object(r.jsx)("path",{d:"M6.5 3V12C6.5 12.2761 6.27614 12.5 6 12.5H3C2.72386 12.5 2.5 12.2761 2.5 12V10.6336C2.5 10.5766 2.50972 10.5201 2.52874 10.4665L5.23519 2.83292C5.30594 2.63336 5.49472 2.5 5.70645 2.5H6C6.27614 2.5 6.5 2.72386 6.5 3Z",stroke:n})]}))},re=function(e){var t=e.color,n=void 0===t?"currentColor":t,a=Object(te.a)(e,["color"]);return Object(r.jsxs)("svg",Object(c.a)(Object(c.a)({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),{},{children:[Object(r.jsx)("path",{d:"M12 8.5L3 8.5C2.72386 8.5 2.5 8.72386 2.5 9L2.5 12C2.5 12.2761 2.72386 12.5 3 12.5L4.36644 12.5C4.42336 12.5 4.47987 12.4903 4.53352 12.4713L12.1671 9.76481C12.3666 9.69406 12.5 9.50528 12.5 9.29355L12.5 9C12.5 8.72386 12.2761 8.5 12 8.5Z",fill:n,stroke:n}),Object(r.jsx)("path",{d:"M12 6.5L3 6.5C2.72386 6.5 2.5 6.27614 2.5 6L2.5 3C2.5 2.72386 2.72386 2.5 3 2.5L4.36644 2.5C4.42336 2.5 4.47987 2.50972 4.53352 2.52874L12.1671 5.23519C12.3666 5.30594 12.5 5.49472 12.5 5.70645L12.5 6C12.5 6.27614 12.2761 6.5 12 6.5Z",stroke:n})]}))},ae=w.b.div((function(e){e.theme;return{flex:"1",display:"flex",flexDirection:"row"}}));function oe(e){var t=e.isFlippedVertical,n=e.isFlippedHorizontal,o=e.onSetIsFlippedVertical,i=e.onSetIsFlippedHorizontal,c=Object(w.c)().colors,s=c.icon,u=c.iconSelected,l=Object(a.useCallback)((function(){return o(!t)}),[t,o]),d=Object(a.useCallback)((function(){return i(!n)}),[n,i]);return Object(r.jsxs)(ae,{children:[Object(r.jsx)(C.Button,{id:"flip-horizontal",tooltip:"Flip horizontally",onClick:d,active:n,children:Object(r.jsx)(ne,{color:n?u:s})}),Object(r.jsx)(C.Spacer.Horizontal,{}),Object(r.jsx)(C.Button,{id:"flip-vertical",tooltip:"Flip vertically",onClick:l,active:t,children:Object(r.jsx)(re,{color:t?u:s})})]})}var ie=w.b.div((function(e){e.theme;return{flex:"0 0 auto",display:"flex",flexDirection:"row",paddingLeft:"10px",paddingRight:"10px"}}));function ce(e){var t=e.x,n=e.y,a=e.width,o=e.height,i=e.rotation,c=e.isFlippedVertical,s=e.isFlippedHorizontal,u=e.onSetX,l=e.onSetY,d=e.onSetWidth,f=e.onSetHeight,b=e.onSetRotation,h=e.onSetIsFlippedVertical,p=e.onSetIsFlippedHorizontal;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(ie,{children:[Object(r.jsx)(ee,{value:t,onSetValue:u,label:"X"}),Object(r.jsx)(C.Spacer.Horizontal,{size:16}),Object(r.jsx)(ee,{value:n,onSetValue:l,label:"Y"}),Object(r.jsx)(C.Spacer.Horizontal,{size:16}),Object(r.jsx)(ee,{value:i,onSetValue:b,label:"\xb0"})]}),Object(r.jsx)(C.Spacer.Vertical,{size:10}),Object(r.jsxs)(ie,{children:[Object(r.jsx)(ee,{value:a,onSetValue:d,label:"W"}),Object(r.jsx)(C.Spacer.Horizontal,{size:16}),Object(r.jsx)(ee,{value:o,onSetValue:f,label:"H"}),Object(r.jsx)(C.Spacer.Horizontal,{size:16}),Object(r.jsx)(oe,{isFlippedVertical:c,isFlippedHorizontal:s,onSetIsFlippedVertical:h,onSetIsFlippedHorizontal:p})]})]})}var se=w.b.div((function(e){e.theme;return{display:"flex",minHeight:"35px",alignItems:"center",justifyContent:"space-evenly",color:"rgb(139, 139, 139)"}}));function ue(e){var t=Object(k.b)(),n=Object(i.a)(t,2)[1];return Object(r.jsxs)(se,{children:[Object(r.jsx)(S.SpaceEvenlyHorizontallyIcon,{onClick:function(){return n("distributeLayers","horizontal")}}),Object(r.jsx)(S.SpaceEvenlyVerticallyIcon,{onClick:function(){return n("distributeLayers","vertical")}}),Object(r.jsx)(S.AlignLeftIcon,{onClick:function(){return n("alignLayers","left")}}),Object(r.jsx)(S.AlignCenterHorizontallyIcon,{onClick:function(){return n("alignLayers","centerHorizontal")}}),Object(r.jsx)(S.AlignRightIcon,{onClick:function(){return n("alignLayers","right")}}),Object(r.jsx)(S.AlignTopIcon,{onClick:function(){return n("alignLayers","top")}}),Object(r.jsx)(S.AlignCenterVerticallyIcon,{onClick:function(){return n("alignLayers","centerVertical")}}),Object(r.jsx)(S.AlignBottomIcon,{onClick:function(){return n("alignLayers","bottom")}})]})}var le=Object(a.memo)(ue),de=n(14),fe=w.b.div((function(e){e.theme;return{display:"flex",padding:"8px"}})),be=[{name:"Apple Devices",groups:[{name:"iPhone",presets:[{name:"iPhone 8",width:375,height:667},{name:"iPhone 8 Plus",width:414,height:736},{name:"iPhone SE",width:320,height:568},{name:"iPhone 11 Pro",width:375,height:812},{name:"iPhone 11",width:414,height:896},{name:"iPhone 11 Pro Max",width:414,height:896},{name:"iPhone 12 Mini",width:375,height:812},{name:"iPhone 12",width:375,height:844},{name:"iPhone 12 Pro",width:375,height:844},{name:"iPhone 12 Pro Max",width:428,height:926}]},{name:"iPad",presets:[{name:'7.9" iPad mini',width:768,height:1024},{name:'10.2" iPad',width:810,height:1080},{name:'10.5" iPad Air',width:834,height:1112},{name:'10.9" iPad Air',width:840,height:1180},{name:'11" iPad Pro',width:834,height:1194},{name:'12.9" iPad Pro',width:1024,height:1366}]},{name:"Apple Watch",presets:[{name:"Apple Watch 38mm",width:136,height:170},{name:"Apple Watch 40mm",width:162,height:197},{name:"Apple Watch 42mm",width:156,height:195},{name:"Apple Watch 44mm",width:184,height:224}]},{name:"Apple TV",presets:[{name:"Apple TV",width:1920,height:1080}]}]},{name:"Android Devices",groups:[]},{name:"Responsive Web",groups:[]},{name:"Social Media",groups:[]},{name:"Paper Sizes",groups:[]}],he=w.b.span((function(e){var t=e.theme;return Object(c.a)({},t.textStyles.code)}));function pe(){var e=Object(k.b)(),t=Object(i.a)(e,2)[1],n=Object(a.useMemo)((function(){return be.map((function(e){return e.name}))}),[]),o=Object(a.useState)(n[0]),c=Object(i.a)(o,2),s=c[0],u=c[1],l=Object(a.useMemo)((function(){return be.find((function(e){return e.name===s})).groups.map((function(e){var n=e.name,a=e.presets;return[Object(r.jsx)(C.TreeView.Row,{isSectionHeader:!0,expanded:!0,depth:0,children:n},"group-".concat(n))].concat(Object(de.a)(a.map((function(e){var n=e.name,a=e.width,o=e.height;return Object(r.jsxs)(C.TreeView.Row,{depth:1,onClick:function(){t("insertArtboard",{name:n,width:a,height:o})},children:[Object(r.jsx)(C.TreeView.RowTitle,{children:n}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsxs)(he,{children:[a,"\xd7",o]})]},n)}))))}))}),[t,s]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(fe,{children:Object(r.jsx)(C.Select,{id:"artboard-preset",value:s,options:n,onChange:u})}),Object(r.jsx)(C.TreeView.Root,{children:l})]})}var je=n(65),me=w.b.div((function(e){e.theme;return{flex:"0 0 auto",display:"flex",flexDirection:"row",alignItems:"center",marginTop:"10px",cursor:"initial !important"}})),ve=Object(a.memo)((function(e){var t=e.id,n=e.index,a=e.children;return Object(r.jsx)(je.b,{draggableId:t,index:n,children:function(e){return Object(r.jsx)(me,Object(c.a)(Object(c.a)(Object(c.a)({},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,children:a}))}})})),ge=w.b.div({display:"flex",alignItems:"center"}),Oe=w.b.div((function(e){var t=e.theme;return Object(c.a)(Object(c.a)({},t.textStyles.small),{},{fontWeight:"bold",display:"flex",flexDirection:"row",userSelect:"none"})})),ye=w.b.input((function(e){e.theme;return{margin:0}})),xe=w.b.div((function(e){e.theme;return{flex:"0 0 auto",display:"flex",flexDirection:"column",padding:"10px"}}));function Se(e){var t=e.id,n=e.value,o=e.title,i=e.isDraggable,s=void 0===i||i,u=e.alwaysShowTrashIcon,l=void 0!==u&&u,d=e.getKey,f=e.onDeleteItem,b=e.onMoveItem,h=e.onClickPlus,p=e.onClickTrash,j=e.onChangeCheckbox,m=e.children,v=Object(a.useCallback)((function(e){var t=e.destination,n=e.source;t?n.droppableId===t.droppableId&&n.index!==t.index&&(null===b||void 0===b||b(n.index,t.index)):null===f||void 0===f||f(n.index)}),[f,b]),g=function(e){return j?Object(r.jsx)(ye,{type:"checkbox",checked:n[e].isEnabled,onChange:function(t){j(e,t.target.checked)}}):null},O=Object(r.jsxs)(xe,{children:[Object(r.jsxs)(ge,{children:[Object(r.jsx)(Oe,{children:o}),Object(r.jsx)(C.Spacer.Horizontal,{}),Object(C.withSeparatorElements)([p&&(l||n.some((function(e){return!e.isEnabled})))&&Object(r.jsx)("span",{onClick:p,children:Object(r.jsx)(S.TrashIcon,{color:"rgb(139,139,139)"})}),h&&Object(r.jsx)("span",{onClick:h,children:Object(r.jsx)(S.PlusIcon,{color:"rgb(139,139,139)"})})],Object(r.jsx)(C.Spacer.Horizontal,{size:12}))]}),s?Object(r.jsx)(je.c,{droppableId:t,children:function(e){return Object(r.jsxs)("div",Object(c.a)(Object(c.a)({ref:e.innerRef},e.droppableProps),{},{children:[n.map((function(e,t){var n;return Object(r.jsx)(ve,{id:String(t),index:t,children:m({item:e,index:t,checkbox:g(t)})},null!==(n=null===d||void 0===d?void 0:d(e))&&void 0!==n?n:t)})),e.placeholder]}))}}):n.map((function(e,t){var n;return Object(r.jsx)(me,{children:m({item:e,index:t,checkbox:g(t)})},null!==(n=null===d||void 0===d?void 0:d(e))&&void 0!==n?n:t)}))]});return s?Object(r.jsx)(je.a,{onDragEnd:v,children:O}):O}var Ce=Object(a.memo)(Se),we=function(e){var t=e.color,n=void 0===t?"currentColor":t,a=Object(te.a)(e,["color"]);return Object(r.jsxs)("svg",Object(c.a)(Object(c.a)({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),{},{children:[Object(r.jsx)("rect",{x:"1.5",y:"1.5",width:"2",height:"2",stroke:n}),Object(r.jsx)("rect",{x:"1.5",y:"11.5",width:"2",height:"2",stroke:n}),Object(r.jsx)("rect",{x:"11.5",y:"11.5",width:"2",height:"2",stroke:n}),Object(r.jsx)("rect",{x:"11.5",y:"1.5",width:"2",height:"2",stroke:n}),Object(r.jsx)("path",{d:"M3 11.5H2.5V3.5H3H3.5V3V2.5H11.5V3V3.5H12H12.5V11.5H12H11.5V12V12.5H3.5V12V11.5H3Z",stroke:n})]}))},ke=function(e){var t=e.color,n=void 0===t?"currentColor":t,a=Object(te.a)(e,["color"]);return Object(r.jsxs)("svg",Object(c.a)(Object(c.a)({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),{},{children:[Object(r.jsx)("rect",{x:"1.5",y:"1.5",width:"2",height:"2",stroke:n}),Object(r.jsx)("rect",{x:"1.5",y:"11.5",width:"2",height:"2",stroke:n}),Object(r.jsx)("rect",{x:"11.5",y:"11.5",width:"2",height:"2",stroke:n}),Object(r.jsx)("rect",{x:"11.5",y:"1.5",width:"2",height:"2",stroke:n}),Object(r.jsx)("rect",{x:"3.5",y:"3.5",width:"8",height:"8",stroke:n})]}))},Pe=function(e){var t=e.color,n=void 0===t?"currentColor":t,a=Object(te.a)(e,["color"]);return Object(r.jsxs)("svg",Object(c.a)(Object(c.a)({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),{},{children:[Object(r.jsx)("path",{d:"M2.5 1.5H3.5V3.5H1.5V2.5C1.5 1.94772 1.94772 1.5 2.5 1.5Z",stroke:n}),Object(r.jsx)("path",{d:"M1.5 11.5H3.5V13.5H2.5C1.94772 13.5 1.5 13.0523 1.5 12.5V11.5Z",stroke:n}),Object(r.jsx)("path",{d:"M11.5 11.5H13.5V12.5C13.5 13.0523 13.0523 13.5 12.5 13.5H11.5V11.5Z",stroke:n}),Object(r.jsx)("path",{d:"M11.5 1.5H12.5C13.0523 1.5 13.5 1.94772 13.5 2.5V3.5H11.5V1.5Z",stroke:n}),Object(r.jsx)("rect",{x:"1.5",y:"1.5",width:"12",height:"12",rx:"1",stroke:n})]}))},Te=w.b.div((function(e){e.theme;return{flex:"0 0 auto",display:"flex",flexDirection:"column",padding:"10px"}})),Ie=w.b.div((function(e){e.theme;return{display:"flex",alignItems:"center"}})),Me=w.b.div((function(e){var t=e.theme;return Object(c.a)(Object(c.a)({},t.textStyles.small),{},{fontWeight:"bold",display:"flex",flexDirection:"row",userSelect:"none"})})),Ae=w.b.div((function(e){e.theme;return{flex:"1",display:"flex",flexDirection:"row",alignItems:"center"}})),Fe=w.b.div((function(e){e.theme;return{flex:"1",display:"flex",flexDirection:"column"}})),Le=w.b.input((function(e){e.theme;return{margin:0}})),Re=w.b.span((function(e){var t=e.theme;return Object(c.a)({},t.textStyles.small)})),De=w.b.span((function(e){var t=e.theme;return Object(c.a)(Object(c.a)({},t.textStyles.small),{},{color:t.colors.textMuted,marginBottom:"-6px"})})),_e=w.b.span((function(e){var t=e.theme;return Object(c.a)(Object(c.a)({},t.textStyles.small),{},{color:t.colors.textMuted,marginBottom:"2px"})})),Ee=Object(a.memo)((function(e){var t=e.children,n=e.label;return Object(r.jsx)(Ae,{children:Object(r.jsxs)(Fe,{children:[Object(r.jsx)(_e,{children:n}),Object(r.jsx)(Ae,{children:t})]})})})),Be=Object(a.memo)((function(e){var t=e.children,n=e.label;return Object(r.jsx)(Ae,{children:Object(r.jsxs)(Fe,{children:[Object(r.jsx)(De,{children:n}),Object(r.jsx)(Ae,{children:t})]})})})),ze=n(121),He=n(47),Ve={_class:"color",red:0,green:0,blue:0,alpha:1},Ge=Object(a.memo)((function(e){var t=e.id,n=e.color,o=e.onChangeColor,i=e.onSetOpacity,s="".concat(t,"-color"),u="".concat(t,"-hex"),l="".concat(t,"-opacity"),d=null!==n&&void 0!==n?n:Ve,f=Object(a.useCallback)((function(e){switch(e.id){case s:return Object(r.jsx)(C.Label.Label,{children:"Color"});case u:return Object(r.jsx)(C.Label.Label,{children:"Hex"});case l:return Object(r.jsx)(C.Label.Label,{children:"Opacity"});default:return null}}),[s,u,l]),b=Object(a.useCallback)((function(e,t){var n=e/100;if(i)i(n,t);else{var r="replace"===t?n:d.alpha+n;o(Object(c.a)(Object(c.a)({},d),{},{alpha:Object(B.clamp)(r,0,1)}))}}),[d,o,i]);return Object(r.jsx)(Te,{children:Object(r.jsxs)(Fe,{children:[Object(r.jsx)(C.ColorPicker,{value:d,onChange:o}),Object(r.jsx)(C.Spacer.Vertical,{size:10}),Object(r.jsx)(Ae,{id:t,children:Object(r.jsxs)(C.LabeledElementView,{renderLabel:f,children:[Object(r.jsx)(C.Spacer.Vertical,{size:8}),Object(r.jsxs)(C.InputField.Root,{id:u,labelPosition:"start",children:[Object(r.jsx)(C.InputField.Input,{value:n?Object(C.sketchColorToHex)(d).slice(1):"",placeholder:n?"":"multiple",onSubmit:Object(a.useCallback)((function(){}),[])}),Object(r.jsx)(C.InputField.Label,{children:"#"})]}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsx)(ee,{id:l,size:50,label:"%",value:n?Math.round(100*n.alpha):void 0,onSetValue:b})]})})]})})})),Ne=Object(a.memo)((function(e){var t=e.id,n=e.gradient,o=e.onChangeOpacity,s=e.onNudgeOpacity,u=e.onChangeColor,l=void 0===u?function(e,t){}:u,d=e.onChangePosition,f=void 0===d?function(e,t){}:d,b=e.onAddStop,h=void 0===b?function(e,t){}:b,p=e.onDeleteStop,j=void 0===p?function(e){}:p,m="".concat(t,"-color"),v="".concat(t,"-hex"),g="".concat(t,"-opacity"),O=Object(a.useState)(0),y=Object(i.a)(O,2),x=y[0],S=y[1],w=n[x]?x:0,k=n[w].color,P=Object(C.sketchColorToHex)(k),T=Object(a.useMemo)((function(){return P.slice(1)}),[P]),I=Object(a.useCallback)((function(e){switch(e.id){case m:return Object(r.jsx)(C.Label.Label,{children:"Color"});case v:return Object(r.jsx)(C.Label.Label,{children:"Hex"});case g:return Object(r.jsx)(C.Label.Label,{children:"Opacity"});default:return null}}),[m,v,g]),M=Object(a.useCallback)((function(e){o?o(e/100):l(Object(c.a)(Object(c.a)({},k),{},{alpha:Object(B.clamp)(e/100,0,1)}),w)}),[k,w,o,l]),A=Object(a.useCallback)((function(e){s?s(e/100):l(Object(c.a)(Object(c.a)({},k),{},{alpha:Object(B.clamp)(k.alpha+e/100,0,1)}),w)}),[k,w,s,l]),F=Object(a.useCallback)((function(e){l(e,w)}),[w,l]),L=Object(a.useCallback)((function(e){f(e,w)}),[w,f]),R=Object(a.useCallback)((function(e,t){h(e,t),S(n.length)}),[n,h,S]),D=Object(a.useCallback)((function(){2!==n.length&&(j(w),S(w-1>0?0:w-1))}),[n,w,j,S]);return Object(r.jsx)(Te,{children:Object(r.jsxs)(Fe,{children:[Object(r.jsx)(C.GradientPicker,{value:n,selectedStop:w,onChangeColor:F,onChangePosition:L,onAdd:R,onSelectStop:Object(a.useCallback)((function(e){return S(e)}),[S]),onDelete:D}),Object(r.jsx)(C.Spacer.Vertical,{size:10}),Object(r.jsx)(Ae,{id:t,children:Object(r.jsxs)(C.LabeledElementView,{renderLabel:I,children:[Object(r.jsx)(C.Spacer.Vertical,{size:8}),Object(r.jsxs)(C.InputField.Root,{id:v,labelPosition:"start",children:[Object(r.jsx)(C.InputField.Input,{value:null!==T&&void 0!==T?T:"",placeholder:T?"":"Multiple",onSubmit:Object(a.useCallback)((function(){}),[])}),Object(r.jsx)(C.InputField.Label,{children:"#"})]}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsxs)(C.InputField.Root,{id:g,size:50,children:[Object(r.jsx)(C.InputField.NumberInput,{value:Math.round(100*k.alpha),onSubmit:M,onNudge:A}),Object(r.jsx)(C.InputField.Label,{children:"%"})]})]})})]})})})),We=n(73),Ue=w.b.div((function(e){var t=e.theme;return{display:"flex",flex:1,position:"relative",outline:"none",borderRadius:"4px",overflow:"hidden",minHeight:"150px",border:(e.isActive?"2px ":"0px ")+t.colors.primaryDark,backgroundColor:"white",imageRendering:"crisp-edges",width:"100%",justifyContent:"center"}})),Ye=w.b.div((function(e){return{position:"absolute",inset:0,background:e.theme.colors.imageOverlay,pointerEvents:"none"}})),Xe=w.b.button((function(e){var t=e.show;return{color:"white",position:"absolute",background:"rgba(0, 0, 0, 0.75)",cursor:"pointer",userSelect:"auto",alignSelf:"center",height:"30px",width:"105px",borderRadius:"24px",border:"none",display:void 0!==t&&t?"block":"none",zIndex:1}})),Ke=["Tile","Fill","Stretch","Fit"],qe=Object(a.memo)((function(e){var t=e.pattern,n=e.onAddImage,o=e.onChangeImage,s=Object(a.useState)(!1),d=Object(i.a)(s,2),f=d[0],b=d[1],h=Object(C.useHover)({onHoverChange:b}).hoverProps,p=Object(a.useCallback)(function(){var e=Object(l.a)(u.a.mark((function e(t){var r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.arrayBuffer();case 2:r=e.sent,a="images/".concat(Object(B.uuid)(),".").concat(Object(B.getFileExtensionForType)(t.type)),n(r,a),o({_class:"MSJSONFileReference",_ref:a,_ref_class:"MSImageData"});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[n,o]),j=Object(a.useCallback)(Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(We.a)({extensions:Object.values(C.SUPPORTED_IMAGE_UPLOAD_TYPES).map((function(e){return"."+Object(B.getFileExtensionForType)(e)})),mimeTypes:C.SUPPORTED_IMAGE_UPLOAD_TYPES});case 2:if(H(t=e.sent,C.SUPPORTED_IMAGE_UPLOAD_TYPES)){e.next=6;break}return alert("Files of type ".concat(t.type," aren't supported. The following types are supported: ").concat(C.SUPPORTED_IMAGE_UPLOAD_TYPES.join(", "))),e.abrupt("return");case 6:p(t);case 7:case"end":return e.stop()}}),e)}))),[p]);return Object(r.jsx)(G,{onDropFile:p,supportedFileTypes:C.SUPPORTED_IMAGE_UPLOAD_TYPES,children:function(e){return Object(r.jsxs)(Ue,Object(c.a)(Object(c.a)({},h),{},{isActive:e,children:[t.image&&Object(r.jsx)(C.PatternPreviewBackground,{imageRef:t.image,fillType:t.patternFillType,tileScale:t.patternTileScale}),Object(r.jsx)(Xe,{show:!e&&f,onClick:j,children:"Upload Image"}),e&&Object(r.jsx)(Ye,{})]}))}})})),Je=Object(a.memo)((function(e){var t=e.id,n=e.pattern,o=e.createImage,i=e.onChangeImage,c=e.onChangeFillType,s=e.onChangeTileScale,u=n.patternFillType,l=u===T.a.PatternFillType.Tile,d=Object(a.useCallback)((function(e){c(T.a.PatternFillType[e])}),[c]),f=Object(a.useCallback)((function(e){s(e/100)}),[s]),b=Object(a.useCallback)((function(e){s(e/100)}),[s]),h=Math.round(100*n.patternTileScale);return Object(r.jsx)(Te,{children:Object(r.jsxs)(Fe,{children:[Object(r.jsx)(qe,{pattern:n,onAddImage:o,onChangeImage:i}),Object(r.jsx)(C.Spacer.Vertical,{size:10}),Object(r.jsx)(Ee,{label:"Size",children:Object(r.jsx)(C.Select,{id:"".concat(t,"-pattern-options"),value:T.a.PatternFillType[u],options:Ke,onChange:d})}),l&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(C.Spacer.Vertical,{size:10}),Object(r.jsxs)(Be,{label:"Scale",children:[Object(r.jsx)(C.Slider,{id:"".concat(t,"-slider"),value:h,onValueChange:f,min:10,max:200}),Object(r.jsx)(C.Spacer.Horizontal,{size:10}),Object(r.jsxs)(C.InputField.Root,{size:50,children:[Object(r.jsx)(C.InputField.NumberInput,{value:h,onSubmit:f,onNudge:b}),Object(r.jsx)(C.InputField.Label,{children:"%"})]})]})]})]})})})),Ze=w.b.div((function(e){var t=e.theme,n=e.background,r=e.selected;return{height:"25px",width:"25px",background:n,backgroundRepeat:"no-repeat",backgroundSize:"cover",border:"2px solid ".concat(void 0!==r&&r?"rgb(132,63,255)":t.colors.popover.background," "),borderRadius:"4px",cursor:"pointer",position:"relative"}})),$e=w.b.div({display:"grid",gridTemplateColumns:"repeat(auto-fill, 25px)",gap:"5px"}),Qe=w.b.div({flex:"0 0 50px",display:"flex",alignItems:"stretch"}),et=Object(a.memo)((function(e){var t=e.layout,n=e.setLayout;return Object(r.jsx)(Qe,{children:Object(r.jsxs)(C.RadioGroup.Root,{id:"layout",value:t,onValueChange:Object(a.useCallback)((function(e){return n(e.target.value)}),[n]),children:[Object(r.jsx)(C.RadioGroup.Item,{value:"grid",tooltip:"Grid",children:Object(r.jsx)(S.GridIcon,{})}),Object(r.jsx)(C.RadioGroup.Item,{value:"list",tooltip:"List",children:Object(r.jsx)(S.RowsIcon,{})})]})})})),tt=[{value:"rename",title:"Rename"},{value:"delete",title:"Delete"}],nt=Object(a.memo)((function(e){var t=e.gradients,n=e.setGradientId,a=e.handleSelectMenuItem,o=e.onSelectGradientAsset;return Object(r.jsx)(C.ListView.Root,{children:t.map((function(e){var t=e.do_objectID,i=e.gradient,c=e.name,s=Object(C.getGradientBackground)(i.stops,i.gradientType,180);return Object(r.jsx)(C.ContextMenu,{items:tt,onSelect:a,children:Object(r.jsxs)(C.ListView.Row,{id:t,onContextMenu:function(){return n(t)},onClick:function(){return o(i)},children:[Object(r.jsx)(Ze,{background:s}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),c]})},t)}))})})),rt=Object(a.memo)((function(e){var t=e.gradients,n=e.setGradientId,a=e.handleSelectMenuItem,o=e.onSelectGradientAsset;return Object(r.jsx)($e,{children:t.map((function(e){var t=e.do_objectID,i=e.gradient,c=Object(C.getGradientBackground)(i.stops,i.gradientType,180);return Object(r.jsx)(C.ContextMenu,{items:tt,onSelect:a,children:Object(r.jsx)(Ze,{background:c,onContextMenu:function(){return n(t)},onClick:function(){return o(i)}})},t)}))})})),at=Object(a.memo)((function(e){var t=e.gradientAssets,n=e.onChange,o=e.onCreate,c=e.onRename,s=e.onDelete,u=Object(a.useState)("grid"),l=Object(i.a)(u,2),d=l[0],f=l[1],b=Object(a.useState)(void 0),h=Object(i.a)(b,2),p=h[0],j=h[1],m=Object(a.useCallback)((function(e){if(p)switch(e){case"rename":var t=prompt("New Gradient Name");if(!t)return;c(p,t);break;case"delete":s(p)}}),[p,c,s]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Te,{children:Object(r.jsx)(C.Button,{id:"create-theme-gradient",onClick:o,children:"Create Theme Gradient"})}),Object(r.jsx)(C.Divider,{}),Object(r.jsx)(Te,{children:Object(r.jsxs)(Ae,{children:[Object(r.jsx)(C.Select,{id:"gradient-category",options:["Document"],value:"Document",onChange:function(){}}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsx)(et,{layout:d,setLayout:f})]})}),t.length>0&&Object(r.jsx)(Te,{children:"grid"===d?Object(r.jsx)(rt,{gradients:t,setGradientId:j,handleSelectMenuItem:m,onSelectGradientAsset:n}):Object(r.jsx)(nt,{gradients:t,setGradientId:j,handleSelectMenuItem:m,onSelectGradientAsset:n})})]})})),ot=Object(a.memo)((function(e){var t=e.item,n=e.onClick,o=Object(w.c)().colors.inputBackground;return Object(r.jsx)(Ze,{background:o,onClick:Object(a.useCallback)((function(){return n(t)}),[t,n]),children:Object(r.jsx)(C.PatternPreviewBackground,{imageRef:t,fillType:T.a.PatternFillType.Fit,tileScale:1})})})),it=Object(a.memo)((function(e){var t=e.imageAssets,n=e.onChange;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(C.Divider,{}),Object(r.jsx)(Te,{children:Object(r.jsx)(Ae,{children:Object(r.jsx)(C.Select,{id:"document-images",options:["Document Images"],value:"Document Images",onChange:function(){}})})}),t.length>0&&Object(r.jsx)(Te,{children:Object(r.jsx)($e,{children:t.map((function(e){return Object(r.jsx)(ot,{item:e,onClick:n},e._ref)}))})})]})})),ct=Object(a.memo)((function(e){var t=e.selectedId,n=e.swatches,a=e.onSelect;return Object(r.jsx)(C.ListView.Root,{children:n.map((function(e){return Object(r.jsxs)(C.ListView.Row,{id:e.do_objectID,selected:t===e.do_objectID,onClick:function(){a(e.do_objectID)},children:[Object(r.jsx)(Ze,{background:Object(C.sketchColorToRgbaString)(e.value)}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),e.name]},e.do_objectID)}))})})),st=Object(a.memo)((function(e){var t=e.selectedId,n=e.swatches,a=e.onSelect;return Object(r.jsx)($e,{children:n.map((function(e){return Object(r.jsx)(Ze,{background:Object(C.sketchColorToRgbaString)(e.value),selected:t===e.do_objectID,onClick:function(){a(e.do_objectID)}},e.do_objectID)}))})})),ut=Object(a.memo)((function(e){var t=e.selectedId,n=e.swatches,o=e.onChange,c=e.onCreate,s=e.onDetach,u=Object(a.useState)("grid"),l=Object(i.a)(u,2),d=l[0],f=l[1],b=n.some((function(e){return e.do_objectID===t})),h=Object(a.useCallback)((function(){var e=prompt("New Theme Color Name");if(e){var t=Object(B.uuid)();c(t,e)}}),[c]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Te,{children:b?Object(r.jsx)(C.Button,{id:"detach-theme-color",onClick:s,children:"Detach Theme Color"}):Object(r.jsx)(C.Button,{id:"create-theme-color",onClick:h,children:"Create Theme Color"})}),Object(r.jsx)(C.Divider,{}),Object(r.jsx)(Te,{children:Object(r.jsxs)(Ae,{children:[Object(r.jsx)(C.Select,{id:"colors-category",options:["Theme colors"],value:"Theme colors",onChange:function(){}}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsx)(et,{layout:d,setLayout:f})]})}),n.length>0&&Object(r.jsx)(Te,{children:"grid"===d?Object(r.jsx)(st,{selectedId:t,swatches:n,onSelect:o}):Object(r.jsx)(ct,{selectedId:t,swatches:n,onSelect:o})})]})})),lt=Object(w.b)(ze.a)((function(e){return{width:"240px",borderRadius:4,fontSize:14,backgroundColor:e.theme.colors.popover.background,boxShadow:"0 2px 4px rgba(0,0,0,0.2), 0 0 12px rgba(0,0,0,0.1)",maxHeight:"600px",overflowY:"auto"}}));function dt(e){var t=e.id,n=e.color,o=e.onChangeColor,s=Object(k.b)(),u=Object(i.a)(s,2),l=u[0],d=u[1],f=y.Selectors.getSharedSwatches(l),b=Object(a.useCallback)((function(e){var t=f.find((function(t){return t.do_objectID===e}));t&&o(Object(c.a)(Object(c.a)({},t.value),{},{swatchID:e}))}),[o,f]),h=Object(a.useCallback)((function(){n&&o(Object(c.a)(Object(c.a)({},n),{},{swatchID:void 0}))}),[o,n]),p=Object(a.useCallback)((function(e,t){n&&(d("addSwatch",t,n,e),o(Object(c.a)(Object(c.a)({},n),{},{swatchID:e})))}),[n,d,o]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ge,{id:"".concat(t,"-color-inspector"),color:n,onChangeColor:o}),Object(r.jsx)(ut,{selectedId:n?n.swatchID:void 0,swatches:f,onChange:b,onCreate:p,onDetach:h})]})}function ft(e){var t=e.id,n=e.gradient,o=e.onChangeGradient,c=e.onChangeGradientColor,s=e.onChangeGradientPosition,u=e.onAddGradientStop,l=e.onDeleteGradientStop,d=Object(k.b)(),f=Object(i.a)(d,2),b=f[0],h=f[1],p=y.Selectors.getGradientAssets(b),j=Object(a.useCallback)((function(){if(n){var e=prompt("New Gradient Assets Name");e&&h("addGradientAsset",e,n)}}),[h,n]),m=Object(a.useCallback)((function(e){return h("removeGradientAsset",e)}),[h]),v=Object(a.useCallback)((function(e,t){return h("setGradientAssetName",e,t)}),[h]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ne,{id:"".concat(t,"-gradient-inspector"),gradient:n.stops,onChangeColor:c,onChangePosition:s,onAddStop:u,onDeleteStop:l}),Object(r.jsx)(at,{gradientAssets:p,onCreate:j,onChange:o,onDelete:m,onRename:v})]})}function bt(e){var t=e.id,n=e.pattern,o=e.onChangePatternFillType,c=e.onChangePatternTileScale,s=e.onChangeFillImage,u=Object(k.b)(),l=Object(i.a)(u,2),d=l[0],f=l[1],b=Object(a.useCallback)((function(e,t){f("addImage",e,t)}),[f]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Je,{id:"".concat(t,"-pattern-inspector"),pattern:n,createImage:b,onChangeImage:s,onChangeFillType:o,onChangeTileScale:c}),Object(r.jsx)(it,{imageAssets:y.Selectors.getImageAssets(d),onChange:s})]})}function ht(e){var t=e.fillType,n=e.gradientType,o=e.onChangeType,i=e.onChangeGradientType,c=e.supportsGradients,s=e.supportsPatterns,u=Object(a.useMemo)((function(){return["Solid Color"].concat(Object(de.a)(c?["Linear Gradient","Radial Gradient","Angular Gradient"]:[]),Object(de.a)(s?["Pattern Fill"]:[]))}),[c,s]),l=Object(a.useMemo)((function(){switch(t){case T.a.FillType.Pattern:return"Pattern Fill";case T.a.FillType.Gradient:var e=T.a.GradientType[n];return"".concat(e," Gradient");case T.a.FillType.Color:return"Solid Color"}}),[t,n]),d=Object(a.useCallback)((function(e){if(o)switch(e){case"Solid Color":o(T.a.FillType.Color);break;case"Linear Gradient":case"Angular Gradient":case"Radial Gradient":o(T.a.FillType.Gradient),null===i||void 0===i||i("Linear Gradient"===e?T.a.GradientType.Linear:"Radial Gradient"===e?T.a.GradientType.Radial:T.a.GradientType.Angular);break;case"Pattern Fill":o(T.a.FillType.Pattern)}}),[o,i]);return Object(r.jsx)(C.Select,{id:"fill-options",value:l,options:u,onChange:d})}var pt=Object(a.memo)((function(e){var t,n=e.id,o=e.fillType,i=e.onChangeType,s=e.hasMultipleFills,u=void 0!==s&&s,l=e.colorProps,d=e.gradientProps,f=e.patternProps,b=Object(a.useMemo)((function(){switch(o){case T.a.FillType.Gradient:return d?Object(r.jsx)(ft,Object(c.a)({id:n},d)):null;case T.a.FillType.Pattern:return f?Object(r.jsx)(bt,Object(c.a)({id:n},f)):null;case T.a.FillType.Color:case void 0:return Object(r.jsx)(dt,Object(c.a)({id:n},l))}}),[n,o,l,d,f]),h=Object(a.useMemo)((function(){switch(o){case T.a.FillType.Gradient:return null===d||void 0===d?void 0:d.gradient;case T.a.FillType.Pattern:return null===f||void 0===f?void 0:f.pattern;case T.a.FillType.Color:case void 0:return l.color}}),[o,l.color,null===d||void 0===d?void 0:d.gradient,null===f||void 0===f?void 0:f.pattern]);return Object(r.jsxs)(ze.b,{children:[Object(r.jsx)(ze.c,{as:He.a,children:Object(r.jsx)(C.ColorInputField,{id:n,value:u?void 0:h})}),Object(r.jsxs)(lt,{side:"bottom",align:"center",children:[(d||f)&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Te,{children:Object(r.jsx)(Ae,{children:Object(r.jsx)(ht,{supportsGradients:!!d,supportsPatterns:!!f,fillType:null!==o&&void 0!==o?o:T.a.FillType.Color,gradientType:null!==(t=null===d||void 0===d?void 0:d.gradient.gradientType)&&void 0!==t?t:T.a.GradientType.Linear,onChangeType:i,onChangeGradientType:null===d||void 0===d?void 0:d.onChangeGradientType})})}),Object(r.jsx)(C.Divider,{})]}),b]})]})}));function jt(e){switch(e){case T.a.BorderPosition.Inside:return"inside";case T.a.BorderPosition.Center:return"center";case T.a.BorderPosition.Outside:return"outside"}}var mt=Object(a.memo)((function(e){var t=e.id,n=e.prefix,o=e.fillType,i=e.hasMultipleFills,c=e.width,s=e.position,u=e.onSetWidth,l=e.onChangePosition,d=e.onChangeFillType,f=e.colorProps,b=e.gradientProps,h="".concat(t,"-color"),p="".concat(t,"-hex"),j="".concat(t,"-width"),m=Object(a.useCallback)((function(e){switch(e.id){case h:return Object(r.jsx)(C.Label.Label,{children:"Color"});case p:return Object(r.jsx)(C.Label.Label,{children:"Position"});case j:return Object(r.jsx)(C.Label.Label,{children:"Width"});default:return null}}),[h,p,j]),v=Object(a.useCallback)((function(e){l(function(e){switch(e){case"inside":return T.a.BorderPosition.Inside;case"center":return T.a.BorderPosition.Center;case"outside":return T.a.BorderPosition.Outside;default:throw new Error("Bad border position value")}}(e.target.value))}),[l]);return Object(r.jsx)(Ae,{children:Object(r.jsxs)(C.LabeledElementView,{renderLabel:m,children:[n,n&&Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsx)(pt,{id:h,fillType:o,hasMultipleFills:i,onChangeType:d,colorProps:f,gradientProps:b}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsxs)(C.RadioGroup.Root,{id:p,value:jt(s),onValueChange:v,children:[Object(r.jsx)(C.RadioGroup.Item,{value:"inside",tooltip:"Inside",children:Object(r.jsx)(ke,{})}),Object(r.jsx)(C.RadioGroup.Item,{value:"center",tooltip:"Center",children:Object(r.jsx)(we,{})}),Object(r.jsx)(C.RadioGroup.Item,{value:"outside",tooltip:"Outside",children:Object(r.jsx)(Pe,{})})]}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsx)(ee,{id:j,size:50,value:c,onSetValue:u})]})})}));function vt(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return e===t};if(1===e.length)return e[0];if(e.length>1){var n=e[0];return e.every((function(e){return t(e,n)}))?n:void 0}}function gt(e){if(1===e.length)return e[0];if(e.length>1){var t=Math.min.apply(Math,Object(de.a)(e));return Math.max.apply(Math,Object(de.a)(e))-t<Number.EPSILON?t:void 0}}var Ot=Object(a.memo)((function(){var e=Object(k.b)(),t=Object(i.a)(e,2)[1],n=N(Object(k.f)(y.Selectors.getSelectedStyles)),o=N(n.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.borders)&&void 0!==t?t:[]}))),c=Object(a.useMemo)((function(){return B.zipLongest.apply(void 0,[void 0].concat(Object(de.a)(o))).map((function(e){var t,n=e.flatMap((function(e){return e?[e]:[]})),r=vt(n.map((function(e){return e.fillType})),B.isDeepEqual),a=vt(n.map((function(e){return e.gradient})),B.isDeepEqual);return{isEnabled:null===(t=vt(n.map((function(e){return e.isEnabled}))))||void 0===t||t,hasMultipleFills:void 0===r||r===T.a.FillType.Gradient&&!a,color:vt(n.map((function(e){return e.color})),B.isDeepEqual),fillType:r,position:vt(n.map((function(e){return e.position})),B.isDeepEqual),thickness:gt(n.map((function(e){return e.thickness}))),contextOpacity:gt(n.map((function(e){return e.contextSettings.opacity}))),gradient:null!==a&&void 0!==a?a:n[0].gradient}}))}),[o]);return Object(r.jsx)(Ce,{title:"Borders",id:"borders",value:c,onClickPlus:Object(a.useCallback)((function(){return t("addNewBorder")}),[t]),onClickTrash:Object(a.useCallback)((function(){return t("deleteDisabledBorders")}),[t]),onDeleteItem:Object(a.useCallback)((function(e){return t("deleteBorder",e)}),[t]),onMoveItem:Object(a.useCallback)((function(e,n){return t("moveBorder",e,n)}),[t]),onChangeCheckbox:Object(a.useCallback)((function(e,n){return t("setBorderEnabled",e,n)}),[t]),children:Object(a.useCallback)((function(e){var n,a,o=e.item,i=e.index,c=e.checkbox;return Object(r.jsx)(mt,{id:"border-".concat(i),prefix:c,fillType:null!==(n=o.fillType)&&void 0!==n?n:T.a.FillType.Color,hasMultipleFills:o.hasMultipleFills,width:o.thickness,position:null!==(a=o.position)&&void 0!==a?a:T.a.BorderPosition.Inside,onSetWidth:function(e,n){return t("setBorderWidth",i,e,n)},onChangePosition:function(e){t("setBorderPosition",i,e)},onChangeFillType:function(e){return t("setBorderFillType",i,e)},colorProps:{color:o.color,onChangeColor:function(e){return t("setBorderColor",i,e)}},gradientProps:{gradient:o.gradient,onChangeGradientColor:function(e,n){return t("setBorderGradientColor",i,n,e)},onChangeGradientPosition:function(e,n){return t("setBorderGradientPosition",i,n,e)},onAddGradientStop:function(e,n){return t("addBorderGradientStop",i,e,n)},onDeleteGradientStop:function(e){return t("deleteBorderGradientStop",i,e)},onChangeGradientType:function(e){return t("setBorderGradientType",i,e)},onChangeGradient:function(e){return t("setBorderGradient",i,e)}}})}),[t])},"borders")}));function yt(e){var t=e.id,n=e.label,o=e.value,i=e.onChange,c=Object(a.useCallback)((function(e){return i(e,"replace")}),[i]),s=Object(a.useCallback)((function(e){return i(e,"adjust")}),[i]);return Object(r.jsxs)(Ee,{label:n,children:[Object(r.jsx)(C.Slider,{id:"".concat(t,"-slider"),value:null!==o&&void 0!==o?o:0,onValueChange:c,min:-100,max:100}),Object(r.jsx)(C.Spacer.Horizontal,{size:10}),Object(r.jsxs)(C.InputField.Root,{id:"".concat(t,"-input"),size:50,children:[Object(r.jsx)(C.InputField.NumberInput,{value:o,placeholder:void 0===o?"multi":void 0,onSubmit:c,onNudge:s}),Object(r.jsx)(C.InputField.Label,{children:"%"})]})]})}var xt=Object(a.memo)((function(e){var t=e.id,n=e.hue,a=e.saturation,o=e.brightness,i=e.contrast,c=e.onChangeHue,s=e.onChangeSaturation,u=e.onChangeBrightness,l=e.onChangeContrast;return Object(r.jsxs)(Fe,{id:t,children:[Object(r.jsx)(yt,{id:t,label:"Hue",value:n,onChange:c}),Object(r.jsx)(yt,{id:t,label:"Saturation",value:a,onChange:s}),Object(r.jsx)(yt,{id:t,label:"Brightness",value:o,onChange:u}),Object(r.jsx)(yt,{id:t,label:"Contrast",value:i,onChange:l})]})}));function St(e){return{toDisplay:function(t){return Math.round(Object(B.interpolate)(t,e))},fromDisplay:function(t){return Object(B.interpolate)(t,{inputRange:e.outputRange,outputRange:e.inputRange})}}}var Ct=St({inputRange:[-Math.PI,Math.PI],outputRange:[-100,100]}),wt=St({inputRange:[0,2],outputRange:[-100,100]}),kt=St({inputRange:[-1,1],outputRange:[-100,100]}),Pt=St({inputRange:[0,1,4],outputRange:[-100,0,100]}),Tt=Object(a.memo)((function(){var e,t,n=Object(k.b)(),o=Object(i.a)(n,2)[1],c=N(Object(k.f)(y.Selectors.getSelectedStyles)),s=Object(a.useMemo)((function(){return c.map((function(e){return e.colorControls}))}),[c]),u=Object(a.useMemo)((function(){return s[0].isEnabled?[s[0]]:[]}),[s]),l=null!==(e=null===(t=u[0])||void 0===t?void 0:t.isEnabled)&&void 0!==e&&e,d=gt(s.map((function(e){return e.hue}))),f=gt(s.map((function(e){return e.saturation}))),b=gt(s.map((function(e){return e.brightness}))),h=gt(s.map((function(e){return e.contrast}))),p=void 0!==d?Ct.toDisplay(d):void 0,j=void 0!==f?wt.toDisplay(f):void 0,m=void 0!==b?kt.toDisplay(b):void 0,v=void 0!==h?Pt.toDisplay(h):void 0,g=Object(a.useCallback)((function(){o("setColorControlsEnabled",!0)}),[o]),O=Object(a.useCallback)((function(){return o("setColorControlsEnabled",!1)}),[o]),x=Object(a.useCallback)((function(e,t){return o("setHue",Ct.fromDisplay(e),t)}),[o]),S=Object(a.useCallback)((function(e,t){return o("setSaturation","adjust"===t?e/100:wt.fromDisplay(e),t)}),[o]),C=Object(a.useCallback)((function(e,t){return o("setBrightness",kt.fromDisplay(e),t)}),[o]),w=Object(a.useCallback)((function(e,t){if(void 0!==h&&"adjust"===t){var n=Pt.toDisplay(h),r=Pt.fromDisplay(n+e);return o("setContrast",r-h,t)}return o("setContrast","adjust"===t?e/100:Pt.fromDisplay(e),t)}),[h,o]);return Object(r.jsx)(Ce,{title:"Color Adjust",id:"color-adjust",value:u,isDraggable:!1,alwaysShowTrashIcon:!0,onClickPlus:l?void 0:g,onClickTrash:l?O:void 0,onDeleteItem:Object(a.useCallback)((function(e){return o("deleteFill",e)}),[o]),onMoveItem:Object(a.useCallback)((function(e,t){return o("moveFill",e,t)}),[o]),children:Object(a.useCallback)((function(){return Object(r.jsx)(xt,{id:"color-controls",hue:p,saturation:j,brightness:m,contrast:v,onChangeHue:x,onChangeSaturation:S,onChangeBrightness:C,onChangeContrast:w})}),[C,w,x,S,m,v,p,j])})})),It=w.b.div((function(e){e.theme;return{flex:"0 0 auto",display:"flex",flexDirection:"row",alignItems:"center",marginTop:"10px",cursor:"initial !important"}})),Mt=Object(a.memo)((function(e){var t=e.id,n=e.index,a=e.children;return Object(r.jsx)(je.b,{draggableId:t,index:n,children:function(e){return Object(r.jsx)(It,Object(c.a)(Object(c.a)(Object(c.a)({},e.draggableProps),e.dragHandleProps),{},{ref:e.innerRef,children:a}))}})})),At=w.b.div((function(e){var t=e.theme;return Object(c.a)(Object(c.a)({},t.textStyles.small),{},{fontWeight:"bold",display:"flex",flexDirection:"row",userSelect:"none"})})),Ft=w.b.input((function(e){e.theme;return{margin:0}})),Lt=w.b.div((function(e){e.theme;return{flex:"0 0 auto",display:"flex",flexDirection:"column",padding:"10px"}}));function Rt(e){var t=e.id,n=e.value,o=e.title,i=e.getKey,s=e.onDeleteItem,u=e.onMoveItem,l=e.onClickPlus,d=e.onClickTrash,f=e.onChangeCheckbox,b=e.children,h=Object(a.useCallback)((function(e){var t=e.destination,n=e.source;t?n.droppableId===t.droppableId&&n.index!==t.index&&(null===u||void 0===u||u(n.index,t.index)):null===s||void 0===s||s(n.index)}),[s,u]);return Object(r.jsx)(je.a,{onDragEnd:h,children:Object(r.jsxs)(Lt,{children:[Object(r.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(r.jsx)(At,{children:o}),Object(r.jsx)(C.Spacer.Horizontal,{}),d&&n.some((function(e){return!e}))&&Object(r.jsx)("span",{onClick:d,children:Object(r.jsx)(S.TrashIcon,{color:"rgb(139,139,139)"})}),Object(r.jsx)(C.Spacer.Horizontal,{size:12}),l&&Object(r.jsx)("span",{onClick:l,children:Object(r.jsx)(S.PlusIcon,{color:"rgb(139,139,139)"})})]}),Object(r.jsx)(je.c,{droppableId:t,children:function(e){return Object(r.jsxs)("div",Object(c.a)(Object(c.a)({ref:e.innerRef},e.droppableProps),{},{children:[n.map((function(e,t){var n;return Object(r.jsx)(Mt,{id:String(t),index:t,children:b({item:e,index:t,checkbox:f&&Object(r.jsx)(Ft,{type:"checkbox",checked:!0,onChange:function(e){f(t,e.target.checked)}})})},null!==(n=null===i||void 0===i?void 0:i(e))&&void 0!==n?n:t)})),e.placeholder]}))}})]})})}var Dt=Object(a.memo)(Rt),_t=w.b.div((function(e){e.theme;return{flex:"1",display:"flex",flexDirection:"row",alignItems:"center"}})),Et=[T.a.ExportFileFormat.PNG,T.a.ExportFileFormat.JPG,T.a.ExportFileFormat.WEBP,T.a.ExportFileFormat.SVG],Bt=Object(a.memo)((function(e){var t=e.id,n=e.last,o=e.exportFormat,i=e.onDelete,c=e.onChangeScale,s=e.onChangeName,u=e.onChangeFileFormat,l=e.onChangeNamingScheme,d=o.scale,f=o.absoluteSize,b=o.visibleScaleType,h=(b===T.a.VisibleScaleType.Scale?d:f)+y.ExportOptions.getScaleUnits(b),p="".concat(t,"-size"),j="".concat(t,"-"),m="".concat(t,"-opacity"),v=Object(a.useCallback)((function(e){switch(e.id){case p:return Object(r.jsx)(C.Label.Label,{children:"Size"});case j:return Object(r.jsx)(C.Label.Label,{children:"Prefix/Suffix"});case m:return Object(r.jsx)(C.Label.Label,{children:"Format"});default:return null}}),[p,j,m]),g=o.fileFormat!==T.a.ExportFileFormat.SVG,O=o.namingScheme===T.a.ExportFormatNamingScheme.Prefix,x=[Object(r.jsx)(C.InputField.Root,{id:p,size:55,children:Object(r.jsx)(C.InputField.Input,{disabled:!g,value:h,onSubmit:Object(a.useCallback)((function(e,t){var n=y.ExportOptions.parseScale(e);n?c(n):t()}),[c])})}),Object(r.jsxs)(C.InputField.Root,{id:j,labelPosition:O?"end":"start",children:[Object(r.jsx)(C.InputField.Input,{value:o.name,placeholder:O?"Prefix":"Suffix",onSubmit:s,textAlign:O?"end":"start"}),Object(r.jsx)(C.InputField.DropdownMenu,{items:Object(a.useMemo)((function(){return[{value:T.a.ExportFormatNamingScheme.Prefix.toString(),title:"Prefix"},{value:T.a.ExportFormatNamingScheme.Suffix.toString(),title:"Suffix"}]}),[]),buttonId:"".concat(t,"-nameingScheme-button"),onSelect:Object(a.useCallback)((function(e){return l(parseInt(e))}),[l])}),Object(r.jsx)(C.InputField.Label,{children:"..."})]}),Object(r.jsx)(C.InputField.Root,{size:65,id:m,children:Object(r.jsx)(C.Select,{id:"fileFormat-select",value:o.fileFormat,options:Et,getTitle:Object(a.useCallback)((function(e){return e.toUpperCase()}),[]),onChange:u})}),Object(r.jsx)(S.Cross1Icon,{onClick:i,cursor:"pointer"})];return Object(r.jsx)(_t,{id:t,children:n?Object(r.jsx)(C.LabeledElementView,{renderLabel:v,children:Object(C.withSeparatorElements)(x,Object(r.jsx)(C.Spacer.Horizontal,{size:6}))}):Object(r.jsx)(r.Fragment,{children:Object(C.withSeparatorElements)(x,Object(r.jsx)(C.Spacer.Horizontal,{size:6}))})})})),zt=n(221),Ht=n(220),Vt=Object(a.createContext)(void 0),Gt=Object(a.memo)((function(e){var t=e.prefix,n=e.children,o=Object(a.useRef)(1),i=Object(a.useRef)((function(e){return t+e+o.current++})).current;return Object(r.jsx)(Vt.Provider,{value:i,children:n})}));var Nt=function(e){var t=[e.m00,e.m10,e.m01,e.m11,e.m02,e.m12];return"matrix(".concat(t.join(","),")")};function Wt(e){var t=Object(x.o)(),n=function(e){var t=Object(i.a)(e,4),n=t[0],r=t[1],a=t[2],o=t[3],c=[n,r,a].map((function(e){return Number((100*e).toPrecision(4))+"%"}));return 1!==o?"rgba(".concat(c.join(", "),", ").concat(o,")"):"rgb(".concat(c.join(", "),")")}(e.getColor());return e.style===t.PaintStyle.Stroke?{stroke:n,strokeWidth:e.getStrokeWidth(),fill:"none"}:{fill:n}}function Ut(e){var t=Object(i.a)(e,4),n=t[0],r=t[1];return{x:n,y:r,width:t[2]-n,height:t[3]-r}}var Yt=Object(a.memo)((function(e){var t=e.rect,n=e.paint;return Object(r.jsx)("rect",Object(c.a)(Object(c.a)({},Wt(n)),Ut(t)))})),Xt=Object(a.memo)((function(e){var t=e.points,n=e.paint,a=t.map((function(e){var t=e.x,n=e.y;return"".concat(t,",").concat(n)})).join(" ");return Object(r.jsx)("polyline",Object(c.a)({points:a},Wt(n)))})),Kt=Object(a.memo)((function(e){var t=e.path,n=e.paint,a=Object(x.o)();return Object(r.jsx)("path",Object(c.a)({d:t.toSVGString(),fillRule:t.getFillType()===a.FillType.EvenOdd?"evenodd":"nonzero"},Wt(n)))})),qt=Object(a.memo)((function(e){e.rect,e.paragraph;return null})),Jt=Object(a.memo)((function(e){var t=e.clip,n=e.children,o=t.path,i=function(){var e=Object(a.useContext)(Vt);if(!e)throw new Error("Missing ElementIdContextValue");return e}(),s=Object(a.useMemo)((function(){return i("clip-")}),[i]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("clipPath",{id:s,children:o instanceof Float32Array?Object(r.jsx)("rect",Object(c.a)({},Ut(o))):Object(r.jsx)("path",{d:o.toSVGString()})}),n("url(#".concat(s,")"))]})})),Zt={Rect:Yt,Polyline:Xt,Path:Kt,Text:qt,Group:Object(a.memo)((function(e){var t=e.opacity,n=e.transform,a=e.children,o=e.clip,i=(e.colorFilter,e.imageFilter,{opacity:t,transform:n?Nt(n):void 0,children:a});return o?Object(r.jsx)(Jt,{clip:o,children:function(e){return Object(r.jsx)("g",Object(c.a)(Object(c.a)({},i),{},{clipPath:e}))}}):Object(r.jsx)("g",Object(c.a)({},i))})),Image:Object(a.memo)((function(e){var t=e.rect,n=(e.paint,e.image),o=Object(a.useMemo)((function(){var e=Object(B.detectFileType)(n);if(e)return"data:".concat(Object(B.getFileExtensionForType)(e),";base64,").concat(B.Base64.encode(n))}),[n]);return Object(r.jsx)("image",Object(c.a)(Object(c.a)({},Ut(t)),{},{href:o}))}))},$t=0,Qt=Object(a.memo)((function(e){var t=e.size,n=e.children,o=e.idPrefix,i=Object(a.useRef)(null!==o&&void 0!==o?o:"svg-".concat(++$t,"-")).current;return Object(r.jsx)(Gt,{prefix:i,children:Object(r.jsx)("svg",{width:t.width,height:t.height,xmlns:"http://www.w3.org/2000/svg",children:Object(r.jsx)(x.b,{value:Zt,children:n})})})}));function en(e,t,n,a,o,i,s){switch(i){case T.a.ExportFileFormat.SVG:var u=Object(Ht.renderToStaticMarkup)(Object(r.jsx)(x.a,{CanvasKit:e,children:Object(r.jsx)(w.a,{theme:a,children:Object(r.jsx)(k.a,{state:o,children:Object(r.jsx)(x.f,{children:Object(r.jsx)(x.c,{children:Object(r.jsx)(Qt,{idPrefix:"",size:{width:t,height:n},children:s()})})})})})}));return Promise.resolve(B.UTF16.toUTF8('<?xml version="1.0" encoding="UTF-8"?>\n'+u));default:var l=e.MakeSurface(t,n);return l?new Promise((function(t){var n=Object(r.jsx)(x.a,{CanvasKit:e,children:Object(r.jsx)(w.a,{theme:a,children:Object(r.jsx)(k.a,{state:o,children:Object(r.jsx)(x.f,{children:Object(r.jsx)(x.c,{children:Object(r.jsx)(x.b,{value:Y.Components,children:s()})})})})})});Object(Y.render)(n,l,e,(function(){var n=l.makeImageSnapshot(),r="bytes"===i?function(e){var t=e.getColorSpace(),n=e.readPixels(0,0,Object(c.a)(Object(c.a)({},e.getImageInfo()),{},{colorSpace:t}));return t.delete(),n}(n):n.encodeToBytes("png"===i?e.ImageFormat.PNG:"jpg"===i?e.ImageFormat.JPEG:e.ImageFormat.WEBP,100);r?Object(Y.unmount)(l,(function(){t(r),l.delete()})):t(void 0)}))})):(console.warn("failed to create surface"),Promise.resolve(void 0))}}var tn=Object(a.memo)((function(e){var t=e.width,n=e.height,o=e.renderContent,c=Object(x.o)(),s=Object(k.h)(),u=Object(w.c)(),l=Object(a.useState)(),d=Object(i.a)(l,2),f=d[0],b=d[1],h=Object(a.useRef)(null);return Object(a.useLayoutEffect)((function(){var e=!0;return en(c,t,n,u,s,"bytes",o).then((function(r){e&&r&&b(new ImageData(new Uint8ClampedArray(r.buffer),t,n))})),function(){e=!1}}),[c,t,n,u,s,o]),Object(a.useLayoutEffect)((function(){var e;if(f){var t=null===(e=h.current)||void 0===e?void 0:e.getContext("2d");t&&t.putImageData(f,0,0)}}),[n,f,t]),Object(r.jsx)("canvas",{ref:h,width:t,height:n})})),nn=w.b.div((function(e){var t=e.background;return Object(c.a)({position:"relative",width:"100%",height:"100%",overflow:"hidden"},t&&{background:t})})),rn=w.b.div({position:"absolute",top:0,right:0,bottom:0,left:0}),an=Object(a.memo)((function(e){var t=e.renderContent,n=e.background,o=Object(a.useRef)(null),i=U(o),c=Object(a.useCallback)((function(){return i?t(i):null}),[t,i]);return Object(r.jsx)(nn,{ref:o,background:n,children:Object(r.jsx)(rn,{children:i&&Object(r.jsx)(tn,{width:i.width,height:i.height,renderContent:c})})})})),on=Object(a.memo)((function(e){var t=e.layer;return Object(r.jsx)(zt.a,{ratio:Math.max(1,t.frame.width/t.frame.height),children:Object(r.jsx)(an,{renderContent:Object(a.useCallback)((function(e){return Object(r.jsx)(x.g,{layer:t,size:e,showCheckeredBackground:!0})}),[t])})})}));function cn(e,t,n){return sn.apply(this,arguments)}function sn(){return(sn=Object(l.a)(u.a.mark((function e(t,n,r){var a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=new File([r],t,{type:n}),e.next=3,Object(We.b)(a,{fileName:a.name,extensions:[".".concat(Object(B.getFileExtensionForType)(n))]},void 0,!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function un(e,t){var n=e.scale,r=e.absoluteSize;switch(e.visibleScaleType){case T.a.VisibleScaleType.Width:return{width:r,height:t.height};case T.a.VisibleScaleType.Scale:return{width:t.width*n,height:t.height*n};case T.a.VisibleScaleType.Height:return{width:t.width,height:r}}}var ln=Object(a.memo)((function(){var e="Exports",t=Object(k.c)(),n=Object(w.c)(),o=Object(x.o)(),i=Object(k.e)(),c=Object(k.f)(y.Selectors.getSelectedLayers)[0],s=c.exportOptions.exportFormats,d=Object(a.useCallback)(function(){var e=Object(l.a)(u.a.mark((function e(t){var a,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={width:c.frame.width,height:c.frame.height},s=un(t,a),e.abrupt("return",en(o,s.width,s.height,n,i(),t.fileFormat.toString(),(function(){return Object(r.jsx)(x.g,{layer:c,size:s})})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[o,n,c,i]),b=Object(a.useCallback)((function(e){var t=e.name,n=e.namingScheme,r=e.fileFormat;return n===T.a.ExportFormatNamingScheme.Suffix?"".concat(c.name).concat(t,".").concat(r):"".concat(t).concat(c.name,".").concat(r)}),[c]),h=Object(a.useCallback)(Object(l.a)(u.a.mark((function e(){var t,n,r,a;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(1!==s.length){e.next=13;break}if((t=s[0]).fileFormat===T.a.ExportFileFormat.JPG||t.fileFormat===T.a.ExportFileFormat.PNG||t.fileFormat===T.a.ExportFileFormat.SVG||t.fileFormat===T.a.ExportFileFormat.WEBP){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,d(t);case 6:if(n=e.sent){e.next=9;break}return e.abrupt("return");case 9:cn(b(t),Object(B.getFileTypeForExtension)(t.fileFormat),n),e.next=16;break;case 13:r=new f.a,a=s.map(function(){var e=Object(l.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(t);case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:r.file(b(t),n,{base64:!0});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),Promise.allSettled(a).then(Object(l.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.generateAsync({type:"arraybuffer",mimeType:"application/zip"});case 2:t=e.sent,cn("".concat(c.name,".zip"),"application/zip",t);case 4:case"end":return e.stop()}}),e)}))));case 16:case"end":return e.stop()}}),e)}))),[c,s,b,d]),p=[Object(r.jsx)(Dt,{title:e,id:e,value:s,onClickPlus:Object(a.useCallback)((function(){t("addExportFormat")}),[t]),children:Object(a.useCallback)((function(e){var n=e.item,a=e.index;return Object(r.jsx)(Bt,{id:"exportFormat-".concat(a,"}"),last:a===s.length-1,exportFormat:n,onChangeScale:function(e){t("setExportScale",a,e)},onChangeName:function(e){t("setExportName",a,e)},onChangeFileFormat:function(e){t("setExportFileFormat",a,e)},onChangeNamingScheme:function(e){t("setExportNamingScheme",a,e)},onDelete:function(){return t("deleteExportFormat",a)}})}),[s.length,t])},e),s.length>0&&c&&Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(Te,{children:[Object(r.jsx)(on,{layer:c}),Object(r.jsx)(C.Spacer.Vertical,{size:10}),Object(r.jsx)(C.Button,{id:"export-selected",onClick:h,children:"Export Selected..."})]})})];return Object(r.jsx)(r.Fragment,{children:Object(C.withSeparatorElements)(p,Object(r.jsx)(C.Divider,{}))})})),dn=[T.a.GradientType.Linear.toString(),T.a.GradientType.Angular.toString(),T.a.GradientType.Radial.toString()],fn=Object(a.memo)((function(e){var t=e.id,n=e.prefix,o=e.fillType,i=e.contextOpacity,c=e.onSetOpacity,s=e.onSetContextOpacity,u=e.onChangeFillType,l=e.colorProps,d=e.gradientProps,f=e.patternProps,b="".concat(t,"-color"),h="".concat(t,"-hex"),p="".concat(t,"-opacity"),j="".concat(t,"-gradient-type"),m="".concat(t,"-pattern-type"),v=Object(a.useMemo)((function(){switch(o){case T.a.FillType.Color:return"Color";case T.a.FillType.Gradient:return"Gradient";case T.a.FillType.Pattern:return"Image"}}),[o]),g=Object(a.useCallback)((function(e){switch(e.id){case b:return Object(r.jsx)(C.Label.Label,{children:v});case h:return Object(r.jsx)(C.Label.Label,{children:"Hex"});case p:return Object(r.jsx)(C.Label.Label,{children:"Opacity"});case j:return Object(r.jsx)(C.Label.Label,{children:"Type"});case m:return Object(r.jsx)(C.Label.Label,{children:"Size"});default:return null}}),[b,v,h,p,j,m]),O=Object(a.useCallback)((function(e,t){return c(e/100,t)}),[c]),y=Object(a.useCallback)((function(e,t){return s(e/100,t)}),[s]),x=Object(a.useCallback)((function(e){return T.a.GradientType[parseInt(e)]}),[]),S=Object(a.useCallback)((function(e){return d.onChangeGradientType(parseInt(e))}),[d]),w=Object(a.useCallback)((function(e){return f.onChangePatternFillType(T.a.PatternFillType[e])}),[f]),k=Object(a.useMemo)((function(){switch(o){case T.a.FillType.Color:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(C.InputField.Root,{id:h,labelPosition:"start",children:[Object(r.jsx)(C.InputField.Input,{value:l.color?Object(C.sketchColorToHex)(l.color).replace("#",""):"",placeholder:l.color?void 0:"multiple",onSubmit:function(){}}),Object(r.jsx)(C.InputField.Label,{children:"#"})]}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsx)(ee,{id:p,size:50,label:"%",value:l.color?Math.round(100*l.color.alpha):void 0,onSetValue:O})]});case T.a.FillType.Gradient:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(C.Select,{id:j,value:d.gradient.gradientType.toString(),options:dn,getTitle:x,onChange:S}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsx)(ee,{id:p,size:50,label:"%",value:Math.round(100*i),onSetValue:y})]});case T.a.FillType.Pattern:return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(C.Select,{id:m,value:T.a.PatternFillType[f.pattern.patternFillType],options:Ke,onChange:w}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsx)(ee,{id:p,size:50,label:"%",value:Math.round(100*i),onSetValue:y})]})}}),[l.color,i,o,x,d.gradient.gradientType,j,S,w,y,O,h,p,f.pattern.patternFillType,m]);return Object(r.jsx)(Ae,{id:t,children:Object(r.jsxs)(C.LabeledElementView,{renderLabel:g,children:[n,n&&Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsx)(pt,{id:b,fillType:o,onChangeType:u,colorProps:l,gradientProps:d,patternProps:f}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),k]})})})),bn=Object(a.memo)((function(e){var t=e.title,n=e.allowMoreThanOne,o=Object(k.b)(),c=Object(i.a)(o,2)[1],s=N(Object(k.f)(y.Selectors.getSelectedStyles)),u=Object(a.useMemo)((function(){return s.map((function(e){return null===e||void 0===e?void 0:e.fills}))}),[s]).reverse(),l=Object(a.useMemo)((function(){return u[0]||[]}),[u]);return Object(r.jsx)(Ce,{title:t,id:t,value:l,onClickPlus:Object(a.useCallback)((function(){return!n&&l[0]?[]:c("addNewFill")}),[c,n,l]),onClickTrash:Object(a.useCallback)((function(){return c("deleteDisabledFills")}),[c]),onDeleteItem:Object(a.useCallback)((function(e){return c("deleteFill",e)}),[c]),onMoveItem:Object(a.useCallback)((function(e,t){return c("moveFill",e,t)}),[c]),onChangeCheckbox:Object(a.useCallback)((function(e,t){return c("setFillEnabled",e,t)}),[c]),children:Object(a.useCallback)((function(e){var t=e.item,n=e.index,a=e.checkbox;return Object(r.jsx)(fn,{id:"fill-".concat(n),prefix:a,fillType:t.fillType,contextOpacity:t.contextSettings.opacity,onSetOpacity:function(e,t){return c("setFillOpacity",n,e,t)},onSetContextOpacity:function(e,t){return c("setFillContextSettingsOpacity",n,e,t)},onChangeFillType:function(e){return c("setFillFillType",n,e)},colorProps:{color:t.color,onChangeColor:function(e){return c("setFillColor",n,e)}},gradientProps:{gradient:t.gradient,onChangeGradientColor:function(e,t){return c("setFillGradientColor",n,t,e)},onChangeGradientPosition:function(e,t){return c("setFillGradientPosition",n,t,e)},onAddGradientStop:function(e,t){return c("addFillGradientStop",n,e,t)},onDeleteGradientStop:function(e){return c("deleteFillGradientStop",n,e)},onChangeGradientType:function(e){return c("setFillGradientType",n,e)},onChangeGradient:function(e){return c("setFillGradient",n,e)}},patternProps:{pattern:{_class:"pattern",patternFillType:t.patternFillType,patternTileScale:t.patternTileScale,image:t.image},onChangeFillImage:function(e){return c("setFillImage",n,e)},onChangePatternFillType:function(e){return c("setPatternFillType",n,e)},onChangePatternTileScale:function(e){return c("setPatternTileScale",n,e)}}})}),[c])},t)})),hn="none",pn=Object(a.memo)((function(e){var t=e.style,n=e.sharedStyleId,o=e.sharedStyles,i=Object(k.c)(),c=Object(w.c)().colors.icon,s=Object(a.useMemo)((function(){return[hn].concat(Object(de.a)(o.map((function(e){return e.do_objectID}))))}),[o]),u=Object(a.useCallback)((function(e){return e===hn?"No Layer Style":o.find((function(t){return t.do_objectID===e})).name}),[o]),l=Object(a.useCallback)((function(e){i("setThemeStyle",e===hn?void 0:e)}),[i]),d=Object(a.useCallback)((function(){var e=prompt("New style name");e&&i("addThemeStyle",e,t)}),[i,t]),f=Object(a.useCallback)((function(){if(n){var e=prompt("Rename style");e&&i("setThemeStyleName",n,e)}}),[n,i]),b=Object(a.useCallback)((function(){return i("setThemeStyle")}),[i]),h=Object(a.useCallback)((function(){n&&i("updateThemeStyle",n,t)}),[n,i,t]),p=Object(a.useCallback)((function(){var e=o.find((function(e){return e.do_objectID===n}));n&&e&&i("setThemeStyle",n)}),[n,o,i]);return Object(r.jsxs)(Te,{children:[Object(r.jsx)(Ie,{children:Object(r.jsx)(Me,{children:"Theme"})}),Object(r.jsx)(C.Spacer.Vertical,{size:10}),Object(r.jsx)(Ae,{children:Object(r.jsx)(C.Select,{id:"theme-layer-style",value:n||hn,options:s,getTitle:u,onChange:l})}),Object(r.jsx)(C.Spacer.Vertical,{size:10}),Object(r.jsxs)(Ae,{children:[Object(r.jsx)(C.Button,{id:"create-layer-style",tooltip:"Create theme style from layer",onClick:d,children:Object(r.jsx)(S.PlusIcon,{color:c})}),Object(r.jsx)(C.Spacer.Horizontal,{size:10}),Object(r.jsx)(C.Button,{id:"update-layer-style",disabled:void 0===n,tooltip:"Update theme style to match layer",onClick:h,children:Object(r.jsx)(S.UpdateIcon,{color:c})}),Object(r.jsx)(C.Spacer.Horizontal,{size:10}),Object(r.jsx)(C.Button,{id:"detach-layer-style",disabled:void 0===n,tooltip:"Detach style from theme",onClick:b,children:Object(r.jsx)(S.LinkBreak2Icon,{color:c})}),Object(r.jsx)(C.Spacer.Horizontal,{size:10}),Object(r.jsx)(C.Button,{id:"rename-style",disabled:void 0===n,tooltip:"Rename theme style",onClick:f,children:Object(r.jsx)(S.CursorTextIcon,{color:c})}),Object(r.jsx)(C.Spacer.Horizontal,{size:10}),Object(r.jsx)(C.Button,{id:"reset-style",disabled:void 0===n,tooltip:"Reset layer style to theme style",onClick:p,children:Object(r.jsx)(S.ResetIcon,{color:c})})]})]})}));function jn(){var e,t=N(Object(k.f)(y.Selectors.getSharedStyles)),n=Object(k.f)(y.Selectors.getSelectedLayers),o=Object(a.useMemo)((function(){return vt(n.map((function(e){return e.sharedStyleID})))}),[n]);return Object(r.jsx)(pn,{style:null===(e=n[0])||void 0===e?void 0:e.style,sharedStyleId:o,sharedStyles:t})}var mn=Object(a.memo)((function(){var e=Object(k.b)(),t=Object(i.a)(e,2)[1],n=N(Object(k.f)(y.Selectors.getSelectedStyles)),o=N(n.flatMap((function(e){return(null===e||void 0===e?void 0:e.contextSettings)?[e.contextSettings]:[]}))),c=Object(a.useMemo)((function(){return gt(o.map((function(e){return e.opacity})))}),[o]),s=Object(a.useCallback)((function(e){t("setOpacity",e/100,"replace")}),[t]),u=Object(a.useCallback)((function(e){t("setOpacity",e/100,"adjust")}),[t]);return Object(a.useMemo)((function(){var e=void 0!==c?Math.round(100*c):void 0;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(Te,{children:[Object(r.jsx)(Ie,{children:Object(r.jsx)(Me,{children:"Opacity"})}),Object(r.jsx)(C.Spacer.Vertical,{size:4}),Object(r.jsxs)(Ae,{children:[Object(r.jsx)(C.Slider,{id:"opacity-slider",value:null!==e&&void 0!==e?e:0,onValueChange:s,min:0,max:100}),Object(r.jsx)(C.Spacer.Horizontal,{size:10}),Object(r.jsxs)(C.InputField.Root,{id:"opacity-input",size:50,children:[Object(r.jsx)(C.InputField.NumberInput,{value:e,placeholder:void 0===e?"multi":void 0,onSubmit:s,onNudge:u}),Object(r.jsx)(C.InputField.Label,{children:"%"})]})]})]})})}),[c,s,u])})),vn=["Straight","Mirrored","Asymmetric","Disconnected"];function gn(e){switch(e){case T.a.CurveMode.None:return"None";case T.a.CurveMode.Straight:return"Straight";case T.a.CurveMode.Mirrored:return"Mirrored";case T.a.CurveMode.Disconnected:return"Disconnected";case T.a.CurveMode.Asymmetric:return"Asymmetric"}}var On=Object(a.memo)((function(){var e,t,n=Object(k.b)(),o=Object(i.a)(n,2),c=o[0],s=o[1],u=Object.keys(c.selectedPointLists),l=y.Layers.findAll(y.Selectors.getCurrentPage(c),(function(e){return u.includes(e.do_objectID)})).filter((function(e){return y.Layers.isPointsLayer(e)})),d=null===(e=vt(l.map((function(e){return e.isClosed}))))||void 0===e||e,f=y.Selectors.getCurvePointForSelectedControlPoint(c),b=f?[f]:y.Selectors.getSelectedPoints(c),h=vt(b.map((function(e){return e.curveMode})))||T.a.CurveMode.None,p=gt(b.map((function(e){return e.cornerRadius}))),j=Object(a.useCallback)((function(e){return s("setPointCornerRadius",e,"replace")}),[s]),m=Object(a.useCallback)((function(e){return s("setPointCornerRadius",e,"adjust")}),[s]),v="point-type",g="point-radius",O=Object(a.useCallback)((function(e){switch(e.id){case v:return Object(r.jsx)(C.Label.Label,{children:"Point Type"});case g:return Object(r.jsx)(C.Label.Label,{children:"Radius"});default:return null}}),[]);return Object(r.jsxs)(Te,{children:[Object(r.jsx)(Ie,{children:Object(r.jsx)(Me,{children:"Point Controls"})}),Object(r.jsx)(C.Spacer.Vertical,{size:4}),Object(r.jsx)(Ae,{children:Object(r.jsxs)(C.LabeledElementView,{renderLabel:O,children:[Object(r.jsx)(C.Select,{id:v,value:null!==(t=gn(h))&&void 0!==t?t:"None",options:vn,onChange:Object(a.useCallback)((function(e){"None"!==e&&s("setPointCurveMode",function(e){switch(e){case"None":return T.a.CurveMode.None;case"Straight":return T.a.CurveMode.Straight;case"Mirrored":return T.a.CurveMode.Mirrored;case"Disconnected":return T.a.CurveMode.Disconnected;case"Asymmetric":return T.a.CurveMode.Asymmetric}}(e))}),[s])}),Object(r.jsx)(C.Spacer.Horizontal,{size:10}),Object(r.jsx)(C.InputField.Root,{id:g,size:50,children:Object(r.jsx)(C.InputField.NumberInput,{value:p,placeholder:void 0===p?"multi":void 0,onSubmit:j,onNudge:m})})]})}),Object(r.jsx)(C.Spacer.Vertical,{size:10}),Object(r.jsx)(Ae,{children:Object(r.jsx)(Fe,{children:Object(r.jsx)(C.Button,{id:"toggle-path-is-closed",disabled:0===l.length,onClick:Object(a.useCallback)((function(){s("setIsClosed",!d)}),[s,d]),children:d?"Open Path":"Close Path"})})})]})}));function yn(e,t){return Number(e.toFixed(t))}function xn(e){var t=e.x,n=e.y,a=e.onSetX,o=e.onSetY;return Object(r.jsxs)(Ae,{children:[Object(r.jsx)(ee,{value:t?yn(t,2):void 0,onSetValue:a,label:"X"}),Object(r.jsx)(C.Spacer.Horizontal,{size:16}),Object(r.jsx)(ee,{value:n?yn(n,2):void 0,onSetValue:o,label:"Y"})]})}var Sn=Object(a.memo)((function(){var e=Object(k.b)(),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(a.useCallback)((function(e,t){o("setPointX",n.selectedPointLists,e,t)}),[o,n.selectedPointLists]),s=Object(a.useCallback)((function(e,t){o("setPointY",n.selectedPointLists,e,t)}),[o,n.selectedPointLists]),u=y.Selectors.getSelectedPoints(n).map((function(e){return e.point})),l=gt(u.map((function(e){return e.x}))),d=gt(u.map((function(e){return e.y})));return Object(r.jsx)(xn,{x:l,y:d,onSetX:c,onSetY:s})})),Cn=Object(a.memo)((function(){var e=Object(k.b)(),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(a.useCallback)((function(e,t){o("setControlPointX",e,t)}),[o]),s=Object(a.useCallback)((function(e,t){o("setControlPointY",e,t)}),[o]),u=y.Selectors.getCurvePointForSelectedControlPoint(n);if(!u||!n.selectedControlPoint)return null;var l=u[n.selectedControlPoint.controlPointType],d=l.x,f=l.y;return Object(r.jsx)(xn,{x:d,y:f,onSetX:c,onSetY:s})})),wn=Object(a.memo)((function(){var e=Object(k.b)(),t=Object(i.a)(e,2)[1],n=N(Object(k.f)(y.Selectors.getSelectedLayersWithFixedRadius)),o=N(n.flatMap((function(e){return e.fixedRadius}))),c=Object(a.useMemo)((function(){return gt(o)}),[o]),s=Object(a.useCallback)((function(e){t("setFixedRadius",e,"replace")}),[t]),u=Object(a.useCallback)((function(e){t("setFixedRadius",e,"adjust")}),[t]);return Object(a.useMemo)((function(){var e=void 0!==c?Math.round(c):void 0;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(Te,{children:[Object(r.jsx)(Ie,{children:Object(r.jsx)(Me,{children:"Radius"})}),Object(r.jsx)(C.Spacer.Vertical,{size:4}),Object(r.jsxs)(Ae,{children:[Object(r.jsx)(C.Slider,{id:"radius-slider",value:null!==e&&void 0!==e?e:0,onValueChange:s,min:0,max:100}),Object(r.jsx)(C.Spacer.Horizontal,{size:10}),Object(r.jsx)(C.InputField.Root,{id:"radius-input",size:50,children:Object(r.jsx)(C.InputField.NumberInput,{value:e,placeholder:void 0===e?"multi":void 0,onSubmit:s,onNudge:u})})]})]})})}),[c,s,u])})),kn=Object(a.memo)((function(e){var t=e.id,n=e.prefix,o=e.x,i=e.y,c=e.blur,s=e.spread,u=e.onSetX,l=e.onSetY,d=e.onSetBlur,f=e.onSetSpread,b=e.colorProps,h="".concat(t,"-color"),p="".concat(t,"-x"),j="".concat(t,"-y"),m="".concat(t,"-blur"),v="".concat(t,"-spread"),g=Object(a.useCallback)((function(e){switch(e.id){case h:return Object(r.jsx)(C.Label.Label,{children:"Color"});case p:return Object(r.jsx)(C.Label.Label,{children:"X"});case j:return Object(r.jsx)(C.Label.Label,{children:"Y"});case m:return Object(r.jsx)(C.Label.Label,{children:"Blur"});case v:return Object(r.jsx)(C.Label.Label,{children:"Spread"});default:return null}}),[h,p,j,m,v]);return Object(r.jsx)(Ae,{id:t,children:Object(r.jsxs)(C.LabeledElementView,{renderLabel:g,children:[n,n&&Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsx)(pt,{id:h,colorProps:b}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsx)(ee,{id:p,size:50,value:void 0!==o?Math.round(o):o,onSetValue:u}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsx)(ee,{id:j,size:50,value:void 0!==i?Math.round(i):i,onSetValue:l}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsx)(ee,{id:m,size:50,value:void 0!==c?Math.round(c):c,onSetValue:d}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsx)(ee,{id:v,size:50,value:void 0!==s?Math.round(s):s,onSetValue:f})]})})})),Pn=Object(a.memo)((function(){var e=Object(k.c)(),t=N(Object(k.f)(y.Selectors.getSelectedStyles)),n=N(t.map((function(e){var t;return null!==(t=null===e||void 0===e?void 0:e.shadows)&&void 0!==t?t:[]}))),o=Object(a.useMemo)((function(){return B.zipLongest.apply(void 0,[void 0].concat(Object(de.a)(n))).map((function(e){var t,n=e.flatMap((function(e){return e?[e]:[]}));return{isEnabled:null===(t=vt(n.map((function(e){return e.isEnabled}))))||void 0===t||t,blurRadius:gt(n.map((function(e){return e.blurRadius}))),color:vt(n.map((function(e){return e.color})),B.isDeepEqual),offsetX:vt(n.map((function(e){return e.offsetX}))),offsetY:vt(n.map((function(e){return e.offsetY}))),spread:vt(n.map((function(e){return e.spread})))}}))}),[n]);return Object(r.jsx)(Ce,{title:"Shadows",id:"shadows",value:o,onClickPlus:Object(a.useCallback)((function(){return e("addNewShadow")}),[e]),onClickTrash:Object(a.useCallback)((function(){return e("deleteDisabledShadows")}),[e]),onDeleteItem:Object(a.useCallback)((function(t){return e("deleteShadow",t)}),[e]),onMoveItem:Object(a.useCallback)((function(t,n){return e("moveShadow",t,n)}),[e]),onChangeCheckbox:Object(a.useCallback)((function(t,n){return e("setShadowEnabled",t,n)}),[e]),children:Object(a.useCallback)((function(t){var n=t.item,a=t.index,o=t.checkbox;return Object(r.jsx)(kn,{id:"shadow-".concat(a),prefix:o,x:n.offsetX,y:n.offsetY,blur:n.blurRadius,spread:n.spread,onSetX:function(t,n){return e("setShadowX",a,t,n)},onSetY:function(t,n){return e("setShadowY",a,t,n)},onSetBlur:function(t,n){return e("setShadowBlur",a,t,n)},onSetSpread:function(t,n){return e("setShadowSpread",a,t,n)},colorProps:{color:n.color,onChangeColor:function(t){return e("setShadowColor",a,t)}}})}),[e])},"shadows")})),Tn=Object(a.memo)((function(e){var t=e.symbolId,n=e.onSelect,o=e.onDetach,i=e.onEditSource,c=N(Object(k.f)(y.Selectors.getSymbols)),s=Object(w.c)().colors.icon,u=Object(a.useMemo)((function(){return c.map((function(e){return e.symbolID}))}),[c]),l=Object(a.useCallback)((function(e){return c.find((function(t){return t.symbolID===e})).name}),[c]);return Object(r.jsxs)(Te,{children:[Object(r.jsx)(Ie,{children:Object(r.jsx)(Me,{children:"Symbol"})}),Object(r.jsx)(C.Spacer.Vertical,{size:10}),Object(r.jsx)(Ae,{children:Object(r.jsx)(C.Select,{id:"symbol-instance-source",value:t,options:u,getTitle:l,onChange:n})}),Object(r.jsx)(C.Spacer.Vertical,{size:10}),Object(r.jsxs)(Ae,{children:[Object(r.jsx)(C.Button,{id:"detach-source-symbol",disabled:void 0===t,tooltip:"Detach instance from symbol",onClick:o,children:Object(r.jsx)(S.LinkBreak2Icon,{color:s})}),Object(r.jsx)(C.Spacer.Horizontal,{size:10}),Object(r.jsx)(C.Button,{id:"edit-source-symbol",disabled:void 0===t,tooltip:"Edit Symbol Source",onClick:i,children:Object(r.jsx)(S.ComponentInstanceIcon,{color:s})})]})]})})),In=n(35);function Mn(e){var t,n,r=Object(a.useRef)(e);return t=r.current,n=e,Object(B.isShallowEqual)(t,n)||JSON.stringify(t)===JSON.stringify(n)||(r.current=e),r.current}var An=w.b.span((function(e){return{color:e.theme.colors.mask,flex:"0 0 auto",display:"flex",alignItems:"center"}}));var Fn=Object(a.memo)((function(e){var t=e.type,n=e.selected,a=e.variant,o=Object(w.c)().colors,i=a&&!n?o[a]:n?o.iconSelected:o.icon;switch(t){case"rectangle":return Object(r.jsx)(S.SquareIcon,{color:i});case"oval":return Object(r.jsx)(S.CircleIcon,{color:i});case"text":return Object(r.jsx)(S.TextIcon,{color:i});case"artboard":return Object(r.jsx)(S.FrameIcon,{color:i});case"symbolMaster":return Object(r.jsx)(S.Component1Icon,{color:i});case"symbolInstance":return Object(r.jsx)(S.ComponentInstanceIcon,{color:i});case"group":return Object(r.jsx)(S.GroupIcon,{color:i});case"bitmap":return Object(r.jsx)(S.ImageIcon,{color:i});case"shapeGroup":return Object(r.jsx)(S.CopyIcon,{color:i});case"shapePath":return Object(r.jsx)(S.Share1Icon,{color:i});default:return null}})),Ln=Object(a.memo)(Object(a.forwardRef)((function(e,t){var n=e.name,o=e.selected,s=e.visible,u=(e.isWithinMaskChain,e.onHoverChange),l=e.onChangeVisible,d=e.onChangeIsLocked,f=e.isLocked,b=e.isDragging,h=Object(te.a)(e,["name","selected","visible","isWithinMaskChain","onHoverChange","onChangeVisible","onChangeIsLocked","isLocked","isDragging"]),p=Object(a.useState)(!1),j=Object(i.a)(p,2),m=j[0],v=j[1],g=Object(a.useCallback)((function(e){null===u||void 0===u||u(e),v(e)}),[u]),O=Object(a.useCallback)((function(e){e.stopPropagation(),l(!0)}),[l]),y=Object(a.useCallback)((function(e){e.stopPropagation(),l(!1)}),[l]),x=Object(a.useCallback)((function(e){e.stopPropagation(),d(!0)}),[d]),w=Object(a.useCallback)((function(e){e.stopPropagation(),d(!1)}),[d]),k=Object(r.jsx)(C.TreeView.RowTitle,{children:n});return Object(r.jsx)(C.TreeView.Row,Object(c.a)(Object(c.a)({ref:t,onHoverChange:g,selected:!b&&o,disabled:!s,hovered:!b&&m},h),{},{children:b?k:Object(C.withSeparatorElements)([k,f?Object(r.jsx)(S.LockClosedIcon,{onClick:w}):m?Object(r.jsx)(S.LockOpen1Icon,{onClick:x}):null,s?m?Object(r.jsx)(S.EyeOpenIcon,{onClick:y}):f?Object(r.jsx)(C.Spacer.Horizontal,{size:15}):null:Object(r.jsx)(S.EyeClosedIcon,{onClick:O})],Object(r.jsx)(C.Spacer.Horizontal,{size:6}))}))}))),Rn=Object(a.memo)((function(){var e=Object(k.b)(),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(k.d)(),s=Object(k.f)(y.Selectors.getCurrentPage),u=Object(k.f)(y.Selectors.getSelectedLayers),l=Object(k.g)().highlightLayer,d=N(n.selectedObjects),f=Mn(function(e,t){var n=[];return Object(In.visit)(e,{getChildren:function(e){return e.layerListExpandedType===T.a.LayerListExpanded.Collapsed?[]:y.Layers.getChildren(e).slice().reverse()},onEnter:function(r,a){var o;if(!y.Layers.isPageLayer(r)){var i=a[a.length-1],c=y.Layers.accessReversed(e,a.slice(0,-1));n.push({type:r._class,id:r.do_objectID,name:r.name,depth:a.length-1,expanded:r.layerListExpandedType!==T.a.LayerListExpanded.Collapsed,selected:t.includes(r.do_objectID),visible:r.isVisible,hasClippingMask:null!==(o=r.hasClippingMask)&&void 0!==o&&o,shouldBreakMaskChain:r.shouldBreakMaskChain,isWithinMaskChain:y.Layers.isWithinMaskChain(c,i),isLocked:r.isLocked})}}}),n}(s,d)),b=W(u),h=Object(i.a)(b,2),p=h[0],j=h[1],m=Object(a.useCallback)((function(e,t,n){var a=e.id,i=e.name,c=e.depth,s=e.type,u=e.expanded,b=e.selected,h=e.visible,m=e.isWithinMaskChain,v=e.hasClippingMask,g=e.isLocked,O=n.isDragging,y="symbolInstance"===s||"symbolMaster"===s,x="artboard"===s||"symbolMaster"===s,w=x||"group"===s||"shapeGroup"===s;return Object(r.jsx)(Ln,{id:a,menuItems:p,onSelectMenuItem:j,onContextMenu:function(){b||o("selectLayer",a)},name:i,visible:h,isWithinMaskChain:m,isLocked:g,isDragging:O,depth:c,selected:b,onClick:function(e){var n=e.metaKey,r=e.shiftKey;if(o("interaction",["reset"]),n)o("selectLayer",a,d.includes(a)?"difference":"intersection");else if(r&&d.length>0){var i=f.findIndex((function(e){return e.id===d[d.length-1]})),c=Math.min(t,i),s=Math.max(t,i)+1;o("selectLayer",f.slice(c,s).map((function(e){return e.id})),"intersection")}else o("selectLayer",a,"replace")},onHoverChange:function(e){l(e?{id:a,precedence:"aboveSelection",isMeasured:!1}:void 0)},onChangeVisible:function(e){return o("setLayerVisible",a,e)},onChangeIsLocked:function(e){return o("setLayerIsLocked",a,e)},icon:Object(r.jsxs)(An,{children:[v?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(S.MaskOnIcon,{}),Object(r.jsx)(C.Spacer.Horizontal,{size:4})]}):m?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(S.ArrowDownIcon,{}),Object(r.jsx)(C.Spacer.Horizontal,{size:4})]}):null,Object(r.jsx)(Fn,{type:s,selected:b,variant:y?"primary":void 0})]}),isSectionHeader:x,expanded:w?u:void 0,onClickChevron:function(){return o("setExpandedInLayerList",a,!u)}},a)}),[o,l,f,p,j,d]);return Object(r.jsx)(C.TreeView.Root,{items:f,renderItem:m,scrollable:!0,sortable:!0,onClick:Object(a.useCallback)((function(){return o("selectLayer",void 0)}),[o]),onMoveItem:Object(a.useCallback)((function(e,t,n){var r=f[e].id,a=d.includes(r)?d:r;o("moveLayer",a,f[t].id,n)}),[o,f,d]),acceptsDrop:Object(a.useCallback)((function(e,t,n){var r=d.includes(e)?d:e,a=c(),o=y.Selectors.getCurrentPage(a),i=y.Layers.findAllIndexPaths(o,(function(e){return r.includes(e.do_objectID)})),s=y.Layers.findIndexPath(o,(function(e){return e.do_objectID===t}));if(0===i.length||!s)return!1;if(i.some((function(e){return Object(B.isDeepEqual)(e,s.slice(0,e.length))})))return!1;var u=i.map((function(e){return y.Layers.access(o,e)})),l=y.Layers.access(o,s);return!(l.layerListExpandedType!==T.a.LayerListExpanded.Collapsed&&y.Layers.isParentLayer(l)&&l.layers.length>0&&"below"===n)&&((!u.some(y.Layers.isSymbolMasterOrArtboard)||!("inside"===n||s.length>1))&&!("inside"===n&&!y.Layers.isParentLayer(l)))}),[c,d])})})),Dn=function(e){var t=e.themeStyles,n=e.sharedStyleID,o=e.onChange,i=Object(a.useMemo)((function(){return t.map((function(e){return e.do_objectID}))}),[t]),c=Object(a.useCallback)((function(e){return t.find((function(t){return t.do_objectID===e})).name}),[t]);return Object(r.jsx)(C.Select,{id:"theme-style-selector",value:n,options:i,getTitle:c,onChange:o})},_n=function(e){var t=e.textStyles,n=e.sharedStyleID,o=e.onChange,i=Object(a.useMemo)((function(){return t.map((function(e){return e.do_objectID}))}),[t]),c=Object(a.useCallback)((function(e){return t.find((function(t){return t.do_objectID===e})).name}),[t]);return Object(r.jsx)(C.Select,{id:"text-style-selector",value:n,options:i,getTitle:c,onChange:o})},En=function(e){var t=e.symbols,n=e.symbolId,o=e.onChange,i=Object(a.useMemo)((function(){return["none"].concat(Object(de.a)(t.map((function(e){return e.symbolID}))))}),[t]),c=Object(a.useCallback)((function(e){return"none"===e?"No Symbol":t.find((function(t){return t.symbolID===e})).name}),[t]);return Object(r.jsx)(C.Select,{id:"symbol-instance-source",value:n,options:i,getTitle:c,onChange:o})};function Bn(e,t,n,a,o,i,c){return Object(de.a)(t.layers).reverse().flatMap((function(t){var s=[].concat(Object(de.a)(n),[t.do_objectID]),u=s.join("/"),l=function(e){return y.Overrides.canOverrideProperty(i,e,u)},d=Object(r.jsx)(C.TreeView.Row,{isSectionHeader:!0,depth:a,icon:Object(r.jsx)(Fn,{type:t._class}),children:Object(r.jsx)(C.TreeView.RowTitle,{children:t.name})},u+" title");switch(t._class){case"symbolInstance":var f,b=null!==(f=y.Overrides.getOverrideValue(o,"symbolID",u))&&void 0!==f?f:t.symbolID,h=y.Selectors.findSymbolMaster(e,b);if(!h&&"none"!==b)return[];var p=h&&h.allowsOverrides?Bn(e,h,s,a+(l("symbolID")?1:0),o,i,c):[],j=u+"_symbolID";return[l("symbolID")&&d,l("symbolID")&&Object(r.jsx)(C.TreeView.Row,{depth:a+1,children:Object(r.jsx)(En,{symbols:y.Selectors.getSymbols(e),symbolId:b,onChange:function(e){return c(j,e)}})},j)].concat(Object(de.a)(p));case"text":var m,v,g=u+"_stringValue",O=u+"_textStyle";return[(l("stringValue")||t.sharedStyleID&&l("textStyle"))&&d,l("stringValue")&&Object(r.jsx)(C.TreeView.Row,{depth:a+1,children:Object(r.jsx)(C.InputField.Root,{children:Object(r.jsx)(C.InputField.Input,{value:null!==(m=y.Overrides.getOverrideValue(o,"stringValue",u))&&void 0!==m?m:"",placeholder:t.attributedString.string,onChange:function(e){return c(g,e)}})})},g),t.sharedStyleID&&l("textStyle")&&Object(r.jsx)(C.TreeView.Row,{depth:a+1,children:Object(r.jsx)(_n,{textStyles:y.Selectors.getSharedTextStyles(e),sharedStyleID:null!==(v=y.Overrides.getOverrideValue(o,"textStyle",u))&&void 0!==v?v:t.sharedStyleID,onChange:function(e){return c(O,e)}})},O)];case"bitmap":var x=u+"_image";return l("image")?[d,Object(r.jsx)(C.TreeView.Row,{depth:a+1,children:Object(r.jsx)(C.InputField.Root,{children:Object(r.jsx)(C.InputField.Input,{value:"",placeholder:"",onChange:function(){}})})},x)]:[];default:var S,w=u+"_layerStyle";return l("layerStyle")&&t.sharedStyleID?[d,t.sharedStyleID&&Object(r.jsx)(C.TreeView.Row,{depth:a+1,children:Object(r.jsx)(Dn,{themeStyles:y.Selectors.getSharedStyles(e),sharedStyleID:null!==(S=y.Overrides.getOverrideValue(o,"layerStyle",u))&&void 0!==S?S:t.sharedStyleID,onChange:function(e){return c(w,e)}})},w)]:[]}}))}var zn=Object(a.memo)((function(e){var t=e.overrideValues,n=e.symbolMaster,a=e.onResetOverrideValue,o=e.onSetOverrideValue,c=Object(k.b)(),s=Bn(Object(i.a)(c,1)[0],n,[],0,t,n.overrideProperties,o);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Te,{children:Object(r.jsxs)(Ae,{children:[Object(r.jsx)(Me,{children:"Overrides"}),Object(r.jsx)(C.Spacer.Horizontal,{}),Object(r.jsx)(C.Button,{id:"reset-symbol-sverrides",tooltip:"Reset Overrides",onClick:a,children:Object(r.jsx)(S.ResetIcon,{})})]})}),n.allowsOverrides&&Object(r.jsx)(C.TreeView.Root,{expandable:!1,children:s})]})})),Hn=Object(a.memo)((function(){var e=Object(k.c)(),t=N(Object(k.f)(y.Selectors.getSelectedLayers))[0],n=N(Object(k.f)(y.Selectors.getSymbols)).find((function(e){return e.symbolID===t.symbolID})),o=Object(a.useCallback)((function(t,n){e("setOverrideValue",t,""===n?void 0:n)}),[e]),i=Object(a.useCallback)((function(){e("setOverrideValue")}),[e]),c=[Object(r.jsx)(Tn,{symbolId:t.symbolID,onSelect:Object(a.useCallback)((function(t){e("setInstanceSymbolSource",t)}),[e]),onDetach:Object(a.useCallback)((function(){return e("detachSymbol",t.do_objectID)}),[e,t.do_objectID]),onEditSource:Object(a.useCallback)((function(){return e("goToSymbolSource",t.symbolID)}),[e,t.symbolID])}),Object(r.jsx)(bn,{title:"Tint",allowMoreThanOne:!1}),n&&Object(r.jsx)(zn,{overrideValues:t.overrideValues,symbolMaster:n,onSetOverrideValue:o,onResetOverrideValue:i})];return Object(r.jsx)(r.Fragment,{children:Object(C.withSeparatorElements)(c,Object(r.jsx)(C.Divider,{}))})})),Vn=Object(a.memo)((function(e){var t=e.resizesContent,n=e.backgroundColor,o=e.hasBackgroundColor,i=e.includeBackgroundColorInExport,c=e.includeBackgroundColorInInstance,s=e.setAdjustContentOnResize,u=e.setHasBackgroundColor,l=e.setBackgroundColor,d=e.setIncludeBackgroundInExport,f=e.setIncludeBackgroundInInstances,b=Object(a.useCallback)((function(e){return d(e.target.checked)}),[d]),h=Object(a.useCallback)((function(e){return f(e.target.checked)}),[f]);return Object(r.jsxs)(Te,{children:[Object(r.jsx)(Me,{children:"Symbol Source"}),Object(r.jsx)(C.Spacer.Vertical,{size:4}),Object(r.jsxs)(Ae,{children:[Object(r.jsx)(Le,{type:"checkbox",checked:t,onChange:Object(a.useCallback)((function(e){return s(e.target.checked)}),[s])}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsx)(Re,{children:"Adjust content on resize"})]}),Object(r.jsxs)(Ae,{children:[Object(r.jsx)(Le,{type:"checkbox",checked:o,onChange:Object(a.useCallback)((function(e){return u(e.target.checked)}),[u])}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsx)(Re,{children:"Background color"}),Object(r.jsx)(C.Spacer.Horizontal,{size:65}),Object(r.jsx)(pt,{id:"colorInputId",colorProps:Object(a.useMemo)((function(){return{color:n,onChangeColor:l}}),[n,l])})]}),o&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(Ae,{children:[Object(r.jsx)(C.Spacer.Horizontal,{size:12}),Object(r.jsx)(Le,{type:"checkbox",checked:i,onChange:b}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsx)(Re,{children:"Include in Export"})]}),Object(r.jsxs)(Ae,{children:[Object(r.jsx)(C.Spacer.Horizontal,{size:12}),Object(r.jsx)(Le,{type:"checkbox",checked:c,onChange:h}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsx)(Re,{children:"Include in Instances"})]})]})]})})),Gn=Object(a.memo)((function(e){var t,n=e.groupLayout,o=e.setMinWidth,i=e.setLayoutAxis,c=e.setLayoutAnchor,s=n&&y.GroupLayouts.isInferredLayout(n)?n:void 0,u=null!==(t=null===s||void 0===s?void 0:s.axis)&&void 0!==t?t:T.a.InferredLayoutAxis.Horizontal,l=null===s||void 0===s?void 0:s.layoutAnchor,d=null===s||void 0===s?void 0:s.minSize,f=void 0===s,b=Object(a.useCallback)((function(e){switch(e.id){case"0-0":return Object(r.jsx)(C.Label.Label,{children:"Left to Right"});case"0-1":return Object(r.jsx)(C.Label.Label,{children:"Center"});case"0-2":return Object(r.jsx)(C.Label.Label,{children:"Right to Left"});case"1-0":return Object(r.jsx)(C.Label.Label,{children:"Top to Bottom"});case"1-1":return Object(r.jsx)(C.Label.Label,{children:"Middle"});case"1-2":return Object(r.jsx)(C.Label.Label,{children:"Bottom to Top"});default:return Object(r.jsx)(C.Label.Label,{})}}),[]),h=Object(a.useCallback)((function(e){return o(e,"adjust")}),[o]),p=Object(a.useCallback)((function(e){return o(e,"replace")}),[o]);return Object(r.jsxs)(Te,{children:[Object(r.jsx)(Me,{children:"Layout"}),Object(r.jsx)(C.Spacer.Vertical,{size:4}),Object(r.jsx)(Ae,{children:Object(r.jsxs)(C.RadioGroup.Root,{value:f?"none":null===u||void 0===u?void 0:u.toString(),onValueChange:Object(a.useCallback)((function(e){return i("none"===e.target.value?void 0:parseInt(e.target.value))}),[i]),children:[Object(r.jsx)(C.RadioGroup.Item,{value:"none",children:"None"}),Object(r.jsx)(C.RadioGroup.Item,{value:T.a.InferredLayoutAxis.Horizontal.toString(),children:"Horizontal"}),Object(r.jsx)(C.RadioGroup.Item,{value:T.a.InferredLayoutAxis.Vertical.toString(),children:"Vertical"})]})}),Object(r.jsx)(C.Spacer.Vertical,{size:6}),Object(r.jsx)(Ae,{children:Object(r.jsx)(C.LabeledElementView,{renderLabel:b,children:Object(r.jsxs)(C.RadioGroup.Root,{id:"".concat(u,"-").concat(l),value:f?"":null===l||void 0===l?void 0:l.toString(),onValueChange:Object(a.useCallback)((function(e){return c(parseInt(e.target.value))}),[c]),children:[Object(r.jsx)(C.RadioGroup.Item,{value:T.a.InferredLayoutAnchor.Min.toString(),disabled:f,children:f||u===T.a.InferredLayoutAxis.Horizontal?Object(r.jsx)(S.PinRightIcon,{}):Object(r.jsx)(S.PinBottomIcon,{})}),Object(r.jsx)(C.RadioGroup.Item,{disabled:f,value:T.a.InferredLayoutAnchor.Middle.toString(),children:f||u===T.a.InferredLayoutAxis.Horizontal?Object(r.jsx)(S.SpaceEvenlyHorizontallyIcon,{}):Object(r.jsx)(S.SpaceEvenlyVerticallyIcon,{})}),Object(r.jsx)(C.RadioGroup.Item,{disabled:f,value:T.a.InferredLayoutAnchor.Max.toString(),children:f||u===T.a.InferredLayoutAxis.Horizontal?Object(r.jsx)(S.PinLeftIcon,{}):Object(r.jsx)(S.PinTopIcon,{})})]})})}),Object(r.jsx)(C.Spacer.Vertical,{size:6}),!f&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(C.Spacer.Vertical,{size:6}),Object(r.jsx)(C.Divider,{}),Object(r.jsx)(C.Spacer.Vertical,{size:6}),Object(r.jsxs)(Ae,{children:[Object(r.jsx)(Re,{children:"Minimum Width"}),Object(r.jsx)(C.Spacer.Horizontal,{size:75}),Object(r.jsx)(C.InputField.Root,{id:"font-size",size:70,children:Object(r.jsx)(C.InputField.NumberInput,{placeholder:"None",value:d,onSubmit:p,onNudge:h})})]})]})]})}));function Nn(e,t,n,a,o){var i=n.length;return Object(de.a)(t.layers).reverse().flatMap((function(t){var c=[].concat(Object(de.a)(n),[t.do_objectID]),s=c.join("/"),u=function(e){return y.Overrides.canOverrideProperty(a,e,s)},l=Object(r.jsx)(C.TreeView.Row,{isSectionHeader:!0,depth:i,icon:Object(r.jsx)(Fn,{type:t._class}),children:Object(r.jsx)(C.TreeView.RowTitle,{children:t.name})},s+" title");switch(t._class){case"symbolInstance":var d=y.Selectors.findSymbolMaster(e,t.symbolID);if(!d)return[];var f=d.allowsOverrides?Nn(e,d,c,a,o):[],b=s+"_symbolID";return[l,Object(r.jsxs)(C.TreeView.Row,{depth:i+1,children:[Object(r.jsx)(Le,{type:"checkbox",checked:u("symbolID"),onChange:function(e){return o(b,e.target.checked)}}),Object(r.jsx)(C.Spacer.Horizontal,{size:6}),Object(r.jsx)(C.TreeView.RowTitle,{children:"Symbol"})]},b)].concat(Object(de.a)(f));case"text":var h=s+"_stringValue",p=s+"_textStyle";return[l,Object(r.jsxs)(C.TreeView.Row,{depth:i+1,children:[Object(r.jsx)(Le,{type:"checkbox",checked:u("stringValue"),onChange:function(e){return o(h,e.target.checked)}}),Object(r.jsx)(C.Spacer.Horizontal,{size:6}),Object(r.jsx)(C.TreeView.RowTitle,{children:"Text Value"})]},h),t.sharedStyleID&&Object(r.jsxs)(C.TreeView.Row,{depth:i+1,children:[Object(r.jsx)(Le,{type:"checkbox",checked:u("textStyle"),onChange:function(e){return o(p,e.target.checked)}}),Object(r.jsx)(C.Spacer.Horizontal,{size:6}),Object(r.jsx)(C.TreeView.RowTitle,{children:"Text Style"})]},p)];case"bitmap":var j=s+"_image";return[l,Object(r.jsxs)(C.TreeView.Row,{depth:i+1,children:[Object(r.jsx)(Le,{type:"checkbox",checked:u("image"),onChange:function(e){return o(j,e.target.checked)}}),Object(r.jsx)(C.Spacer.Horizontal,{size:6}),Object(r.jsx)(C.TreeView.RowTitle,{children:"Image"})]},j)];default:var m=s+"_layerStyle";return t.sharedStyleID?[l,t.sharedStyleID&&Object(r.jsxs)(C.TreeView.Row,{depth:i+1,children:[Object(r.jsx)(Le,{type:"checkbox",checked:u("layerStyle"),onChange:function(e){return o(m,e.target.checked)}}),Object(r.jsx)(C.Spacer.Horizontal,{size:6}),Object(r.jsx)(C.TreeView.RowTitle,{children:"Layer Style"})]},m)]:[]}}))}var Wn=Object(a.memo)((function(e){var t=e.symbolMaster,n=e.onSetAllowsOverrides,o=e.onSetOverrideProperty,c=Object(k.b)(),s=Nn(Object(i.a)(c,1)[0],t,[],t.overrideProperties,o);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(Te,{children:[Object(r.jsx)(Me,{children:"Manage Overrides"}),Object(r.jsx)(C.Spacer.Vertical,{size:2}),Object(r.jsxs)(Ae,{children:[Object(r.jsx)(Le,{type:"checkbox",checked:t.allowsOverrides,onChange:Object(a.useCallback)((function(e){return n(e.target.checked)}),[n])}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsx)(Re,{children:"Allow Overrides"})]})]}),Object(r.jsx)(C.TreeView.Root,{expandable:!1,children:s})]})})),Un=Object(a.memo)((function(){var e=Object(k.c)(),t=N(Object(k.f)(y.Selectors.getSelectedSymbols))[0],n=[Object(r.jsx)(Vn,{resizesContent:t.resizesContent,hasBackgroundColor:t.hasBackgroundColor,backgroundColor:t.backgroundColor,includeBackgroundColorInExport:t.includeBackgroundColorInExport,includeBackgroundColorInInstance:t.includeBackgroundColorInInstance,setAdjustContentOnResize:Object(a.useCallback)((function(t){e("setAdjustContentOnResize",t)}),[e]),setHasBackgroundColor:Object(a.useCallback)((function(t){e("setHasBackgroundColor",t)}),[e]),setBackgroundColor:Object(a.useCallback)((function(t){e("setBackgroundColor",t)}),[e]),setIncludeBackgroundInInstances:Object(a.useCallback)((function(t){e("setIncludeBackgroundColorInInstance",t)}),[e]),setIncludeBackgroundInExport:Object(a.useCallback)((function(t){e("setIncludeBackgroundColorInExport",t)}),[e])}),Object(r.jsx)(Gn,{groupLayout:t.groupLayout,setLayoutAxis:Object(a.useCallback)((function(t){e("setLayoutAxis",t)}),[e]),setLayoutAnchor:Object(a.useCallback)((function(t){e("setLayoutAnchor",t)}),[e]),setMinWidth:Object(a.useCallback)((function(t,n){e("setMinWidth",t,n)}),[e])}),Object(r.jsx)(Wn,{symbolMaster:t,onSetAllowsOverrides:Object(a.useCallback)((function(t){e("setAllowsOverrides",t)}),[e]),onSetOverrideProperty:Object(a.useCallback)((function(t,n){e("onSetOverrideProperty",t,n)}),[e])})];return Object(r.jsx)(r.Fragment,{children:Object(C.withSeparatorElements)(n,Object(r.jsx)(C.Divider,{}))})})),Yn=Object(a.memo)((function(e){var t,n=e.textLayout,a=e.textHorizontalAlignment,o=e.textVerticalAlignment,i=e.onChangeTextLayout,c=e.onChangeTextHorizontalAlignment,s=e.onChangeTextVerticalAlignment;return Object(r.jsxs)(Te,{children:[Object(r.jsx)(Ie,{children:Object(r.jsx)(Me,{children:"Alignment"})}),Object(r.jsx)(C.Spacer.Vertical,{size:10}),Object(r.jsx)(Ae,{children:Object(r.jsx)(C.LabeledElementView,{renderLabel:function(){return Object(r.jsx)(C.Label.Label,{children:"Auto Height"})},children:Object(r.jsxs)(C.RadioGroup.Root,{id:"text-alignment",value:void 0!==n?n.toString():"",onValueChange:function(e){return i(parseInt(e.target.value))},children:[Object(r.jsx)(C.RadioGroup.Item,{value:T.a.TextBehaviour.Flexible.toString(),tooltip:"Horizontal",children:Object(r.jsx)(S.StretchHorizontallyIcon,{})}),Object(r.jsx)(C.RadioGroup.Item,{value:T.a.TextBehaviour.Fixed.toString(),tooltip:"Vertical",children:Object(r.jsx)(S.StretchVerticallyIcon,{})}),Object(r.jsx)(C.RadioGroup.Item,{value:null===(t=T.a.TextBehaviour.FixedWidthAndHeight)||void 0===t?void 0:t.toString(),tooltip:"Outside",children:Object(r.jsx)(S.SquareIcon,{})})]})})}),Object(r.jsx)(C.Spacer.Vertical,{size:8}),Object(r.jsx)(Ae,{children:Object(r.jsxs)(C.RadioGroup.Root,{id:"text-horizontal-aligment",value:void 0!==a?a.toString():"",onValueChange:function(e){return c(parseInt(e.target.value))},children:[Object(r.jsx)(C.RadioGroup.Item,{value:T.a.TextHorizontalAlignment.Left.toString(),tooltip:"Left",children:Object(r.jsx)(S.TextAlignLeftIcon,{})}),Object(r.jsx)(C.RadioGroup.Item,{value:T.a.TextHorizontalAlignment.Centered.toString(),tooltip:"Center",children:Object(r.jsx)(S.TextAlignCenterIcon,{})}),Object(r.jsx)(C.RadioGroup.Item,{value:T.a.TextHorizontalAlignment.Right.toString(),tooltip:"Right",children:Object(r.jsx)(S.TextAlignRightIcon,{})}),Object(r.jsx)(C.RadioGroup.Item,{value:T.a.TextHorizontalAlignment.Justified.toString(),tooltip:"Justify",children:Object(r.jsx)(S.TextAlignJustifyIcon,{})})]})}),Object(r.jsx)(C.Spacer.Vertical,{size:8}),Object(r.jsx)(Ae,{children:Object(r.jsxs)(C.RadioGroup.Root,{id:"text-vertical-aligment",value:void 0!==o?o.toString():"",onValueChange:function(e){return s(parseInt(e.target.value))},children:[Object(r.jsx)(C.RadioGroup.Item,{value:T.a.TextVerticalAlignment.Top.toString(),tooltip:"Top",children:Object(r.jsx)(S.PinTopIcon,{})}),Object(r.jsx)(C.RadioGroup.Item,{value:T.a.TextVerticalAlignment.Middle.toString(),tooltip:"Middle",children:Object(r.jsx)(S.AlignCenterVerticallyIcon,{})}),Object(r.jsx)(C.RadioGroup.Item,{value:T.a.TextVerticalAlignment.Bottom.toString(),tooltip:"Bottom",children:Object(r.jsx)(S.PinBottomIcon,{})})]})})]})})),Xn=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},Kn=["none","underline","strikethrough"],qn="decoration",Jn="transform",Zn=Object(a.memo)((function(e){var t=e.textTransform,n=e.textDecoration,o=e.onChangeTextTransform,i=e.onChangeTextDecoration,c=Object(a.useCallback)((function(e){switch(e.id){case qn:return Object(r.jsx)(C.Label.Label,{children:"Decoration"});case Jn:return Object(r.jsx)(C.Label.Label,{children:"Transform"});default:return null}}),[]);return Object(r.jsxs)(Te,{children:[Object(r.jsx)(Ie,{children:Object(r.jsx)(Me,{children:"Text Options"})}),Object(r.jsx)(C.Spacer.Vertical,{size:10}),Object(r.jsx)(Ae,{children:Object(r.jsxs)(C.LabeledElementView,{renderLabel:c,children:[Object(r.jsx)(C.Select,{id:qn,value:null!==n&&void 0!==n?n:"none",options:Kn,getTitle:Xn,onChange:i}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsxs)(C.RadioGroup.Root,{id:Jn,value:void 0!==t?t.toString():"",onValueChange:Object(a.useCallback)((function(e){return o(parseInt(e.target.value))}),[o]),children:[Object(r.jsx)(C.RadioGroup.Item,{value:T.a.TextTransform.None.toString(),tooltip:"None",children:Object(r.jsx)(S.LetterCaseCapitalizeIcon,{})}),Object(r.jsx)(C.RadioGroup.Item,{value:T.a.TextTransform.Uppercase.toString(),tooltip:"Uppercase",children:Object(r.jsx)(S.LetterCaseUppercaseIcon,{})}),Object(r.jsx)(C.RadioGroup.Item,{value:T.a.TextTransform.Lowercase.toString(),tooltip:"Lowercase",children:Object(r.jsx)(S.LetterCaseLowercaseIcon,{})})]})]})})]})})),$n=Object(a.memo)((function(e){var t=e.fontColor,n=e.fontSize,o=e.fontFamily,c=e.lineSpacing,s=e.letterSpacing,u=e.paragraphSpacing,l=e.onChangeFontColor,d=e.onChangeFontSize,f=e.onChangeFontFamily,b=e.onChangeFontWeight,h=e.onChangeLineSpacing,p=e.onChangeLetterSpacing,j=e.onChagenParagraphSpacing,m="char",v="line",g="paragraph",O=Object(a.useMemo)((function(){return o.replace("MT","").split("-")}),[o]),y=Object(i.a)(O,2),x=y[0],S=y[1],w=Object(a.useMemo)((function(){return[{id:"",text:"Regular"},{id:"Oblique",text:"Oblique"},{id:"LightOblique",text:"Light Oblique"},{id:"Light",text:"Light"},{id:"Bold",text:"Bold"},{id:"SemiBold",text:"Semi Bold"},{id:"BoldOblique",text:"Bold Oblique"},{id:"Italic",text:"Italic"}]}),[]),k=Object(a.useCallback)((function(e){switch(e.id){case m:return Object(r.jsx)(C.Label.Label,{children:"Character"});case v:return Object(r.jsx)(C.Label.Label,{children:"Line"});case g:return Object(r.jsx)(C.Label.Label,{children:"Paragraph"});default:return null}}),[m,v,g]),P=Object(a.useMemo)((function(){return Object(de.a)(w.map((function(e){return e.id})))}),[w]),T=Object(a.useCallback)((function(e){return w.find((function(t){return t.id===e})).text}),[w]);return Object(r.jsxs)(Te,{children:[Object(r.jsx)(Ie,{children:Object(r.jsx)(Me,{children:"Text"})}),Object(r.jsx)(C.Spacer.Vertical,{size:10}),Object(r.jsx)(Ae,{children:Object(r.jsx)(C.Select,{id:"font-family",value:x,options:["Arial","Helvetica","Verdana","Trebuchet MS","Times","SegoeUI"],getTitle:function(e){return e},onChange:f})}),Object(r.jsx)(C.Spacer.Vertical,{size:6}),Object(r.jsxs)(Ae,{children:[Object(r.jsx)(C.Select,{id:"font-weight",value:S||"Regular",options:P,getTitle:T,onChange:b}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsxs)(C.InputField.Root,{id:"font-size",size:50,children:[Object(r.jsx)(C.InputField.NumberInput,{placeholder:n?"":"multiple",value:n,onSubmit:d}),Object(r.jsx)(C.InputField.Label,{children:"px"})]})]}),Object(r.jsx)(C.Spacer.Vertical,{size:6}),Object(r.jsx)(Ae,{children:Object(r.jsxs)(C.LabeledElementView,{renderLabel:k,children:[Object(r.jsx)(C.InputField.NumberInput,{id:m,placeholder:s?"":"multiple",value:s,onSubmit:h,onNudge:function(){}}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsx)(C.InputField.NumberInput,{id:v,placeholder:void 0===c?"multiple":void 0,value:c,onSubmit:p,onNudge:function(){}}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsx)(C.InputField.NumberInput,{id:g,placeholder:u?"":"multiple",value:u,onSubmit:j,onNudge:function(){}}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsx)(pt,{id:"colorInputId",colorProps:Object(a.useMemo)((function(){return{color:t,onChangeColor:l}}),[t,l])})]})})]})})),Qn=Object(a.memo)((function(){var e=Object(k.b)(),t=Object(i.a)(e,2),n=t[0],o=t[1],c=N(Object(k.f)(y.Selectors.getSelectedTextLayers)),s=N(Object(k.f)(y.Selectors.getSelectedStyles)),u=y.Selectors.getCurrentTab(n),l="canvas"===u?c:s,d=Object(a.useMemo)((function(){return y.TextStyleSelectors.getTextStyleAttributes(l)}),[l]),f=d.fontColor,b=d.fontAlignment,h=d.verticalAlignment,p=d.textTransform,j=d.textDecoration,m=d.horizontalAlignment,v=d.paragraphSpacing,g=d.fontFamily,O=d.fontSize,x=d.lineHeight,S=d.letterSpacing;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)($n,{fontColor:f,fontFamily:g,fontSize:O,letterSpacing:S,lineSpacing:x,paragraphSpacing:v,onChangeFontFamily:Object(a.useCallback)((function(e){o("setTextFontName",e)}),[o]),onChangeFontWeight:Object(a.useCallback)((function(e){o("setTextFontName","-"+e)}),[o]),onChangeFontColor:Object(a.useCallback)((function(e){return o("setTextColor",e)}),[o]),onChangeFontSize:Object(a.useCallback)((function(e){return o("setTextFontSize",e)}),[o]),onChangeLineSpacing:Object(a.useCallback)((function(e){return o("setTextLetterSpacing",e)}),[o]),onChangeLetterSpacing:Object(a.useCallback)((function(e){return o("setTextLineSpacing",e)}),[o]),onChagenParagraphSpacing:Object(a.useCallback)((function(e){return o("setTextParagraphSpacing",e)}),[o])}),Object(r.jsx)(C.Divider,{}),Object(r.jsx)(Yn,{textLayout:"canvas"===u?b:void 0,textVerticalAlignment:h,textHorizontalAlignment:m,onChangeTextLayout:Object(a.useCallback)((function(e){o("setTextAlignment",e)}),[o]),onChangeTextHorizontalAlignment:Object(a.useCallback)((function(e){o("setTextHorizontalAlignment",e)}),[o]),onChangeTextVerticalAlignment:Object(a.useCallback)((function(e){o("setTextVerticalAlignment",e)}),[o])}),Object(r.jsx)(C.Divider,{}),Object(r.jsx)(Zn,{textTransform:p,textDecoration:j,onChangeTextDecoration:Object(a.useCallback)((function(e){return o("setTextDecoration",e)}),[o]),onChangeTextTransform:Object(a.useCallback)((function(e){return o("setTextTransform",e)}),[o])})]})})),er="none",tr=Object(a.memo)((function(){var e=Object(k.b)(),t=Object(i.a)(e,2)[1],n=Object(w.c)().colors.icon,o=N(Object(k.f)(y.Selectors.getSharedTextStyles)),c=N(Object(k.f)(y.Selectors.getSelectedLayers)),s=Object(a.useMemo)((function(){return c.every((function(e){return e.sharedStyleID===c[0].sharedStyleID}))?c[0].sharedStyleID:void 0}),[c]),u=Object(a.useMemo)((function(){return[er].concat(Object(de.a)(o.map((function(e){return e.do_objectID}))))}),[o]),l=Object(a.useCallback)((function(e){return e===er?"No Text Style":o.find((function(t){return t.do_objectID===e})).name}),[o]),d=Object(a.useCallback)((function(e){t("setTextStyle",e===er?void 0:e)}),[t]),f=Object(a.useCallback)((function(){var e=prompt("New Text Style Name");e&&t("addTextStyle",e,c[0].style)}),[c,t]),b=Object(a.useCallback)((function(){if(s){var e=prompt("Rename Text Style");e&&t("setTextStyleName",s,e)}}),[s,t]),h=Object(a.useCallback)((function(){return t("setTextStyle")}),[t]),p=Object(a.useCallback)((function(){s&&t("updateTextStyle",s,c[0].style)}),[s,c,t]),j=Object(a.useCallback)((function(){var e=o.find((function(e){return e.do_objectID===s}));s&&e&&t("setTextStyle",s)}),[s,o,t]);return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(Te,{children:[Object(r.jsx)(Ie,{children:Object(r.jsx)(Me,{children:"Text Style"})}),Object(r.jsx)(C.Spacer.Vertical,{size:10}),Object(r.jsx)(Ae,{children:Object(r.jsx)(C.Select,{id:"theme-text-style",value:s||er,options:u,getTitle:l,onChange:d})}),Object(r.jsx)(C.Spacer.Vertical,{size:10}),Object(r.jsxs)(Ae,{children:[Object(r.jsx)(C.Button,{id:"create-text-style",tooltip:"Create text style from text",onClick:f,children:Object(r.jsx)(S.PlusIcon,{color:n})}),Object(r.jsx)(C.Spacer.Horizontal,{size:10}),Object(r.jsx)(C.Button,{id:"update-text-style",disabled:void 0===s,tooltip:"Update text style to match text",onClick:p,children:Object(r.jsx)(S.UpdateIcon,{color:n})}),Object(r.jsx)(C.Spacer.Horizontal,{size:10}),Object(r.jsx)(C.Button,{id:"detach-text-style",disabled:void 0===s,tooltip:"Detach text from text style",onClick:h,children:Object(r.jsx)(S.LinkBreak2Icon,{color:n})}),Object(r.jsx)(C.Spacer.Horizontal,{size:10}),Object(r.jsx)(C.Button,{id:"rename-text-style",disabled:void 0===s,tooltip:"Rename text style",onClick:b,children:Object(r.jsx)(S.CursorTextIcon,{color:n})}),Object(r.jsx)(C.Spacer.Horizontal,{size:10}),Object(r.jsx)(C.Button,{id:"reset-text-style",disabled:void 0===s,tooltip:"Reset text to text style",onClick:j,children:Object(r.jsx)(S.ResetIcon,{color:n})})]})]})})})),nr=w.b.div((function(e){e.theme;return{flex:"0 0 auto",display:"flex",flexDirection:"row",paddingLeft:"10px",paddingRight:"10px"}})),rr=w.b.div((function(e){var t=e.theme;return Object(c.a)(Object(c.a)({},t.textStyles.small),{},{width:"69px",display:"flex",alignItems:"center"})}));function ar(e){var t=e.width,n=e.isFlippedVertical,o=e.isFlippedHorizontal,c=e.onSetWidth,s=e.onSetIsFlippedVertical,u=e.onSetIsFlippedHorizontal,l=Object(k.b)(),d=Object(i.a)(l,2),f=d[0],b=d[1],h=N(Object(k.f)(y.Selectors.getSelectedLayers).filter(y.isPointsLayer)),p=gt(h.map((function(e){return Object(y.decodeCurvePoint)(e.points[0],e.frame).point.x}))),j=gt(h.map((function(e){return Object(y.decodeCurvePoint)(e.points[0],e.frame).point.y}))),m=gt(h.map((function(e){return Object(y.decodeCurvePoint)(e.points[1],e.frame).point.x}))),v=gt(h.map((function(e){return Object(y.decodeCurvePoint)(e.points[1],e.frame).point.y}))),g=function(e){var t=e.points.map((function(t){return Object(y.decodeCurvePoint)(t,e.frame).point})),n=Object(i.a)(t,2),r=n[0],a=n[1];if(!r||!a)return 0;var o=Math.atan2(a.y-r.y,a.x-r.x);return Object(I.toDegrees)(o)},O=gt(h.map((function(e){return Object(y.clampRotation)(g(e)-e.rotation)}))),x=Object(a.useCallback)((function(e,t){b("setLayerRotation","replace"===t?e-g(h[0]):e,t)}),[b,h]),S=Object(a.useCallback)((function(e,t){var n=Object.fromEntries(f.selectedObjects.map((function(e){return[e,[0]]})));b("setPointX",n,e,t)}),[b,f.selectedObjects]),w=Object(a.useCallback)((function(e,t){var n=Object.fromEntries(f.selectedObjects.map((function(e){return[e,[0]]})));b("setPointY",n,e,t)}),[b,f.selectedObjects]),P=Object(a.useCallback)((function(e,t){var n=Object.fromEntries(f.selectedObjects.map((function(e){return[e,[1]]})));b("setPointX",n,e,t)}),[b,f.selectedObjects]),T=Object(a.useCallback)((function(e,t){var n=Object.fromEntries(f.selectedObjects.map((function(e){return[e,[1]]})));b("setPointY",n,e,t)}),[b,f.selectedObjects]);return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(nr,{children:[Object(r.jsx)(rr,{children:"Start"}),Object(r.jsx)(C.Spacer.Horizontal,{size:16}),Object(r.jsx)(xn,{x:p,y:j,onSetX:S,onSetY:w})]}),Object(r.jsx)(C.Spacer.Vertical,{size:10}),Object(r.jsxs)(nr,{children:[Object(r.jsx)(rr,{children:"End"}),Object(r.jsx)(C.Spacer.Horizontal,{size:16}),Object(r.jsx)(xn,{x:m,y:v,onSetX:P,onSetY:T})]}),Object(r.jsx)(C.Spacer.Vertical,{size:10}),Object(r.jsxs)(nr,{children:[Object(r.jsx)(ee,{value:t,onSetValue:c,label:"\u2194"}),Object(r.jsx)(C.Spacer.Horizontal,{size:16}),Object(r.jsx)(ee,{value:O,onSetValue:x,label:"\xb0"}),Object(r.jsx)(C.Spacer.Horizontal,{size:16}),Object(r.jsx)(oe,{isFlippedVertical:n,isFlippedHorizontal:o,onSetIsFlippedVertical:s,onSetIsFlippedHorizontal:u})]})]})}var or=w.b.div({padding:"0 10px"}),ir=Object(a.memo)((function(){var e,t,n=Object(k.b)(),o=Object(i.a)(n,2),s=o[0],u=o[1],l=N(Object(k.f)(y.Selectors.getSelectedLayers)),d=y.Selectors.getSelectedLayersWithContextSettings(s).length>0,f=y.Selectors.getSelectedLayersWithFixedRadius(s).length>0,b=Object(a.useCallback)((function(e,t){u("setLayerRotation",e,t)}),[u]),h=Object(a.useCallback)((function(e,t){u("setLayerX",e,t)}),[u]),p=Object(a.useCallback)((function(e,t){u("setLayerY",e,t)}),[u]),j=Object(a.useCallback)((function(e,t){u("setLayerWidth",e,t)}),[u]),m=Object(a.useCallback)((function(e,t){u("setLayerHeight",e,t)}),[u]),v=Object(a.useCallback)((function(e){return u("setIsFlippedHorizontal",e)}),[u]),g=Object(a.useCallback)((function(e){return u("setIsFlippedVertical",e)}),[u]),O=null!==(e=vt(l.map((function(e){return e.isFlippedVertical}))))&&void 0!==e&&e,x=null!==(t=vt(l.map((function(e){return e.isFlippedHorizontal}))))&&void 0!==t&&t,S=y.Selectors.getIsEditingPath(s.interactionState.type),w=S&&s.selectedControlPoint,P=Object(a.useMemo)((function(){var e=1===l.length?Object(c.a)(Object(c.a)({},l[0].frame),{},{rotation:y.Selectors.getLayerRotation(l[0])}):{x:void 0,y:void 0,width:void 0,height:void 0,rotation:void 0},t=l.every((function(e){return y.Layers.isBitmapLayer(e)})),n=l.some((function(e){return y.Layers.isTextLayer(e)})),o=l.every((function(e){return y.Layers.isPointsLayer(e)&&Object(y.isLine)(e.points)})),i=l.every((function(e){return y.Layers.isTextLayer(e)})),s=l.some((function(e){return y.Layers.isSymbolMaster(e)})),u=l.some((function(e){return y.Layers.isSymbolInstance(e)})),k=1===l.length&&s,P=1===l.length&&u;if(0===l.length)return null;var T=[Object(r.jsxs)(a.Fragment,{children:[Object(r.jsx)(le,{}),S?Object(r.jsx)(or,{children:w?Object(r.jsx)(Cn,{}):Object(r.jsx)(Sn,{})}):o?Object(r.jsx)(ar,Object(c.a)(Object(c.a)({},e),{},{isFlippedHorizontal:x,isFlippedVertical:O,onSetWidth:j,onSetIsFlippedHorizontal:v,onSetIsFlippedVertical:g})):Object(r.jsx)(ce,Object(c.a)(Object(c.a)({},e),{},{isFlippedHorizontal:x,isFlippedVertical:O,onSetRotation:b,onSetX:h,onSetY:p,onSetWidth:j,onSetHeight:m,onSetIsFlippedHorizontal:v,onSetIsFlippedVertical:g})),Object(r.jsx)(C.Spacer.Vertical,{size:10})]},"layout"),f&&!S&&Object(r.jsx)(wn,{}),S&&Object(r.jsx)(On,{}),d&&Object(r.jsx)(mn,{}),!n&&!s&&!u&&Object(r.jsx)(jn,{}),i&&Object(r.jsx)(tr,{}),n&&Object(r.jsx)(Qn,{}),k&&Object(r.jsx)(Un,{}),P&&Object(r.jsx)(Hn,{}),!u&&1===l.length&&Object(r.jsx)(bn,{title:"Fills",allowMoreThanOne:!0}),l.every(y.Layers.hasInspectableBorder)&&Object(r.jsx)(Ot,{}),l.every(y.Layers.hasInspectableShadow)&&Object(r.jsx)(Pn,{}),t&&Object(r.jsx)(Tt,{}),1===l.length&&Object(r.jsx)(ln,{})].filter((function(e){return!!e}));return Object(C.withSeparatorElements)(T,Object(r.jsx)(C.Divider,{}))}),[l,S,w,x,O,b,h,p,j,m,v,g,f,d]);return"insertArtboard"===s.interactionState.type?Object(r.jsx)(pe,{}):Object(r.jsx)(r.Fragment,{children:P})}));var cr=w.b.header((function(e){var t=e.theme;return{minHeight:"".concat(t.sizes.toolbar.height,"px"),display:"flex",borderBottom:"1px solid transparent",alignItems:"center",backgroundColor:t.colors.sidebar.background,color:t.colors.textMuted}})),sr=w.b.div((function(e){e.theme;return{flex:"1",display:"flex",flexDirection:"row"}})),ur=Object(a.memo)((function(e){var t=e.currentTab,n=e.fileHandle,o=e.getStateSnapshot,i=e.setShowRulers,c=e.showRulers,s=(e.redoDisabled,e.undoDisabled,Object(k.c)()),d=Object(a.useCallback)((function(e){s("setTab",e.target.value)}),[s]),f=Object(a.useMemo)((function(){return Object(C.createSectionedMenu)([{value:"new",title:"File: New"},{value:"open",title:"File: Open"},{value:"save",title:"File: Save"},{value:"saveAs",title:"File: Save As..."}],[{value:"undo",title:"Edit: Undo"},{value:"redo",title:"Edit: Redo"}],[{value:"showRulers",title:"Preferences: Rulers",checked:c}])}),[c]),b=Object(a.useCallback)(function(){var e=Object(l.a)(u.a.mark((function e(t){var r,a,l,d,f,b,h;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=t,e.next="new"===e.t0?3:"open"===e.t0?5:"save"===e.t0||"saveAs"===e.t0?16:"undo"===e.t0?25:"redo"===e.t0?27:"showRulers"===e.t0?29:31;break;case 3:return s("newFile"),e.abrupt("return");case 5:return e.next=7,Object(We.a)({extensions:[".sketch"],mimeTypes:["application/zip"]});case 7:return r=e.sent,e.next=10,r.arrayBuffer();case 10:return a=e.sent,e.next=13,m(a);case 13:return l=e.sent,s("setFile",l,r.handle),e.abrupt("return");case 16:return e.next=18,g(o().sketch);case 18:return f=e.sent,b=new File([f],null!==(d=null===n||void 0===n?void 0:n.name)&&void 0!==d?d:"Untitled.sketch",{type:"application/zip"}),e.next=22,Object(We.b)(b,{fileName:b.name,extensions:[".sketch"]},"save"===t?n:void 0,!1);case 22:return h=e.sent,s("setFileHandle",h),e.abrupt("return");case 25:return s("undo"),e.abrupt("return");case 27:return s("redo"),e.abrupt("return");case 29:return i(!c),e.abrupt("return");case 31:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[s,n,o,i,c]);return Object(r.jsxs)(cr,{children:[Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsxs)(sr,{children:[Object(r.jsx)(C.DropdownMenu,{items:f,onSelect:b,children:Object(r.jsx)(C.Button,{id:"menu",children:Object(r.jsx)(S.HamburgerMenuIcon,{})})}),Object(r.jsx)(C.Spacer.Horizontal,{}),Object(r.jsxs)(C.RadioGroup.Root,{value:t,onValueChange:d,children:[Object(r.jsx)(C.RadioGroup.Item,{value:"canvas",tooltip:"Canvas",children:Object(r.jsx)(S.StackIcon,{})}),Object(r.jsx)(C.RadioGroup.Item,{value:"theme",tooltip:"Theme",children:Object(r.jsx)(S.TokensIcon,{})})]})]}),Object(r.jsx)(C.Spacer.Horizontal,{size:8})]})}));function lr(){var e=Object(k.g)(),t=e.fileHandle,n=e.setShowRulers,o=e.preferences.showRulers,i=Object(k.d)(),c=Object(k.f)(y.Selectors.getCurrentTab),s=function(){var e=Object(k.h)(),t=0===e.history.future.length,n=0===e.history.past.length;return Object(a.useMemo)((function(){return{redoDisabled:t,undoDisabled:n}}),[t,n])}(),u=s.redoDisabled,l=s.undoDisabled;return Object(r.jsx)(ur,{currentTab:c,fileHandle:t,getStateSnapshot:i,redoDisabled:u,undoDisabled:l,showRulers:o,setShowRulers:n})}var dr=w.b.div((function(e){e.theme;return{height:"200px",display:"flex",flexDirection:"column"}})),fr=w.b.div((function(e){var t=e.theme;return Object(c.a)(Object(c.a)({},t.textStyles.small),{},{userSelect:"none",cursor:"pointer",fontWeight:500,paddingTop:"8px",paddingRight:"8px",paddingBottom:"0px",paddingLeft:"20px",display:"flex",alignItems:"center"})})),br=Object(a.memo)((function(e){var t=e.selectedPageId,n=e.pageInfo,o=e.canDelete,i=Object(k.c)(),c=Object(a.useMemo)((function(){return[{value:"duplicate",title:"Duplicate Page"},{value:"rename",title:"Rename Page"}].concat(Object(de.a)(o?[{value:"delete",title:"Delete Page"}]:[]))}),[o]),s=Object(a.useCallback)((function(e){switch(e){case"rename":var t=prompt("New page Name");t&&i("renamePage",t);break;case"duplicate":i("duplicatePage");break;case"delete":i("deletePage")}}),[i]),u=Object(a.useCallback)((function(){var e=prompt("New page Name");null!==e&&i("addPage",e)}),[i]);return Object(r.jsxs)(dr,{children:[Object(r.jsxs)(fr,{children:["Pages",Object(r.jsx)(C.Spacer.Horizontal,{}),Object(r.jsx)(C.Button,{id:"add-page",tooltip:"Add a new page",onClick:u,children:Object(r.jsx)(S.PlusIcon,{})})]}),Object(r.jsx)(C.ListView.Root,{sortable:!0,scrollable:!0,onMoveItem:Object(a.useCallback)((function(e,t,n){e===t||"above"===n&&e+1===t||"below"===n&&e-1===t||i("movePage",e,t)}),[i]),items:n,renderItem:Object(a.useCallback)((function(e,n,a){var o=a.isDragging;return Object(r.jsxs)(C.ListView.Row,{id:e.do_objectID,selected:!o&&t===e.do_objectID,onClick:function(){i("interaction",["reset"]),i("selectPage",e.do_objectID)},menuItems:c,onSelectMenuItem:s,onContextMenu:function(){i("selectPage",e.do_objectID)},children:[Object(r.jsx)(C.Spacer.Horizontal,{size:21}),e.name]},e.do_objectID)}),[t,c,s,i])})]})}));function hr(){var e=Object(k.b)(),t=Object(i.a)(e,1)[0],n=Mn(t.sketch.pages.map((function(e){return{do_objectID:e.do_objectID,name:e.name}})));return Object(r.jsx)(br,{selectedPageId:t.selectedPage,pageInfo:n,canDelete:t.sketch.pages.length>1})}function pr(e){return{name:e,items:[],children:[]}}function jr(e){var t=pr("");return e.forEach((function(e){(function(e){for(var n=t,r=function(){var t=e.shift(),r=n.children.find((function(e){return e.name===t}));if(r)n=r;else{var a=pr(t);n.children.push(a),n=a}};e.length>0;)r();return n})(e.name.split("/").slice(0,-1)).items.push(e)})),t}function mr(e){var t=[];return function(e,t){var n=function(e){return e.children};Object(In.visit)(e,{onEnter:function(r,a){var o=Object(In.accessPath)(e,a,{getChildren:n}).map((function(e){return e.name}));t(r,a,B.delimitedPath.join(o))},getChildren:n})}(e,(function(e,n,r){t.push({name:e.name,items:e.items,path:r,depth:n.length-1})})),t}function vr(e){return mr(jr(e))}var gr=w.b.div((function(e){e.theme;return{height:"100%",display:"flex",flexDirection:"column"}})),Or=w.b.div((function(e){e.theme;return{fontWeight:500}})),yr=Object(a.memo)((function(e){var t=e.array,n=e.onClick,o=e.headerTitle,i=e.selectedGroup,c=N(t),s=Object(a.useMemo)((function(){var e=vr(c);return e.shift(),Object(B.sortBy)(e,"path")}),[c]),u=Object(a.useMemo)((function(){return s.map((function(e){return Object(r.jsxs)(C.ListView.Row,{id:e.name,onClick:function(){return n(e.path)},selected:i===e.path,children:[Object(r.jsx)(C.Spacer.Horizontal,{size:16*e.depth}),Object(r.jsx)(S.GroupIcon,{}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),e.name]},e.name)}))}),[s,i,n]);return Object(r.jsx)(gr,{children:Object(r.jsxs)(C.ListView.Root,{children:[Object(r.jsx)(C.ListView.Row,{onClick:function(){return n("")},selected:""===i,children:Object(r.jsx)(Or,{children:"All Theme ".concat(o)})}),u]})})})),xr=Object(a.memo)((function(){var e=Object(k.b)(),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(k.f)(y.Selectors.getSharedSwatches);return Object(r.jsx)(yr,{array:c,headerTitle:"Colors",onClick:Object(a.useCallback)((function(e){return o("setSelectedSwatchGroup",e)}),[o]),selectedGroup:n.selectedThemeTab.swatches.groupName})})),Sr=Object(a.memo)((function(){var e=Object(k.b)(),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(k.f)(y.Selectors.getSharedTextStyles);return Object(r.jsx)(yr,{array:c,headerTitle:"Texts",onClick:Object(a.useCallback)((function(e){return o("setSelectedTextStyleGroup",e)}),[o]),selectedGroup:n.selectedThemeTab.textStyles.groupName})})),Cr=Object(a.memo)((function(){var e=Object(k.b)(),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(k.f)(y.Selectors.getSharedStyles);return Object(r.jsx)(yr,{array:c,headerTitle:"Styles",onClick:Object(a.useCallback)((function(e){return o("setSelectedThemeStyleGroup",e)}),[o]),selectedGroup:n.selectedThemeTab.layerStyles.groupName})})),wr=Object(a.memo)((function(){var e=Object(k.b)(),t=Object(i.a)(e,2),n=t[0],o=t[1],c=Object(k.f)(y.Selectors.getSymbols);return Object(r.jsx)(yr,{array:c,headerTitle:"Symbols",onClick:Object(a.useCallback)((function(e){return o("setSelectedSymbolGroup",e)}),[o]),selectedGroup:n.selectedThemeTab.symbols.groupName})})),kr=Object(a.memo)((function(){var e=Object(k.f)(y.Selectors.getCurrentComponentsTab),t=Object(a.useMemo)((function(){switch(e){case"swatches":return Object(r.jsx)(xr,{});case"textStyles":return Object(r.jsx)(Sr,{});case"layerStyles":return Object(r.jsx)(Cr,{});case"symbols":return Object(r.jsx)(wr,{})}}),[e]);return Object(r.jsx)(r.Fragment,{children:t})})),Pr=Object(a.memo)((function(e){var t=e.names,n=e.onNameChange,a=t[0],o=t.length>1&&!t.every((function(e){return e===a}))?void 0:a;return Object(r.jsxs)(Te,{children:[Object(r.jsx)(Me,{children:"Name"}),Object(r.jsx)(C.Spacer.Vertical,{size:4}),Object(r.jsx)(Ae,{children:Object(r.jsx)(C.InputField.Root,{children:Object(r.jsx)(C.InputField.Input,{value:o||"",placeholder:void 0===o?"Multiple":"",onChange:n})})})]})})),Tr=Object(a.memo)((function(){var e=Object(k.b)(),t=Object(i.a)(e,2),n=t[0],o=t[1],c=N(Object(k.f)(y.Selectors.getSelectedSwatches)),s=n.selectedThemeTab.swatches.ids,u=vt(c.map((function(e){return e.value})),B.isDeepEqual),l=Object(a.useCallback)((function(e){return o("setSwatchName",c.map((function(e){return e.do_objectID})),e)}),[o,c]),d=Object(a.useCallback)((function(e,t){return o("setSwatchOpacity",s,e,t)}),[o,s]),f=Object(a.useCallback)((function(e){return o("setSwatchColor",s,e)}),[o,s]);return 0===c.length?null:Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Pr,{names:c.map((function(e){return B.delimitedPath.basename(e.name)})),onNameChange:l}),Object(r.jsx)(C.Divider,{}),Object(r.jsx)(Ge,{id:"color-swatch",color:u,onSetOpacity:d,onChangeColor:f})]})})),Ir=Object(a.memo)((function(){var e=Object(k.b)(),t=Object(i.a)(e,2)[1],n=N(Object(k.f)(y.Selectors.getSelectedThemeTextStyles)),o=Object(a.useCallback)((function(e){return t("setTextStyleName",n.map((function(e){return e.do_objectID})),e)}),[t,n]);if(0===n.length)return null;var c=[Object(r.jsx)(Pr,{names:n.map((function(e){return B.delimitedPath.basename(e.name)})),onNameChange:o}),Object(r.jsx)(Qn,{}),Object(r.jsx)(mn,{}),Object(r.jsx)(bn,{title:"Fills",allowMoreThanOne:!0}),Object(r.jsx)(Ot,{}),Object(r.jsx)(Pn,{})];return Object(r.jsx)(r.Fragment,{children:Object(C.withSeparatorElements)(c,Object(r.jsx)(C.Divider,{}))})})),Mr=Object(a.memo)((function(){var e=Object(k.b)(),t=Object(i.a)(e,2)[1],n=N(Object(k.f)(y.Selectors.getSelectedLayerStyles)),o=Object(a.useCallback)((function(e){return t("setThemeStyleName",n.map((function(e){return e.do_objectID})),e)}),[t,n]);if(0===n.length)return null;var c=[Object(r.jsx)(Pr,{names:n.map((function(e){return B.delimitedPath.basename(e.name)})),onNameChange:o}),Object(r.jsx)(mn,{}),Object(r.jsx)(bn,{title:"Fills",allowMoreThanOne:!0}),Object(r.jsx)(Ot,{}),Object(r.jsx)(Pn,{})];return Object(r.jsx)(r.Fragment,{children:Object(C.withSeparatorElements)(c,Object(r.jsx)(C.Divider,{}))})})),Ar=Object(a.memo)((function(){var e=Object(k.b)(),t=Object(i.a)(e,2)[1],n=N(Object(k.f)(y.Selectors.getSelectedSymbols)),o=Object(a.useCallback)((function(e){return t("setSymbolName",n.map((function(e){return e.do_objectID})),e)}),[t,n]);if(0===n.length)return null;var c=1===n.length,s=[Object(r.jsx)(Pr,{names:n.map((function(e){return B.delimitedPath.basename(e.name)})),onNameChange:o}),c&&Object(r.jsx)(Un,{})];return Object(r.jsx)(r.Fragment,{children:Object(C.withSeparatorElements)(s,Object(r.jsx)(C.Divider,{}))})})),Fr=Object(a.memo)((function(){var e=Object(k.f)(y.Selectors.getCurrentComponentsTab),t=Object(a.useMemo)((function(){switch(e){case"swatches":return Object(r.jsx)(Tr,{});case"textStyles":return Object(r.jsx)(Ir,{});case"layerStyles":return Object(r.jsx)(Mr,{});case"symbols":return Object(r.jsx)(Ar,{});default:return null}}),[e]);return Object(r.jsx)(r.Fragment,{children:t})})),Lr=w.b.header((function(e){var t=e.theme;return{minHeight:"".concat(t.sizes.toolbar.height,"px"),display:"flex",borderBottom:"1px solid ".concat(t.colors.dividerStrong),alignItems:"center",backgroundColor:t.colors.sidebar.background,color:t.colors.textMuted}})),Rr=w.b.div((function(e){e.theme;return{minWidth:"".concat(216,"px"),maxWidth:"".concat(216,"px"),height:"27px",display:"flex",flex:"1"}})),Dr=w.b.div((function(e){e.theme;return{flex:"1 1 0",display:"flex",flexDirection:"row"}}));function _r(){var e=Object(k.b)(),t=Object(i.a)(e,2)[1],n=Object(w.c)().sizes.sidebarWidth,o=Object(k.f)(y.Selectors.getCurrentComponentsTab),c=Object(a.useCallback)((function(e){t("setThemeTab",e.target.value)}),[t]),s=Object(a.useCallback)((function(){return t("addSwatch")}),[t]),u=Object(a.useCallback)((function(){return t("addThemeStyle")}),[t]),l=Object(a.useCallback)((function(){return t("addTextStyle")}),[t]),d=Object(a.useCallback)((function(){return t("removeSwatch")}),[t]),f=Object(a.useCallback)((function(){return t("removeTextStyle")}),[t]),b=Object(a.useCallback)((function(){return t("removeThemeStyle")}),[t]),h=Object(a.useCallback)((function(){switch(o){case"swatches":s();break;case"textStyles":l();break;case"layerStyles":u()}}),[o,s,u,l]),p=Object(a.useCallback)((function(){switch(o){case"swatches":d();break;case"textStyles":f();break;case"layerStyles":b()}}),[o,d,b,f]);return Object(a.useMemo)((function(){return Object(r.jsxs)(Lr,{children:[Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsx)(C.Spacer.Horizontal,{}),Object(r.jsx)(Rr,{children:Object(r.jsxs)(C.RadioGroup.Root,{id:"components",value:o,onValueChange:c,children:[Object(r.jsx)(C.RadioGroup.Item,{value:"swatches",tooltip:"Theme colors",children:Object(r.jsx)(S.BlendingModeIcon,{})}),Object(r.jsx)(C.RadioGroup.Item,{value:"textStyles",tooltip:"Theme text styles",children:Object(r.jsx)(S.LetterCaseToggleIcon,{})}),Object(r.jsx)(C.RadioGroup.Item,{value:"layerStyles",tooltip:"Theme layer styles",children:Object(r.jsx)(S.MarginIcon,{})}),Object(r.jsx)(C.RadioGroup.Item,{value:"symbols",tooltip:"Theme symbols",children:Object(r.jsx)(S.ComponentInstanceIcon,{})})]})}),Object(r.jsxs)(Dr,{children:[Object(r.jsx)(C.Spacer.Horizontal,{size:24}),"symbols"!==o&&Object(r.jsx)(C.Button,{id:"add-component",onClick:h,children:Object(r.jsx)(S.PlusIcon,{})}),Object(r.jsx)(C.Spacer.Horizontal,{size:4}),Object(r.jsx)(C.Button,{id:"remove-component",onClick:p,children:Object(r.jsx)(S.TrashIcon,{})})]}),Object(r.jsx)(C.Spacer.Horizontal,{size:n+8})]})}),[n,o,c,h,p])}var Er=[{value:"duplicate",title:"Duplicate"},{value:"group",title:"Group"},{value:"ungroup",title:"Ungroup"},C.SEPARATOR_ITEM,{value:"delete",title:"Delete"}],Br=n(16);function zr(e){var t=e.style,n=e.size,o=Object(a.useMemo)((function(){return Br.b.rectangle({fixedRadius:6,frame:Br.b.rect(Object(I.center)({width:60,height:60},n)),style:t})}),[t,n]);return Object(r.jsx)(x.l,{layer:o})}var Hr=Object(a.memo)((function(e){var t=e.style;return Object(r.jsx)(an,{renderContent:function(e){return Object(r.jsx)(zr,{style:t,size:e})}})})),Vr=Object(a.memo)((function(e){var t=e.sharedStyles,n=e.selectedThemeStyleIds,o=e.onGroupThemeStyle,i=e.onDeleteThemeStyle,c=e.onSelectThemeStyle,s=e.onDuplicateThemeStyle,u=B.delimitedPath.basename,l=Object(a.useCallback)((function(e){switch(e){case"delete":i();break;case"group":var t=prompt("Group Name");if(!t)return;o(n,t);break;case"ungroup":o(n),c();break;case"duplicate":s(n)}}),[i,c,o,s,n]),d=Object(a.useMemo)((function(){var e=vr(t).filter((function(e){return e.items.length}));return Object(B.sortBy)(e,"path")}),[t]),f=Object(a.useCallback)((function(e){n.includes(e)||c(e)}),[n,c]);return Object(r.jsx)(C.GridView.Root,{onClick:function(){return c(void 0,"replace")},children:d.map((function(e,t){return Object(r.jsxs)(a.Fragment,{children:[e.path&&Object(r.jsx)(C.GridView.SectionHeader,{title:e.path}),Object(r.jsx)(C.GridView.Section,{children:e.items.map((function(e){return Object(r.jsx)(C.GridView.Item,{id:e.do_objectID,title:u(e.name),menuItems:Er,selected:n.includes(e.do_objectID),onSelectMenuItem:l,onContextMenu:function(){return f(e.do_objectID)},onClick:function(t){return c(e.do_objectID,t.shiftKey?"intersection":"replace")},children:Object(r.jsx)(Hr,{style:e.value})},e.do_objectID)}))})]},t)}))})})),Gr=n(7);function Nr(e){var t=e.name,n=e.style,o=e.size,i=Object(a.useMemo)((function(){var e=Object(Gr.a)(Br.b.text(),(function(e){var r;e.do_objectID=Object(B.uuid)(),e.style=n,e.attributedString.string=t;var a,o=null===(r=e.style.textStyle)||void 0===r?void 0:r.encodedAttributes;o&&(e.attributedString.attributes=[{_class:"stringAttribute",location:0,length:t.length,attributes:o}],o.paragraphStyle=null!==(a=o.paragraphStyle)&&void 0!==a?a:{_class:"paragraphStyle"},o.paragraphStyle.alignment=T.a.TextHorizontalAlignment.Centered)}));return e.frame=Object(c.a)(Object(c.a)({},e.frame),{},{x:0,y:0,width:o.width,height:o.height}),e}),[o,n,t]),s=Object(x.r)(i),u=Object(a.useMemo)((function(){var e=Math.ceil(s.getMaxWidth()),t=s.getHeight();return Object(c.a)(Object(c.a)({},i),{},{frame:Object(c.a)(Object(c.a)({},i.frame),Object(I.center)({width:e,height:t},o))})}),[i,s,o]);return Object(r.jsx)(x.l,{layer:u})}var Wr=Object(a.memo)((function(e){var t,n=e.name,o=e.style,i=null===(t=o.textStyle)||void 0===t?void 0:t.encodedAttributes.MSAttributedStringColorAttribute,c=Object(a.useMemo)((function(){if(!i)return"white";var e=Object(C.sketchColorToRgba)(i);return.2126*e.r+.7152*e.g+.0722*e.b<128?"white":"black"}),[i]);return Object(r.jsx)(an,{background:c,renderContent:function(e){return Object(r.jsx)(Nr,{name:n,style:o,size:e})}})})),Ur=Object(a.memo)((function(e){var t=e.sharedStyles,n=e.selectedTextStyles,o=e.onGroupTextStyle,c=e.onDuplicateTextStyle,s=e.onDeleteTextStyle,u=e.onSelectTextStyle,l=Object(a.useCallback)((function(e){switch(e){case"delete":s();break;case"group":var t=prompt("Group Name");if(!t)return;o(n,t);break;case"ungroup":o(n),u();break;case"duplicate":c(n)}}),[s,o,c,u,n]),d=Object(a.useMemo)((function(){var e=vr(t).filter((function(e){return e.items.length}));return Object(B.sortBy)(e,"path")}),[t]),f=Object(a.useCallback)((function(e){n.includes(e)||u(e)}),[n,u]);return Object(r.jsx)(C.GridView.Root,{onClick:function(){return u(void 0,"replace")},children:d.map((function(e,t){return Object(r.jsxs)(a.Fragment,{children:[e.path&&Object(r.jsx)(C.GridView.SectionHeader,{title:e.path}),Object(r.jsx)(C.GridView.Section,{children:e.items.map((function(e){var t,a=B.delimitedPath.basename(e.name),o=null===(t=e.value.textStyle)||void 0===t?void 0:t.encodedAttributes,c=null===o||void 0===o?void 0:o.MSAttributedStringFontAttribute.attributes;if(!c)return null;var s=c.name.replace("MT","").split("-"),d=Object(i.a)(s,2),b=d[0],h=d[1];return Object(r.jsx)(C.GridView.Item,{id:e.do_objectID,selected:n.includes(e.do_objectID),title:a,subtitle:"".concat(b," (").concat(h||"Regular",") - ").concat(c.size),menuItems:Er,onSelectMenuItem:l,onContextMenu:function(){return f(e.do_objectID)},onClick:function(t){return u(e.do_objectID,t.shiftKey?"intersection":"replace")},children:Object(r.jsx)(Wr,{name:a,style:e.value})},e.do_objectID)}))})]},t)}))})})),Yr=n(32);function Xr(e){var t=e.color,n=e.size,o=Object(x.o)(),i=Object(Y.useColorFill)(t),c=Object(a.useMemo)((function(){var e=new o.Path;return e.addOval(o.XYWHRect(0,0,n.width,n.height)),e}),[o,n]);return Object(Y.useDeletable)(c),Object(r.jsx)(x.h,{path:c,paint:i})}var Kr=Object(a.memo)((function(e){var t=e.value,n=Object(a.useMemo)((function(){return Object(C.sketchColorToRgbaString)(t)}),[t]),o=Object(a.useMemo)((function(){return{width:60,height:60}}),[]);return Object(r.jsx)(tn,{width:o.width,height:o.height,renderContent:function(){return Object(r.jsx)(Xr,{color:n,size:o})}})})),qr=Object(a.memo)((function(e){var t=e.swatches,n=e.selectedSwatchIds,o=e.onGroupSwatch,i=e.onDeleteSwatch,c=e.onSelectSwatch,s=e.onDuplicateSwatch,u=B.delimitedPath.basename,l=Object(a.useCallback)((function(e){switch(e){case"duplicate":s(n);break;case"delete":i();break;case"group":var t=prompt("Group Name");if(!t)return;o(n,t);break;case"ungroup":o(n),c()}}),[c,o,i,s,n]),d=Object(a.useCallback)((function(e){n.includes(e)||c(e)}),[n,c]),f=Object(a.useMemo)((function(){var e=vr(t).filter((function(e){return e.items.length}));return Object(B.sortBy)(e,"path")}),[t]);return Object(r.jsx)(C.GridView.Root,{onClick:function(){return c(void 0,"replace")},children:f.map((function(e,t){return Object(r.jsxs)(a.Fragment,{children:[e.path&&Object(r.jsx)(C.GridView.SectionHeader,{title:e.path}),Object(r.jsx)(C.GridView.Section,{children:e.items.map((function(e){var t=Object(C.sketchColorToRgba)(e.value),a=Object(Yr.rgbaToHex)(t),o="".concat(Math.round(100*t.a),"%");return Object(r.jsx)(C.GridView.Item,{id:e.do_objectID,title:u(e.name),subtitle:"".concat(a," \u2014 ").concat(o),selected:n.includes(e.do_objectID),onClick:function(t){return c(e.do_objectID,t.shiftKey?"intersection":"replace")},onContextMenu:function(){return d(e.do_objectID)},menuItems:Er,onSelectMenuItem:l,children:Object(r.jsx)(Kr,{value:e.value})},e.do_objectID)}))})]},t)}))})})),Jr=Object(a.memo)((function(e){var t=e.layer;return Object(r.jsx)(an,{renderContent:function(e){return Object(r.jsx)(x.g,{layer:t,size:e,padding:10,scalingMode:"down"})}})})),Zr=Object(a.memo)((function(e){var t=e.symbols,n=e.selectedSymbolsIds,o=e.onDeleteSymbol,i=e.onGroupSymbol,c=e.onSelectSymbol,s=e.onDuplicateSymbol,u=B.delimitedPath.basename,l=Object(a.useCallback)((function(e){switch(e){case"delete":o(n);break;case"group":var t=prompt("Group Name");if(!t)return;i(n,t);break;case"ungroup":i(n),c();break;case"duplicate":s(n)}}),[i,o,c,s,n]),d=Object(a.useMemo)((function(){var e=vr(t).filter((function(e){return e.items.length}));return Object(B.sortBy)(e,"path")}),[t]),f=Object(a.useCallback)((function(e){n.includes(e)||c(e)}),[c,n]);return Object(r.jsx)(C.GridView.Root,{onClick:function(){return c(void 0,"replace")},children:d.map((function(e,t){return Object(r.jsxs)(a.Fragment,{children:[e.path&&Object(r.jsx)(C.GridView.SectionHeader,{title:e.path}),Object(r.jsx)(C.GridView.Section,{children:e.items.map((function(e){return Object(r.jsx)(C.GridView.Item,{id:e.do_objectID,title:u(e.name),menuItems:Er,onSelectMenuItem:l,onContextMenu:function(){return f(e.do_objectID)},selected:n.includes(e.do_objectID),onClick:function(t){return c(e.do_objectID,t.shiftKey?"intersection":"replace")},children:Object(r.jsx)(Jr,{layer:e})},e.do_objectID)}))})]},t)}))})})),$r=w.b.main((function(e){e.theme;return{flex:"1",display:"flex",flexDirection:"column"}})),Qr=Object(a.memo)((function(){var e=Object(k.b)(),t=Object(i.a)(e,2),n=t[0],o=t[1],c=n.selectedThemeTab.layerStyles.groupName,s=N(Object(k.f)(y.Selectors.getSharedStyles)),u=Object(a.useMemo)((function(){return s.filter((function(e){return e.name.startsWith(c)}))}),[s,c]);return Object(r.jsx)(Vr,{sharedStyles:u,selectedThemeStyleIds:n.selectedThemeTab.layerStyles.ids,onGroupThemeStyle:Object(a.useCallback)((function(e,t){o("groupThemeStyle",e,t)}),[o]),onSelectThemeStyle:Object(a.useCallback)((function(e,t){o("selectThemeStyle",e,t)}),[o]),onDuplicateThemeStyle:Object(a.useCallback)((function(e){return o("duplicateThemeStyle",e)}),[o]),onDeleteThemeStyle:Object(a.useCallback)((function(){return o("removeThemeStyle")}),[o])})})),ea=Object(a.memo)((function(){var e=Object(k.b)(),t=Object(i.a)(e,2),n=t[0],o=t[1],c=n.selectedThemeTab.swatches.groupName,s=N(Object(k.f)(y.Selectors.getSharedSwatches)),u=Object(a.useMemo)((function(){return s.filter((function(e){return e.name.startsWith(c)}))}),[s,c]);return Object(r.jsx)(qr,{swatches:u,selectedSwatchIds:n.selectedThemeTab.swatches.ids,onGroupSwatch:Object(a.useCallback)((function(e,t){o("groupSwatch",e,t)}),[o]),onDuplicateSwatch:Object(a.useCallback)((function(e){return o("duplicateSwatch",e)}),[o]),onDeleteSwatch:Object(a.useCallback)((function(){o("removeSwatch")}),[o]),onSelectSwatch:Object(a.useCallback)((function(e,t){o("selectSwatch",e,t)}),[o])})})),ta=Object(a.memo)((function(){var e=Object(k.b)(),t=Object(i.a)(e,2),n=t[0],o=t[1],c=N(Object(k.f)(y.Selectors.getSharedTextStyles)),s=n.selectedThemeTab.textStyles.groupName,u=Object(a.useMemo)((function(){return c.filter((function(e){return e.name.startsWith(s)}))}),[c,s]);return Object(r.jsx)(Ur,{sharedStyles:u,selectedTextStyles:n.selectedThemeTab.textStyles.ids,onGroupTextStyle:Object(a.useCallback)((function(e,t){o("groupTextStyle",e,t)}),[o]),onSelectTextStyle:Object(a.useCallback)((function(e,t){o("selectTextStyle",e,t)}),[o]),onDuplicateTextStyle:Object(a.useCallback)((function(e){o("duplicateTextStyle",e)}),[o]),onDeleteTextStyle:Object(a.useCallback)((function(){return o("removeTextStyle")}),[o])})})),na=Object(a.memo)((function(){var e=Object(k.b)(),t=Object(i.a)(e,2),n=t[0],o=t[1],c=N(Object(k.f)(y.Selectors.getSymbols)),s=n.selectedThemeTab.symbols.groupName,u=Object(a.useMemo)((function(){return c.filter((function(e){return e.name.startsWith(s)}))}),[c,s]);return Object(r.jsx)(Zr,{symbols:u,selectedSymbolsIds:n.selectedThemeTab.symbols.ids,onSelectSymbol:Object(a.useCallback)((function(e,t){o("selectSymbol",e,t)}),[o]),onGroupSymbol:Object(a.useCallback)((function(e,t){o("groupSymbol",e,t)}),[o]),onDeleteSymbol:Object(a.useCallback)((function(e){return o("deleteSymbol",e)}),[o]),onDuplicateSymbol:Object(a.useCallback)((function(e){return o("duplicateLayer",e)}),[o])})})),ra=Object(a.memo)((function(){var e=Object(k.f)(y.Selectors.getCurrentComponentsTab),t=Object(a.useMemo)((function(){switch(e){case"swatches":return Object(r.jsx)(ea,{});case"textStyles":return Object(r.jsx)(ta,{});case"layerStyles":return Object(r.jsx)(Qr,{});case"symbols":return Object(r.jsx)(na,{})}}),[e]);return Object(r.jsx)($r,{children:t})})),aa=function(e){var t=e.color,n=void 0===t?"currentColor":t,a=Object(te.a)(e,["color"]);return Object(r.jsxs)("svg",Object(c.a)(Object(c.a)({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},a),{},{children:[Object(r.jsx)("rect",{x:"1.5",y:"9.5",width:"4",height:"4",rx:"2",stroke:n}),Object(r.jsx)("rect",{x:"9.5",y:"1.5",width:"4",height:"4",rx:"2",stroke:n}),Object(r.jsx)("circle",{cx:"11.5",cy:"3.5",r:"0.5",fill:n}),Object(r.jsx)("rect",{x:"4.67157",y:"9.62132",width:"7",height:"1",transform:"rotate(-45 4.67157 9.62132)",fill:n})]}))},oa=w.b.header((function(e){var t=e.theme;return{minHeight:"".concat(t.sizes.toolbar.height,"px"),display:"flex",borderBottom:"1px solid ".concat(t.colors.dividerStrong),alignItems:"center",backgroundColor:t.colors.sidebar.background,color:t.colors.textMuted}})),ia=w.b.div((function(e){e.theme;return{display:"flex",alignItems:"center",minWidth:"50px"}})),ca="symbol:",sa=Object(a.memo)((function(e){var t=e.interactionType,n=e.selectedLayerIds,o=Object(k.c)(),i=Object(w.c)().sizes.toolbar.itemSeparator,c=Object(k.f)(y.Selectors.getSymbols).map((function(e){return{title:e.name,value:"".concat(ca).concat(e.do_objectID)}})),s=Object(C.createSectionedMenu)([{title:"Artboard",value:"artboard"},{title:"Rectangle",value:"rectangle"},{title:"Oval",value:"oval"},{title:"Vector",value:"vector"},{title:"Text",value:"text"}],c),u="insertArtboard"===t,l="insertRectangle"===t,d="insertOval"===t,f="insertText"===t,b=y.Selectors.getIsEditingPath(t),h="drawingShapePath"===t,p="panMode"===t||"maybePan"===t||"panning"===t,j=Object(a.useCallback)((function(){o("interaction",u?["reset"]:["insertArtboard"])}),[o,u]),m=Object(a.useCallback)((function(){o("interaction",l?["reset"]:["insertRectangle"])}),[l,o]),v=Object(a.useCallback)((function(){o("interaction",d?["reset"]:["insertOval"])}),[d,o]),g=Object(a.useCallback)((function(){o("interaction",f?["reset"]:["insertText"])}),[f,o]),O=Object(a.useCallback)((function(){o("interaction",h?["reset"]:["drawingShapePath"])}),[h,o]),x=Object(a.useCallback)((function(e){if(e.startsWith(ca)){var t=e.replace(ca,"");o("interaction",["insertingSymbol",t,void 0])}else switch(e){case"artboard":o("interaction",["insertArtboard"]);break;case"rectangle":o("interaction",["insertRectangle"]);break;case"oval":o("interaction",["insertOval"]);break;case"text":o("interaction",["insertText"]);break;case"vector":o("interaction",["drawingShapePath"])}}),[o]);return E({a:j,r:m,o:v,t:g,p:O,v:O,"Mod-z":Object(a.useCallback)((function(){return o("undo")}),[o]),"Mod-Shift-z":Object(a.useCallback)((function(){return o("redo")}),[o])}),E("keydown",{Space:function(){"none"===t&&o("interaction",["enablePanMode"])}}),E("keyup",{Space:function(){p&&o("interaction",["reset"])}}),Object(r.jsxs)(oa,{children:[Object(r.jsx)(C.Spacer.Horizontal,{size:i}),Object(r.jsx)(ia,{children:Object(r.jsx)(C.DropdownMenu,{items:s,onSelect:x,children:Object(r.jsx)(C.Button,{id:"insert-stymbol",children:Object(a.useMemo)((function(){return Object(r.jsxs)(r.Fragment,{children:["Insert",Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsx)(S.ChevronDownIcon,{})]})}),[])})})}),Object(r.jsx)(C.Spacer.Horizontal,{size:8}),Object(r.jsx)(C.Spacer.Horizontal,{size:i}),Object(r.jsx)(C.Button,{id:"edit-path",tooltip:"Edit path",active:b,disabled:0===n.length,onClick:Object(a.useCallback)((function(){o("interaction",b?["reset"]:["editPath"])}),[b,o]),children:Object(a.useMemo)((function(){return Object(r.jsx)(aa,{})}),[])})]})}));function ua(){var e=Object(k.b)(),t=Object(i.a)(e,1)[0],n=N(t.selectedObjects);return Object(r.jsx)(sa,{interactionType:t.interactionState.type,selectedLayerIds:n})}var la=w.b.div((function(e){var t=e.theme;return{flex:"0 0 ".concat(t.sizes.sidebarWidth,"px"),maxWidth:"".concat(t.sizes.sidebarWidth,"px"),borderRight:"1px solid ".concat(t.colors.dividerStrong),display:"flex",flexDirection:"column",backgroundColor:t.colors.sidebar.background,color:t.colors.textMuted,WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)"}})),da=w.b.div((function(e){var t=e.theme;return{flex:"0 0 ".concat(t.sizes.sidebarWidth,"px"),maxWidth:"".concat(t.sizes.sidebarWidth,"px"),borderLeft:"1px solid ".concat(t.colors.dividerStrong),display:"flex",flexDirection:"column",backgroundColor:t.colors.sidebar.background,color:t.colors.textMuted,WebkitBackdropFilter:"blur(10px)",backdropFilter:"blur(10px)"}})),fa=w.b.main((function(e){e.theme;return{flex:"1",display:"flex",flexDirection:"column"}})),ba=w.b.div((function(e){e.theme;return{flex:"1",display:"flex"}})),ha=w.b.div((function(e){e.theme;return{minHeight:"32px",marginLeft:"8px",marginRight:"8px",display:"flex"}})),pa=Object(a.memo)((function(){var e=Object(a.useState)(""),t=Object(i.a)(e,2),n=t[0],o=t[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(la,{children:[Object(r.jsx)(lr,{}),Object(r.jsx)(ha,{children:Object(r.jsxs)(C.InputField.Root,{labelPosition:"start",labelSize:14,children:[Object(r.jsx)(C.InputField.Input,{value:n,onChange:o,placeholder:"Filter layers"}),Object(r.jsx)(C.InputField.Label,{children:Object(r.jsx)(S.MagnifyingGlassIcon,{})})]})}),Object(r.jsx)(C.Spacer.Vertical,{size:4}),Object(r.jsx)(hr,{}),Object(r.jsx)(C.Divider,{}),Object(r.jsx)(Rn,{})]}),Object(r.jsxs)(fa,{children:[Object(r.jsx)(ua,{}),Object(r.jsxs)(ba,{children:[Object(r.jsx)(Q,{}),Object(r.jsx)(da,{children:Object(r.jsx)(C.ScrollArea,{children:Object(r.jsx)(ir,{})})})]})]})]})})),ja=Object(a.memo)((function(){return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(la,{children:[Object(r.jsx)(lr,{}),Object(r.jsx)(C.Spacer.Vertical,{size:4}),Object(r.jsx)(kr,{})]}),Object(r.jsxs)(fa,{children:[Object(r.jsx)(_r,{}),Object(r.jsxs)(ba,{children:[Object(r.jsx)(ra,{}),Object(r.jsx)(da,{children:Object(r.jsx)(C.ScrollArea,{children:Object(r.jsx)(Fr,{})})})]})]})]})}));function ma(){var e=Object(P.a)(),t=Object(k.f)(y.Selectors.getCurrentTab);return Object(r.jsx)(w.a,{theme:"dark"===e?C.darkTheme:C.lightTheme,children:"canvas"===t?Object(r.jsx)(pa,{}):Object(r.jsx)(ja,{})})}var va=n(118),ga=n.n(va);function Oa(){return(Oa=Object(l.a)(u.a.mark((function e(t,n){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ga()(t);case 2:if((r=e.sent).ok){e.next=5;break}throw new Error("".concat(r.status," ").concat(r.statusText));case 5:e.t0=n,e.next="text"===e.t0?8:"arrayBuffer"===e.t0?9:"json"===e.t0?10:11;break;case 8:return e.abrupt("return",r.text());case 9:return e.abrupt("return",r.arrayBuffer());case 10:return e.abrupt("return",r.json());case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ya={};function xa(e,t){return e in ya||(ya[e]=new B.SuspendedValue(function(e,t){return Oa.apply(this,arguments)}(e,t))),ya[e].getValueOrThrow()}function Sa(){var e=Object(x.o)(),t=xa("/Demo.sketch","arrayBuffer"),n=Object(a.useMemo)((function(){return function(t,n){switch(n.type){case"set":return{type:"success",value:Object(y.createInitialWorkspaceState)(n.value)};case"update":return"success"===t.type?{type:"success",value:Object(y.workspaceReducer)(t.value,n.value,e)}:t}}}),[e]),o=Object(a.useReducer)(n,{type:"pending"}),c=Object(i.a)(o,2),s=c[0],u=c[1];Object(a.useEffect)((function(){m(t).then((function(e){u({type:"set",value:e})}))}),[t]);var l=Object(a.useCallback)((function(e){u({type:"update",value:e})}),[]);return"success"!==s.type?null:Object(r.jsx)(k.a,{state:s.value,dispatch:l,children:Object(r.jsx)(x.f,{children:Object(r.jsx)(x.c,{children:Object(r.jsx)(ma,{})})})})}function Ca(){return Object(r.jsx)(x.a,{children:Object(r.jsx)(Sa,{})})}n(259);o.render(Object(r.jsx)(a.StrictMode,{children:Object(r.jsx)(a.Suspense,{fallback:"Loading...",children:Object(r.jsx)(Ca,{})})}),document.getElementById("root"))}],[[260,1,2]]]);
//# sourceMappingURL=main.ee0643e9.chunk.js.map